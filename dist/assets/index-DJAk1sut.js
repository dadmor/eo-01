var rp=s=>{throw TypeError(s)};var Jc=(s,r,n)=>r.has(s)||rp("Cannot "+n);var E=(s,r,n)=>(Jc(s,r,"read from private field"),n?n.call(s):r.get(s)),ae=(s,r,n)=>r.has(s)?rp("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(s):r.set(s,n),J=(s,r,n,a)=>(Jc(s,r,"write to private field"),a?a.call(s,n):r.set(s,n),n),me=(s,r,n)=>(Jc(s,r,"access private method"),n);var zo=(s,r,n,a)=>({set _(o){J(s,r,o,n)},get _(){return E(s,r,a)}});(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function gm(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function m0(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var r=s.default;if(typeof r=="function"){var n=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(a){var o=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return s[a]}})}),n}var Xc={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function y0(){if(np)return ge;np=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function v(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,x={};function S(j,F,se){this.props=j,this.context=F,this.refs=x,this.updater=se||k}S.prototype.isReactComponent={},S.prototype.setState=function(j,F){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,F,"setState")},S.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function z(){}z.prototype=S.prototype;function I(j,F,se){this.props=j,this.context=F,this.refs=x,this.updater=se||k}var L=I.prototype=new z;L.constructor=I,N(L,S.prototype),L.isPureReactComponent=!0;var D=Array.isArray,B=Object.prototype.hasOwnProperty,V={current:null},re={key:!0,ref:!0,__self:!0,__source:!0};function he(j,F,se){var xe,ye={},Ae=null,Se=null;if(F!=null)for(xe in F.ref!==void 0&&(Se=F.ref),F.key!==void 0&&(Ae=""+F.key),F)B.call(F,xe)&&!re.hasOwnProperty(xe)&&(ye[xe]=F[xe]);var Oe=arguments.length-2;if(Oe===1)ye.children=se;else if(1<Oe){for(var Ce=Array(Oe),St=0;St<Oe;St++)Ce[St]=arguments[St+2];ye.children=Ce}if(j&&j.defaultProps)for(xe in Oe=j.defaultProps,Oe)ye[xe]===void 0&&(ye[xe]=Oe[xe]);return{$$typeof:s,type:j,key:Ae,ref:Se,props:ye,_owner:V.current}}function H(j,F){return{$$typeof:s,type:j.type,key:F,ref:j.ref,props:j.props,_owner:j._owner}}function K(j){return typeof j=="object"&&j!==null&&j.$$typeof===s}function we(j){var F={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(se){return F[se]})}var G=/\/+/g;function Pe(j,F){return typeof j=="object"&&j!==null&&j.key!=null?we(""+j.key):F.toString(36)}function Xe(j,F,se,xe,ye){var Ae=typeof j;(Ae==="undefined"||Ae==="boolean")&&(j=null);var Se=!1;if(j===null)Se=!0;else switch(Ae){case"string":case"number":Se=!0;break;case"object":switch(j.$$typeof){case s:case r:Se=!0}}if(Se)return Se=j,ye=ye(Se),j=xe===""?"."+Pe(Se,0):xe,D(ye)?(se="",j!=null&&(se=j.replace(G,"$&/")+"/"),Xe(ye,F,se,"",function(St){return St})):ye!=null&&(K(ye)&&(ye=H(ye,se+(!ye.key||Se&&Se.key===ye.key?"":(""+ye.key).replace(G,"$&/")+"/")+j)),F.push(ye)),1;if(Se=0,xe=xe===""?".":xe+":",D(j))for(var Oe=0;Oe<j.length;Oe++){Ae=j[Oe];var Ce=xe+Pe(Ae,Oe);Se+=Xe(Ae,F,se,Ce,ye)}else if(Ce=v(j),typeof Ce=="function")for(j=Ce.call(j),Oe=0;!(Ae=j.next()).done;)Ae=Ae.value,Ce=xe+Pe(Ae,Oe++),Se+=Xe(Ae,F,se,Ce,ye);else if(Ae==="object")throw F=String(j),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Se}function Bt(j,F,se){if(j==null)return j;var xe=[],ye=0;return Xe(j,xe,"","",function(Ae){return F.call(se,Ae,ye++)}),xe}function Ye(j){if(j._status===-1){var F=j._result;F=F(),F.then(function(se){(j._status===0||j._status===-1)&&(j._status=1,j._result=se)},function(se){(j._status===0||j._status===-1)&&(j._status=2,j._result=se)}),j._status===-1&&(j._status=0,j._result=F)}if(j._status===1)return j._result.default;throw j._result}var Te={current:null},Q={transition:null},ue={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Q,ReactCurrentOwner:V};return ge.Children={map:Bt,forEach:function(j,F,se){Bt(j,function(){F.apply(this,arguments)},se)},count:function(j){var F=0;return Bt(j,function(){F++}),F},toArray:function(j){return Bt(j,function(F){return F})||[]},only:function(j){if(!K(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},ge.Component=S,ge.Fragment=n,ge.Profiler=o,ge.PureComponent=I,ge.StrictMode=a,ge.Suspense=f,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,ge.cloneElement=function(j,F,se){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var xe=N({},j.props),ye=j.key,Ae=j.ref,Se=j._owner;if(F!=null){if(F.ref!==void 0&&(Ae=F.ref,Se=V.current),F.key!==void 0&&(ye=""+F.key),j.type&&j.type.defaultProps)var Oe=j.type.defaultProps;for(Ce in F)B.call(F,Ce)&&!re.hasOwnProperty(Ce)&&(xe[Ce]=F[Ce]===void 0&&Oe!==void 0?Oe[Ce]:F[Ce])}var Ce=arguments.length-2;if(Ce===1)xe.children=se;else if(1<Ce){Oe=Array(Ce);for(var St=0;St<Ce;St++)Oe[St]=arguments[St+2];xe.children=Oe}return{$$typeof:s,type:j.type,key:ye,ref:Ae,props:xe,_owner:Se}},ge.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:u,_context:j},j.Consumer=j},ge.createElement=he,ge.createFactory=function(j){var F=he.bind(null,j);return F.type=j,F},ge.createRef=function(){return{current:null}},ge.forwardRef=function(j){return{$$typeof:m,render:j}},ge.isValidElement=K,ge.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:Ye}},ge.memo=function(j,F){return{$$typeof:y,type:j,compare:F===void 0?null:F}},ge.startTransition=function(j){var F=Q.transition;Q.transition={};try{j()}finally{Q.transition=F}},ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},ge.useCallback=function(j,F){return Te.current.useCallback(j,F)},ge.useContext=function(j){return Te.current.useContext(j)},ge.useDebugValue=function(){},ge.useDeferredValue=function(j){return Te.current.useDeferredValue(j)},ge.useEffect=function(j,F){return Te.current.useEffect(j,F)},ge.useId=function(){return Te.current.useId()},ge.useImperativeHandle=function(j,F,se){return Te.current.useImperativeHandle(j,F,se)},ge.useInsertionEffect=function(j,F){return Te.current.useInsertionEffect(j,F)},ge.useLayoutEffect=function(j,F){return Te.current.useLayoutEffect(j,F)},ge.useMemo=function(j,F){return Te.current.useMemo(j,F)},ge.useReducer=function(j,F,se){return Te.current.useReducer(j,F,se)},ge.useRef=function(j){return Te.current.useRef(j)},ge.useState=function(j){return Te.current.useState(j)},ge.useSyncExternalStore=function(j,F,se){return Te.current.useSyncExternalStore(j,F,se)},ge.useTransition=function(){return Te.current.useTransition()},ge.version="18.2.0",ge}var sp;function qu(){return sp||(sp=1,Xc.exports=y0()),Xc.exports}var R=qu();const g0=gm(R);var Oo={},Yc={exports:{}},zt={},eu={exports:{}},tu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function v0(){return ip||(ip=1,function(s){function r(Q,ue){var j=Q.length;Q.push(ue);e:for(;0<j;){var F=j-1>>>1,se=Q[F];if(0<o(se,ue))Q[F]=ue,Q[j]=se,j=F;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var ue=Q[0],j=Q.pop();if(j!==ue){Q[0]=j;e:for(var F=0,se=Q.length,xe=se>>>1;F<xe;){var ye=2*(F+1)-1,Ae=Q[ye],Se=ye+1,Oe=Q[Se];if(0>o(Ae,j))Se<se&&0>o(Oe,Ae)?(Q[F]=Oe,Q[Se]=j,F=Se):(Q[F]=Ae,Q[ye]=j,F=ye);else if(Se<se&&0>o(Oe,j))Q[F]=Oe,Q[Se]=j,F=Se;else break e}}return ue}function o(Q,ue){var j=Q.sortIndex-ue.sortIndex;return j!==0?j:Q.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var f=[],y=[],_=1,b=null,v=3,k=!1,N=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(Q){for(var ue=n(y);ue!==null;){if(ue.callback===null)a(y);else if(ue.startTime<=Q)a(y),ue.sortIndex=ue.expirationTime,r(f,ue);else break;ue=n(y)}}function D(Q){if(x=!1,L(Q),!N)if(n(f)!==null)N=!0,Ye(B);else{var ue=n(y);ue!==null&&Te(D,ue.startTime-Q)}}function B(Q,ue){N=!1,x&&(x=!1,z(he),he=-1),k=!0;var j=v;try{for(L(ue),b=n(f);b!==null&&(!(b.expirationTime>ue)||Q&&!we());){var F=b.callback;if(typeof F=="function"){b.callback=null,v=b.priorityLevel;var se=F(b.expirationTime<=ue);ue=s.unstable_now(),typeof se=="function"?b.callback=se:b===n(f)&&a(f),L(ue)}else a(f);b=n(f)}if(b!==null)var xe=!0;else{var ye=n(y);ye!==null&&Te(D,ye.startTime-ue),xe=!1}return xe}finally{b=null,v=j,k=!1}}var V=!1,re=null,he=-1,H=5,K=-1;function we(){return!(s.unstable_now()-K<H)}function G(){if(re!==null){var Q=s.unstable_now();K=Q;var ue=!0;try{ue=re(!0,Q)}finally{ue?Pe():(V=!1,re=null)}}else V=!1}var Pe;if(typeof I=="function")Pe=function(){I(G)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,Bt=Xe.port2;Xe.port1.onmessage=G,Pe=function(){Bt.postMessage(null)}}else Pe=function(){S(G,0)};function Ye(Q){re=Q,V||(V=!0,Pe())}function Te(Q,ue){he=S(function(){Q(s.unstable_now())},ue)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_continueExecution=function(){N||k||(N=!0,Ye(B))},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_getFirstCallbackNode=function(){return n(f)},s.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var ue=3;break;default:ue=v}var j=v;v=ue;try{return Q()}finally{v=j}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var j=v;v=Q;try{return ue()}finally{v=j}},s.unstable_scheduleCallback=function(Q,ue,j){var F=s.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?F+j:F):j=F,Q){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=j+se,Q={id:_++,callback:ue,priorityLevel:Q,startTime:j,expirationTime:se,sortIndex:-1},j>F?(Q.sortIndex=j,r(y,Q),n(f)===null&&Q===n(y)&&(x?(z(he),he=-1):x=!0,Te(D,j-F))):(Q.sortIndex=se,r(f,Q),N||k||(N=!0,Ye(B))),Q},s.unstable_shouldYield=we,s.unstable_wrapCallback=function(Q){var ue=v;return function(){var j=v;v=ue;try{return Q.apply(this,arguments)}finally{v=j}}}}(tu)),tu}var ap;function w0(){return ap||(ap=1,eu.exports=v0()),eu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function _0(){if(op)return zt;op=1;var s=qu(),r=w0();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},b={};function v(e){return f.call(b,e)?!0:f.call(_,e)?!1:y.test(e)?b[e]=!0:(_[e]=!0,!1)}function k(e,t,i,c){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,i,c){if(t===null||typeof t>"u"||k(e,t,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function x(e,t,i,c,h,p,w){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=w}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];S[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z,I);S[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z,I);S[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z,I);S[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});function L(e,t,i,c){var h=S.hasOwnProperty(t)?S[t]:null;(h!==null?h.type!==0:c||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,i,h,c)&&(i=null),c||h===null?v(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(t=h.attributeName,c=h.attributeNamespace,i===null?e.removeAttribute(t):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,c?e.setAttributeNS(c,t,i):e.setAttribute(t,i))))}var D=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),V=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),we=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),Bt=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var j=Object.assign,F;function se(e){if(F===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return`
`+F+e}var xe=!1;function ye(e,t){if(!e||xe)return"";xe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch($){var c=$}Reflect.construct(e,[],t)}else{try{t.call()}catch($){c=$}e.call(t.prototype)}else{try{throw Error()}catch($){c=$}e()}}catch($){if($&&c&&typeof $.stack=="string"){for(var h=$.stack.split(`
`),p=c.stack.split(`
`),w=h.length-1,C=p.length-1;1<=w&&0<=C&&h[w]!==p[C];)C--;for(;1<=w&&0<=C;w--,C--)if(h[w]!==p[C]){if(w!==1||C!==1)do if(w--,C--,0>C||h[w]!==p[C]){var P=`
`+h[w].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=w&&0<=C);break}}}finally{xe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?se(e):""}function Ae(e){switch(e.tag){case 5:return se(e.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return e=ye(e.type,!1),e;case 11:return e=ye(e.type.render,!1),e;case 1:return e=ye(e.type,!0),e;default:return""}}function Se(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case re:return"Fragment";case V:return"Portal";case H:return"Profiler";case he:return"StrictMode";case Pe:return"Suspense";case Xe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case we:return(e.displayName||"Context")+".Consumer";case K:return(e._context.displayName||"Context")+".Provider";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bt:return t=e.displayName||null,t!==null?t:Se(e.type)||"Memo";case Ye:t=e._payload,e=e._init;try{return Se(e(t))}catch{}}return null}function Oe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(t);case 8:return t===he?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function St(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vy(e){var t=St(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),c=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,p=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,p.call(this,w)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _a(e){e._valueTracker||(e._valueTracker=vy(e))}function ad(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),c="";return e&&(c=St(e)?e.checked?"true":"false":e.value),e=c,e!==i?(t.setValue(e),!0):!1}function xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sl(e,t){var i=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function od(e,t){var i=t.defaultValue==null?"":t.defaultValue,c=t.checked!=null?t.checked:t.defaultChecked;i=Ce(t.value!=null?t.value:i),e._wrapperState={initialChecked:c,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ld(e,t){t=t.checked,t!=null&&L(e,"checked",t,!1)}function il(e,t){ld(e,t);var i=Ce(t.value),c=t.type;if(i!=null)c==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?al(e,t.type,i):t.hasOwnProperty("defaultValue")&&al(e,t.type,Ce(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cd(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var c=t.type;if(!(c!=="submit"&&c!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function al(e,t,i){(t!=="number"||xa(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var ui=Array.isArray;function os(e,t,i,c){if(e=e.options,t){t={};for(var h=0;h<i.length;h++)t["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=t.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&c&&(e[i].defaultSelected=!0)}else{for(i=""+Ce(i),t=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function ol(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ud(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(ui(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Ce(i)}}function dd(e,t){var i=Ce(t.value),c=Ce(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),c!=null&&(e.defaultValue=""+c)}function hd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ll(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ba,pd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,c,h){MSApp.execUnsafeLocalFunction(function(){return e(t,i,c,h)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ba=ba||document.createElement("div"),ba.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ba.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function di(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wy=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(e){wy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hi[t]=hi[e]})});function md(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||hi.hasOwnProperty(e)&&hi[e]?(""+t).trim():t+"px"}function yd(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var c=i.indexOf("--")===0,h=md(i,t[i],c);i==="float"&&(i="cssFloat"),c?e.setProperty(i,h):e[i]=h}}var _y=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cl(e,t){if(t){if(_y[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function ul(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=null;function hl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fl=null,ls=null,cs=null;function gd(e){if(e=Ai(e)){if(typeof fl!="function")throw Error(n(280));var t=e.stateNode;t&&(t=Ha(t),fl(e.stateNode,e.type,t))}}function vd(e){ls?cs?cs.push(e):cs=[e]:ls=e}function wd(){if(ls){var e=ls,t=cs;if(cs=ls=null,gd(e),t)for(e=0;e<t.length;e++)gd(t[e])}}function _d(e,t){return e(t)}function xd(){}var pl=!1;function bd(e,t,i){if(pl)return e(t,i);pl=!0;try{return _d(e,t,i)}finally{pl=!1,(ls!==null||cs!==null)&&(xd(),wd())}}function fi(e,t){var i=e.stateNode;if(i===null)return null;var c=Ha(i);if(c===null)return null;i=c[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var ml=!1;if(m)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){ml=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{ml=!1}function xy(e,t,i,c,h,p,w,C,P){var $=Array.prototype.slice.call(arguments,3);try{t.apply(i,$)}catch(U){this.onError(U)}}var mi=!1,ka=null,Na=!1,yl=null,by={onError:function(e){mi=!0,ka=e}};function ky(e,t,i,c,h,p,w,C,P){mi=!1,ka=null,xy.apply(by,arguments)}function Ny(e,t,i,c,h,p,w,C,P){if(ky.apply(this,arguments),mi){if(mi){var $=ka;mi=!1,ka=null}else throw Error(n(198));Na||(Na=!0,yl=$)}}function jn(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function kd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nd(e){if(jn(e)!==e)throw Error(n(188))}function Sy(e){var t=e.alternate;if(!t){if(t=jn(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,c=t;;){var h=i.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){i=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===i)return Nd(h),e;if(p===c)return Nd(h),t;p=p.sibling}throw Error(n(188))}if(i.return!==c.return)i=h,c=p;else{for(var w=!1,C=h.child;C;){if(C===i){w=!0,i=h,c=p;break}if(C===c){w=!0,c=h,i=p;break}C=C.sibling}if(!w){for(C=p.child;C;){if(C===i){w=!0,i=p,c=h;break}if(C===c){w=!0,c=p,i=h;break}C=C.sibling}if(!w)throw Error(n(189))}}if(i.alternate!==c)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function Sd(e){return e=Sy(e),e!==null?Cd(e):null}function Cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cd(e);if(t!==null)return t;e=e.sibling}return null}var Ed=r.unstable_scheduleCallback,Pd=r.unstable_cancelCallback,Cy=r.unstable_shouldYield,Ey=r.unstable_requestPaint,Ke=r.unstable_now,Py=r.unstable_getCurrentPriorityLevel,gl=r.unstable_ImmediatePriority,jd=r.unstable_UserBlockingPriority,Sa=r.unstable_NormalPriority,jy=r.unstable_LowPriority,Rd=r.unstable_IdlePriority,Ca=null,hr=null;function Ry(e){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Ca,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Ty,zy=Math.log,Oy=Math.LN2;function Ty(e){return e>>>=0,e===0?32:31-(zy(e)/Oy|0)|0}var Ea=64,Pa=4194304;function yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ja(e,t){var i=e.pendingLanes;if(i===0)return 0;var c=0,h=e.suspendedLanes,p=e.pingedLanes,w=i&268435455;if(w!==0){var C=w&~h;C!==0?c=yi(C):(p&=w,p!==0&&(c=yi(p)))}else w=i&~h,w!==0?c=yi(w):p!==0&&(c=yi(p));if(c===0)return 0;if(t!==0&&t!==c&&(t&h)===0&&(h=c&-c,p=t&-t,h>=p||h===16&&(p&4194240)!==0))return t;if((c&4)!==0&&(c|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=c;0<t;)i=31-Jt(t),h=1<<i,c|=e[i],t&=~h;return c}function Ay(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ly(e,t){for(var i=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes;0<p;){var w=31-Jt(p),C=1<<w,P=h[w];P===-1?((C&i)===0||(C&c)!==0)&&(h[w]=Ay(C,t)):P<=t&&(e.expiredLanes|=C),p&=~C}}function vl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zd(){var e=Ea;return Ea<<=1,(Ea&4194240)===0&&(Ea=64),e}function wl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function gi(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=i}function $y(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-Jt(i),p=1<<h;t[h]=0,c[h]=-1,e[h]=-1,i&=~p}}function _l(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var c=31-Jt(i),h=1<<c;h&t|e[c]&t&&(e[c]|=t),i&=~h}}var je=0;function Od(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Td,xl,Ad,Ld,$d,bl=!1,Ra=[],Br=null,Wr=null,Hr=null,vi=new Map,wi=new Map,Kr=[],Iy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Id(e,t){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function _i(e,t,i,c,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:i,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},t!==null&&(t=Ai(t),t!==null&&xl(t)),e):(e.eventSystemFlags|=c,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function Dy(e,t,i,c,h){switch(t){case"focusin":return Br=_i(Br,e,t,i,c,h),!0;case"dragenter":return Wr=_i(Wr,e,t,i,c,h),!0;case"mouseover":return Hr=_i(Hr,e,t,i,c,h),!0;case"pointerover":var p=h.pointerId;return vi.set(p,_i(vi.get(p)||null,e,t,i,c,h)),!0;case"gotpointercapture":return p=h.pointerId,wi.set(p,_i(wi.get(p)||null,e,t,i,c,h)),!0}return!1}function Dd(e){var t=Rn(e.target);if(t!==null){var i=jn(t);if(i!==null){if(t=i.tag,t===13){if(t=kd(i),t!==null){e.blockedOn=t,$d(e.priority,function(){Ad(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function za(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Nl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);dl=c,i.target.dispatchEvent(c),dl=null}else return t=Ai(i),t!==null&&xl(t),e.blockedOn=i,!1;t.shift()}return!0}function Md(e,t,i){za(e)&&i.delete(t)}function My(){bl=!1,Br!==null&&za(Br)&&(Br=null),Wr!==null&&za(Wr)&&(Wr=null),Hr!==null&&za(Hr)&&(Hr=null),vi.forEach(Md),wi.forEach(Md)}function xi(e,t){e.blockedOn===t&&(e.blockedOn=null,bl||(bl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,My)))}function bi(e){function t(h){return xi(h,e)}if(0<Ra.length){xi(Ra[0],e);for(var i=1;i<Ra.length;i++){var c=Ra[i];c.blockedOn===e&&(c.blockedOn=null)}}for(Br!==null&&xi(Br,e),Wr!==null&&xi(Wr,e),Hr!==null&&xi(Hr,e),vi.forEach(t),wi.forEach(t),i=0;i<Kr.length;i++)c=Kr[i],c.blockedOn===e&&(c.blockedOn=null);for(;0<Kr.length&&(i=Kr[0],i.blockedOn===null);)Dd(i),i.blockedOn===null&&Kr.shift()}var us=D.ReactCurrentBatchConfig,Oa=!0;function Fy(e,t,i,c){var h=je,p=us.transition;us.transition=null;try{je=1,kl(e,t,i,c)}finally{je=h,us.transition=p}}function Uy(e,t,i,c){var h=je,p=us.transition;us.transition=null;try{je=4,kl(e,t,i,c)}finally{je=h,us.transition=p}}function kl(e,t,i,c){if(Oa){var h=Nl(e,t,i,c);if(h===null)Ul(e,t,c,Ta,i),Id(e,c);else if(Dy(h,e,t,i,c))c.stopPropagation();else if(Id(e,c),t&4&&-1<Iy.indexOf(e)){for(;h!==null;){var p=Ai(h);if(p!==null&&Td(p),p=Nl(e,t,i,c),p===null&&Ul(e,t,c,Ta,i),p===h)break;h=p}h!==null&&c.stopPropagation()}else Ul(e,t,c,null,i)}}var Ta=null;function Nl(e,t,i,c){if(Ta=null,e=hl(c),e=Rn(e),e!==null)if(t=jn(e),t===null)e=null;else if(i=t.tag,i===13){if(e=kd(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ta=e,null}function Fd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Py()){case gl:return 1;case jd:return 4;case Sa:case jy:return 16;case Rd:return 536870912;default:return 16}default:return 16}}var Vr=null,Sl=null,Aa=null;function Ud(){if(Aa)return Aa;var e,t=Sl,i=t.length,c,h="value"in Vr?Vr.value:Vr.textContent,p=h.length;for(e=0;e<i&&t[e]===h[e];e++);var w=i-e;for(c=1;c<=w&&t[i-c]===h[p-c];c++);return Aa=h.slice(e,1<c?1-c:void 0)}function La(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $a(){return!0}function qd(){return!1}function It(e){function t(i,c,h,p,w){this._reactName=i,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(i=e[C],this[C]=i?i(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?$a:qd,this.isPropagationStopped=qd,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=It(ds),ki=j({},ds,{view:0,detail:0}),qy=It(ki),El,Pl,Ni,Ia=j({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ni&&(Ni&&e.type==="mousemove"?(El=e.screenX-Ni.screenX,Pl=e.screenY-Ni.screenY):Pl=El=0,Ni=e),El)},movementY:function(e){return"movementY"in e?e.movementY:Pl}}),Bd=It(Ia),By=j({},Ia,{dataTransfer:0}),Wy=It(By),Hy=j({},ki,{relatedTarget:0}),jl=It(Hy),Ky=j({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Vy=It(Ky),Qy=j({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gy=It(Qy),Zy=j({},ds,{data:0}),Wd=It(Zy),Jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yy[e])?!!t[e]:!1}function Rl(){return eg}var tg=j({},ki,{key:function(e){if(e.key){var t=Jy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=La(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rl,charCode:function(e){return e.type==="keypress"?La(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?La(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rg=It(tg),ng=j({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hd=It(ng),sg=j({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rl}),ig=It(sg),ag=j({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),og=It(ag),lg=j({},Ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cg=It(lg),ug=[9,13,27,32],zl=m&&"CompositionEvent"in window,Si=null;m&&"documentMode"in document&&(Si=document.documentMode);var dg=m&&"TextEvent"in window&&!Si,Kd=m&&(!zl||Si&&8<Si&&11>=Si),Vd=" ",Qd=!1;function Gd(e,t){switch(e){case"keyup":return ug.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hs=!1;function hg(e,t){switch(e){case"compositionend":return Zd(t);case"keypress":return t.which!==32?null:(Qd=!0,Vd);case"textInput":return e=t.data,e===Vd&&Qd?null:e;default:return null}}function fg(e,t){if(hs)return e==="compositionend"||!zl&&Gd(e,t)?(e=Ud(),Aa=Sl=Vr=null,hs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kd&&t.locale!=="ko"?null:t.data;default:return null}}var pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pg[e.type]:t==="textarea"}function Xd(e,t,i,c){vd(c),t=qa(t,"onChange"),0<t.length&&(i=new Cl("onChange","change",null,i,c),e.push({event:i,listeners:t}))}var Ci=null,Ei=null;function mg(e){yh(e,0)}function Da(e){var t=gs(e);if(ad(t))return e}function yg(e,t){if(e==="change")return t}var Yd=!1;if(m){var Ol;if(m){var Tl="oninput"in document;if(!Tl){var eh=document.createElement("div");eh.setAttribute("oninput","return;"),Tl=typeof eh.oninput=="function"}Ol=Tl}else Ol=!1;Yd=Ol&&(!document.documentMode||9<document.documentMode)}function th(){Ci&&(Ci.detachEvent("onpropertychange",rh),Ei=Ci=null)}function rh(e){if(e.propertyName==="value"&&Da(Ei)){var t=[];Xd(t,Ei,e,hl(e)),bd(mg,t)}}function gg(e,t,i){e==="focusin"?(th(),Ci=t,Ei=i,Ci.attachEvent("onpropertychange",rh)):e==="focusout"&&th()}function vg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Da(Ei)}function wg(e,t){if(e==="click")return Da(t)}function _g(e,t){if(e==="input"||e==="change")return Da(t)}function xg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:xg;function Pi(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),c=Object.keys(t);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var h=i[c];if(!f.call(t,h)||!Xt(e[h],t[h]))return!1}return!0}function nh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sh(e,t){var i=nh(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=t&&c>=t)return{node:i,offset:t-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=nh(i)}}function ih(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ih(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ah(){for(var e=window,t=xa();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=xa(e.document)}return t}function Al(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bg(e){var t=ah(),i=e.focusedElem,c=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&ih(i.ownerDocument.documentElement,i)){if(c!==null&&Al(i)){if(t=c.start,e=c.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,p=Math.min(c.start,h);c=c.end===void 0?p:Math.min(c.end,h),!e.extend&&p>c&&(h=c,c=p,p=h),h=sh(i,p);var w=sh(i,c);h&&w&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),p>c?(e.addRange(t),e.extend(w.node,w.offset)):(t.setEnd(w.node,w.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kg=m&&"documentMode"in document&&11>=document.documentMode,fs=null,Ll=null,ji=null,$l=!1;function oh(e,t,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;$l||fs==null||fs!==xa(c)||(c=fs,"selectionStart"in c&&Al(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ji&&Pi(ji,c)||(ji=c,c=qa(Ll,"onSelect"),0<c.length&&(t=new Cl("onSelect","select",null,t,i),e.push({event:t,listeners:c}),t.target=fs)))}function Ma(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ps={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},Il={},lh={};m&&(lh=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Fa(e){if(Il[e])return Il[e];if(!ps[e])return e;var t=ps[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in lh)return Il[e]=t[i];return e}var ch=Fa("animationend"),uh=Fa("animationiteration"),dh=Fa("animationstart"),hh=Fa("transitionend"),fh=new Map,ph="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,t){fh.set(e,t),u(t,[e])}for(var Dl=0;Dl<ph.length;Dl++){var Ml=ph[Dl],Ng=Ml.toLowerCase(),Sg=Ml[0].toUpperCase()+Ml.slice(1);Qr(Ng,"on"+Sg)}Qr(ch,"onAnimationEnd"),Qr(uh,"onAnimationIteration"),Qr(dh,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(hh,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function mh(e,t,i){var c=e.type||"unknown-event";e.currentTarget=i,Ny(c,t,void 0,e),e.currentTarget=null}function yh(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],h=c.event;c=c.listeners;e:{var p=void 0;if(t)for(var w=c.length-1;0<=w;w--){var C=c[w],P=C.instance,$=C.currentTarget;if(C=C.listener,P!==p&&h.isPropagationStopped())break e;mh(h,C,$),p=P}else for(w=0;w<c.length;w++){if(C=c[w],P=C.instance,$=C.currentTarget,C=C.listener,P!==p&&h.isPropagationStopped())break e;mh(h,C,$),p=P}}}if(Na)throw e=yl,Na=!1,yl=null,e}function Ie(e,t){var i=t[Vl];i===void 0&&(i=t[Vl]=new Set);var c=e+"__bubble";i.has(c)||(gh(t,e,2,!1),i.add(c))}function Fl(e,t,i){var c=0;t&&(c|=4),gh(i,e,c,t)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[Ua]){e[Ua]=!0,a.forEach(function(i){i!=="selectionchange"&&(Cg.has(i)||Fl(i,!1,e),Fl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ua]||(t[Ua]=!0,Fl("selectionchange",!1,t))}}function gh(e,t,i,c){switch(Fd(t)){case 1:var h=Fy;break;case 4:h=Uy;break;default:h=kl}i=h.bind(null,t,i,e),h=void 0,!ml||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(t,i,{capture:!0,passive:h}):e.addEventListener(t,i,!0):h!==void 0?e.addEventListener(t,i,{passive:h}):e.addEventListener(t,i,!1)}function Ul(e,t,i,c,h){var p=c;if((t&1)===0&&(t&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var C=c.stateNode.containerInfo;if(C===h||C.nodeType===8&&C.parentNode===h)break;if(w===4)for(w=c.return;w!==null;){var P=w.tag;if((P===3||P===4)&&(P=w.stateNode.containerInfo,P===h||P.nodeType===8&&P.parentNode===h))return;w=w.return}for(;C!==null;){if(w=Rn(C),w===null)return;if(P=w.tag,P===5||P===6){c=p=w;continue e}C=C.parentNode}}c=c.return}bd(function(){var $=p,U=hl(i),q=[];e:{var M=fh.get(e);if(M!==void 0){var Z=Cl,Y=e;switch(e){case"keypress":if(La(i)===0)break e;case"keydown":case"keyup":Z=rg;break;case"focusin":Y="focus",Z=jl;break;case"focusout":Y="blur",Z=jl;break;case"beforeblur":case"afterblur":Z=jl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Wy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=ig;break;case ch:case uh:case dh:Z=Vy;break;case hh:Z=og;break;case"scroll":Z=qy;break;case"wheel":Z=cg;break;case"copy":case"cut":case"paste":Z=Gy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Hd}var ee=(t&4)!==0,Ve=!ee&&e==="scroll",T=ee?M!==null?M+"Capture":null:M;ee=[];for(var O=$,A;O!==null;){A=O;var W=A.stateNode;if(A.tag===5&&W!==null&&(A=W,T!==null&&(W=fi(O,T),W!=null&&ee.push(Oi(O,W,A)))),Ve)break;O=O.return}0<ee.length&&(M=new Z(M,Y,null,i,U),q.push({event:M,listeners:ee}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",M&&i!==dl&&(Y=i.relatedTarget||i.fromElement)&&(Rn(Y)||Y[Sr]))break e;if((Z||M)&&(M=U.window===U?U:(M=U.ownerDocument)?M.defaultView||M.parentWindow:window,Z?(Y=i.relatedTarget||i.toElement,Z=$,Y=Y?Rn(Y):null,Y!==null&&(Ve=jn(Y),Y!==Ve||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(Z=null,Y=$),Z!==Y)){if(ee=Bd,W="onMouseLeave",T="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ee=Hd,W="onPointerLeave",T="onPointerEnter",O="pointer"),Ve=Z==null?M:gs(Z),A=Y==null?M:gs(Y),M=new ee(W,O+"leave",Z,i,U),M.target=Ve,M.relatedTarget=A,W=null,Rn(U)===$&&(ee=new ee(T,O+"enter",Y,i,U),ee.target=A,ee.relatedTarget=Ve,W=ee),Ve=W,Z&&Y)t:{for(ee=Z,T=Y,O=0,A=ee;A;A=ms(A))O++;for(A=0,W=T;W;W=ms(W))A++;for(;0<O-A;)ee=ms(ee),O--;for(;0<A-O;)T=ms(T),A--;for(;O--;){if(ee===T||T!==null&&ee===T.alternate)break t;ee=ms(ee),T=ms(T)}ee=null}else ee=null;Z!==null&&vh(q,M,Z,ee,!1),Y!==null&&Ve!==null&&vh(q,Ve,Y,ee,!0)}}e:{if(M=$?gs($):window,Z=M.nodeName&&M.nodeName.toLowerCase(),Z==="select"||Z==="input"&&M.type==="file")var te=yg;else if(Jd(M))if(Yd)te=_g;else{te=vg;var oe=gg}else(Z=M.nodeName)&&Z.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(te=wg);if(te&&(te=te(e,$))){Xd(q,te,i,U);break e}oe&&oe(e,M,$),e==="focusout"&&(oe=M._wrapperState)&&oe.controlled&&M.type==="number"&&al(M,"number",M.value)}switch(oe=$?gs($):window,e){case"focusin":(Jd(oe)||oe.contentEditable==="true")&&(fs=oe,Ll=$,ji=null);break;case"focusout":ji=Ll=fs=null;break;case"mousedown":$l=!0;break;case"contextmenu":case"mouseup":case"dragend":$l=!1,oh(q,i,U);break;case"selectionchange":if(kg)break;case"keydown":case"keyup":oh(q,i,U)}var le;if(zl)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else hs?Gd(e,i)&&(fe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(fe="onCompositionStart");fe&&(Kd&&i.locale!=="ko"&&(hs||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&hs&&(le=Ud()):(Vr=U,Sl="value"in Vr?Vr.value:Vr.textContent,hs=!0)),oe=qa($,fe),0<oe.length&&(fe=new Wd(fe,e,null,i,U),q.push({event:fe,listeners:oe}),le?fe.data=le:(le=Zd(i),le!==null&&(fe.data=le)))),(le=dg?hg(e,i):fg(e,i))&&($=qa($,"onBeforeInput"),0<$.length&&(U=new Wd("onBeforeInput","beforeinput",null,i,U),q.push({event:U,listeners:$}),U.data=le))}yh(q,t)})}function Oi(e,t,i){return{instance:e,listener:t,currentTarget:i}}function qa(e,t){for(var i=t+"Capture",c=[];e!==null;){var h=e,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=fi(e,i),p!=null&&c.unshift(Oi(e,p,h)),p=fi(e,t),p!=null&&c.push(Oi(e,p,h))),e=e.return}return c}function ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vh(e,t,i,c,h){for(var p=t._reactName,w=[];i!==null&&i!==c;){var C=i,P=C.alternate,$=C.stateNode;if(P!==null&&P===c)break;C.tag===5&&$!==null&&(C=$,h?(P=fi(i,p),P!=null&&w.unshift(Oi(i,P,C))):h||(P=fi(i,p),P!=null&&w.push(Oi(i,P,C)))),i=i.return}w.length!==0&&e.push({event:t,listeners:w})}var Eg=/\r\n?/g,Pg=/\u0000|\uFFFD/g;function wh(e){return(typeof e=="string"?e:""+e).replace(Eg,`
`).replace(Pg,"")}function Ba(e,t,i){if(t=wh(t),wh(e)!==t&&i)throw Error(n(425))}function Wa(){}var ql=null,Bl=null;function Wl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,jg=typeof clearTimeout=="function"?clearTimeout:void 0,_h=typeof Promise=="function"?Promise:void 0,Rg=typeof queueMicrotask=="function"?queueMicrotask:typeof _h<"u"?function(e){return _h.resolve(null).then(e).catch(zg)}:Hl;function zg(e){setTimeout(function(){throw e})}function Kl(e,t){var i=t,c=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(c===0){e.removeChild(h),bi(t);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=h}while(i);bi(t)}function Gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var ys=Math.random().toString(36).slice(2),fr="__reactFiber$"+ys,Ti="__reactProps$"+ys,Sr="__reactContainer$"+ys,Vl="__reactEvents$"+ys,Og="__reactListeners$"+ys,Tg="__reactHandles$"+ys;function Rn(e){var t=e[fr];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Sr]||i[fr]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=xh(e);e!==null;){if(i=e[fr])return i;e=xh(e)}return t}e=i,i=e.parentNode}return null}function Ai(e){return e=e[fr]||e[Sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Ha(e){return e[Ti]||null}var Ql=[],vs=-1;function Zr(e){return{current:e}}function De(e){0>vs||(e.current=Ql[vs],Ql[vs]=null,vs--)}function Le(e,t){vs++,Ql[vs]=e.current,e.current=t}var Jr={},ut=Zr(Jr),Ct=Zr(!1),zn=Jr;function ws(e,t){var i=e.type.contextTypes;if(!i)return Jr;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===t)return c.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in i)h[p]=t[p];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function Et(e){return e=e.childContextTypes,e!=null}function Ka(){De(Ct),De(ut)}function bh(e,t,i){if(ut.current!==Jr)throw Error(n(168));Le(ut,t),Le(Ct,i)}function kh(e,t,i){var c=e.stateNode;if(t=t.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var h in c)if(!(h in t))throw Error(n(108,Oe(e)||"Unknown",h));return j({},i,c)}function Va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jr,zn=ut.current,Le(ut,e),Le(Ct,Ct.current),!0}function Nh(e,t,i){var c=e.stateNode;if(!c)throw Error(n(169));i?(e=kh(e,t,zn),c.__reactInternalMemoizedMergedChildContext=e,De(Ct),De(ut),Le(ut,e)):De(Ct),Le(Ct,i)}var Cr=null,Qa=!1,Gl=!1;function Sh(e){Cr===null?Cr=[e]:Cr.push(e)}function Ag(e){Qa=!0,Sh(e)}function Xr(){if(!Gl&&Cr!==null){Gl=!0;var e=0,t=je;try{var i=Cr;for(je=1;e<i.length;e++){var c=i[e];do c=c(!0);while(c!==null)}Cr=null,Qa=!1}catch(h){throw Cr!==null&&(Cr=Cr.slice(e+1)),Ed(gl,Xr),h}finally{je=t,Gl=!1}}return null}var _s=[],xs=0,Ga=null,Za=0,Wt=[],Ht=0,On=null,Er=1,Pr="";function Tn(e,t){_s[xs++]=Za,_s[xs++]=Ga,Ga=e,Za=t}function Ch(e,t,i){Wt[Ht++]=Er,Wt[Ht++]=Pr,Wt[Ht++]=On,On=e;var c=Er;e=Pr;var h=32-Jt(c)-1;c&=~(1<<h),i+=1;var p=32-Jt(t)+h;if(30<p){var w=h-h%5;p=(c&(1<<w)-1).toString(32),c>>=w,h-=w,Er=1<<32-Jt(t)+h|i<<h|c,Pr=p+e}else Er=1<<p|i<<h|c,Pr=e}function Zl(e){e.return!==null&&(Tn(e,1),Ch(e,1,0))}function Jl(e){for(;e===Ga;)Ga=_s[--xs],_s[xs]=null,Za=_s[--xs],_s[xs]=null;for(;e===On;)On=Wt[--Ht],Wt[Ht]=null,Pr=Wt[--Ht],Wt[Ht]=null,Er=Wt[--Ht],Wt[Ht]=null}var Dt=null,Mt=null,Me=!1,Yt=null;function Eh(e,t){var i=Gt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Ph(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,Mt=Gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=On!==null?{id:Er,overflow:Pr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Gt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Dt=e,Mt=null,!0):!1;default:return!1}}function Xl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yl(e){if(Me){var t=Mt;if(t){var i=t;if(!Ph(e,t)){if(Xl(e))throw Error(n(418));t=Gr(i.nextSibling);var c=Dt;t&&Ph(e,t)?Eh(c,i):(e.flags=e.flags&-4097|2,Me=!1,Dt=e)}}else{if(Xl(e))throw Error(n(418));e.flags=e.flags&-4097|2,Me=!1,Dt=e}}}function jh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function Ja(e){if(e!==Dt)return!1;if(!Me)return jh(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wl(e.type,e.memoizedProps)),t&&(t=Mt)){if(Xl(e))throw Rh(),Error(n(418));for(;t;)Eh(e,t),t=Gr(t.nextSibling)}if(jh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Mt=Gr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=Dt?Gr(e.stateNode.nextSibling):null;return!0}function Rh(){for(var e=Mt;e;)e=Gr(e.nextSibling)}function bs(){Mt=Dt=null,Me=!1}function ec(e){Yt===null?Yt=[e]:Yt.push(e)}var Lg=D.ReactCurrentBatchConfig;function er(e,t){if(e&&e.defaultProps){t=j({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var Xa=Zr(null),Ya=null,ks=null,tc=null;function rc(){tc=ks=Ya=null}function nc(e){var t=Xa.current;De(Xa),e._currentValue=t}function sc(e,t,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,c!==null&&(c.childLanes|=t)):c!==null&&(c.childLanes&t)!==t&&(c.childLanes|=t),e===i)break;e=e.return}}function Ns(e,t){Ya=e,tc=ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Pt=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(tc!==e)if(e={context:e,memoizedValue:t,next:null},ks===null){if(Ya===null)throw Error(n(308));ks=e,Ya.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var An=null;function ic(e){An===null?An=[e]:An.push(e)}function zh(e,t,i,c){var h=t.interleaved;return h===null?(i.next=i,ic(t)):(i.next=h.next,h.next=i),t.interleaved=i,jr(e,c)}function jr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Yr=!1;function ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(be&2)!==0){var h=c.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),c.pending=t,jr(e,i)}return h=c.interleaved,h===null?(t.next=t,ic(c)):(t.next=h.next,h.next=t),c.interleaved=t,jr(e,i)}function eo(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var c=t.lanes;c&=e.pendingLanes,i|=c,t.lanes=i,_l(e,i)}}function Th(e,t){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var h=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var w={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};p===null?h=p=w:p=p.next=w,i=i.next}while(i!==null);p===null?h=p=t:p=p.next=t}else h=p=t;i={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,effects:c.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function to(e,t,i,c){var h=e.updateQueue;Yr=!1;var p=h.firstBaseUpdate,w=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var P=C,$=P.next;P.next=null,w===null?p=$:w.next=$,w=P;var U=e.alternate;U!==null&&(U=U.updateQueue,C=U.lastBaseUpdate,C!==w&&(C===null?U.firstBaseUpdate=$:C.next=$,U.lastBaseUpdate=P))}if(p!==null){var q=h.baseState;w=0,U=$=P=null,C=p;do{var M=C.lane,Z=C.eventTime;if((c&M)===M){U!==null&&(U=U.next={eventTime:Z,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var Y=e,ee=C;switch(M=t,Z=i,ee.tag){case 1:if(Y=ee.payload,typeof Y=="function"){q=Y.call(Z,q,M);break e}q=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=ee.payload,M=typeof Y=="function"?Y.call(Z,q,M):Y,M==null)break e;q=j({},q,M);break e;case 2:Yr=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,M=h.effects,M===null?h.effects=[C]:M.push(C))}else Z={eventTime:Z,lane:M,tag:C.tag,payload:C.payload,callback:C.callback,next:null},U===null?($=U=Z,P=q):U=U.next=Z,w|=M;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;M=C,C=M.next,M.next=null,h.lastBaseUpdate=M,h.shared.pending=null}}while(!0);if(U===null&&(P=q),h.baseState=P,h.firstBaseUpdate=$,h.lastBaseUpdate=U,t=h.shared.interleaved,t!==null){h=t;do w|=h.lane,h=h.next;while(h!==t)}else p===null&&(h.shared.lanes=0);In|=w,e.lanes=w,e.memoizedState=q}}function Ah(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var c=e[t],h=c.callback;if(h!==null){if(c.callback=null,c=i,typeof h!="function")throw Error(n(191,h));h.call(c)}}}var Lh=new s.Component().refs;function oc(e,t,i,c){t=e.memoizedState,i=i(c,t),i=i==null?t:j({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ro={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var c=vt(),h=sn(e),p=Rr(c,h);p.payload=t,i!=null&&(p.callback=i),t=en(e,p,h),t!==null&&(nr(t,e,h,c),eo(t,e,h))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var c=vt(),h=sn(e),p=Rr(c,h);p.tag=1,p.payload=t,i!=null&&(p.callback=i),t=en(e,p,h),t!==null&&(nr(t,e,h,c),eo(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=vt(),c=sn(e),h=Rr(i,c);h.tag=2,t!=null&&(h.callback=t),t=en(e,h,c),t!==null&&(nr(t,e,c,i),eo(t,e,c))}};function $h(e,t,i,c,h,p,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,p,w):t.prototype&&t.prototype.isPureReactComponent?!Pi(i,c)||!Pi(h,p):!0}function Ih(e,t,i){var c=!1,h=Jr,p=t.contextType;return typeof p=="object"&&p!==null?p=Kt(p):(h=Et(t)?zn:ut.current,c=t.contextTypes,p=(c=c!=null)?ws(e,h):Jr),t=new t(i,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=p),t}function Dh(e,t,i,c){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,c),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,c),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function lc(e,t,i,c){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs=Lh,ac(e);var p=t.contextType;typeof p=="object"&&p!==null?h.context=Kt(p):(p=Et(t)?zn:ut.current,h.context=ws(e,p)),h.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(oc(e,t,p,i),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&ro.enqueueReplaceState(h,h.state,null),to(e,i,h,c),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Li(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var c=i.stateNode}if(!c)throw Error(n(147,e));var h=c,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(w){var C=h.refs;C===Lh&&(C=h.refs={}),w===null?delete C[p]:C[p]=w},t._stringRef=p,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function no(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mh(e){var t=e._init;return t(e._payload)}function Fh(e){function t(T,O){if(e){var A=T.deletions;A===null?(T.deletions=[O],T.flags|=16):A.push(O)}}function i(T,O){if(!e)return null;for(;O!==null;)t(T,O),O=O.sibling;return null}function c(T,O){for(T=new Map;O!==null;)O.key!==null?T.set(O.key,O):T.set(O.index,O),O=O.sibling;return T}function h(T,O){return T=on(T,O),T.index=0,T.sibling=null,T}function p(T,O,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<O?(T.flags|=2,O):A):(T.flags|=2,O)):(T.flags|=1048576,O)}function w(T){return e&&T.alternate===null&&(T.flags|=2),T}function C(T,O,A,W){return O===null||O.tag!==6?(O=Hc(A,T.mode,W),O.return=T,O):(O=h(O,A),O.return=T,O)}function P(T,O,A,W){var te=A.type;return te===re?U(T,O,A.props.children,W,A.key):O!==null&&(O.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Ye&&Mh(te)===O.type)?(W=h(O,A.props),W.ref=Li(T,O,A),W.return=T,W):(W=ko(A.type,A.key,A.props,null,T.mode,W),W.ref=Li(T,O,A),W.return=T,W)}function $(T,O,A,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==A.containerInfo||O.stateNode.implementation!==A.implementation?(O=Kc(A,T.mode,W),O.return=T,O):(O=h(O,A.children||[]),O.return=T,O)}function U(T,O,A,W,te){return O===null||O.tag!==7?(O=Un(A,T.mode,W,te),O.return=T,O):(O=h(O,A),O.return=T,O)}function q(T,O,A){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Hc(""+O,T.mode,A),O.return=T,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return A=ko(O.type,O.key,O.props,null,T.mode,A),A.ref=Li(T,null,O),A.return=T,A;case V:return O=Kc(O,T.mode,A),O.return=T,O;case Ye:var W=O._init;return q(T,W(O._payload),A)}if(ui(O)||ue(O))return O=Un(O,T.mode,A,null),O.return=T,O;no(T,O)}return null}function M(T,O,A,W){var te=O!==null?O.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return te!==null?null:C(T,O,""+A,W);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case B:return A.key===te?P(T,O,A,W):null;case V:return A.key===te?$(T,O,A,W):null;case Ye:return te=A._init,M(T,O,te(A._payload),W)}if(ui(A)||ue(A))return te!==null?null:U(T,O,A,W,null);no(T,A)}return null}function Z(T,O,A,W,te){if(typeof W=="string"&&W!==""||typeof W=="number")return T=T.get(A)||null,C(O,T,""+W,te);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case B:return T=T.get(W.key===null?A:W.key)||null,P(O,T,W,te);case V:return T=T.get(W.key===null?A:W.key)||null,$(O,T,W,te);case Ye:var oe=W._init;return Z(T,O,A,oe(W._payload),te)}if(ui(W)||ue(W))return T=T.get(A)||null,U(O,T,W,te,null);no(O,W)}return null}function Y(T,O,A,W){for(var te=null,oe=null,le=O,fe=O=0,rt=null;le!==null&&fe<A.length;fe++){le.index>fe?(rt=le,le=null):rt=le.sibling;var Ne=M(T,le,A[fe],W);if(Ne===null){le===null&&(le=rt);break}e&&le&&Ne.alternate===null&&t(T,le),O=p(Ne,O,fe),oe===null?te=Ne:oe.sibling=Ne,oe=Ne,le=rt}if(fe===A.length)return i(T,le),Me&&Tn(T,fe),te;if(le===null){for(;fe<A.length;fe++)le=q(T,A[fe],W),le!==null&&(O=p(le,O,fe),oe===null?te=le:oe.sibling=le,oe=le);return Me&&Tn(T,fe),te}for(le=c(T,le);fe<A.length;fe++)rt=Z(le,T,fe,A[fe],W),rt!==null&&(e&&rt.alternate!==null&&le.delete(rt.key===null?fe:rt.key),O=p(rt,O,fe),oe===null?te=rt:oe.sibling=rt,oe=rt);return e&&le.forEach(function(ln){return t(T,ln)}),Me&&Tn(T,fe),te}function ee(T,O,A,W){var te=ue(A);if(typeof te!="function")throw Error(n(150));if(A=te.call(A),A==null)throw Error(n(151));for(var oe=te=null,le=O,fe=O=0,rt=null,Ne=A.next();le!==null&&!Ne.done;fe++,Ne=A.next()){le.index>fe?(rt=le,le=null):rt=le.sibling;var ln=M(T,le,Ne.value,W);if(ln===null){le===null&&(le=rt);break}e&&le&&ln.alternate===null&&t(T,le),O=p(ln,O,fe),oe===null?te=ln:oe.sibling=ln,oe=ln,le=rt}if(Ne.done)return i(T,le),Me&&Tn(T,fe),te;if(le===null){for(;!Ne.done;fe++,Ne=A.next())Ne=q(T,Ne.value,W),Ne!==null&&(O=p(Ne,O,fe),oe===null?te=Ne:oe.sibling=Ne,oe=Ne);return Me&&Tn(T,fe),te}for(le=c(T,le);!Ne.done;fe++,Ne=A.next())Ne=Z(le,T,fe,Ne.value,W),Ne!==null&&(e&&Ne.alternate!==null&&le.delete(Ne.key===null?fe:Ne.key),O=p(Ne,O,fe),oe===null?te=Ne:oe.sibling=Ne,oe=Ne);return e&&le.forEach(function(p0){return t(T,p0)}),Me&&Tn(T,fe),te}function Ve(T,O,A,W){if(typeof A=="object"&&A!==null&&A.type===re&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case B:e:{for(var te=A.key,oe=O;oe!==null;){if(oe.key===te){if(te=A.type,te===re){if(oe.tag===7){i(T,oe.sibling),O=h(oe,A.props.children),O.return=T,T=O;break e}}else if(oe.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Ye&&Mh(te)===oe.type){i(T,oe.sibling),O=h(oe,A.props),O.ref=Li(T,oe,A),O.return=T,T=O;break e}i(T,oe);break}else t(T,oe);oe=oe.sibling}A.type===re?(O=Un(A.props.children,T.mode,W,A.key),O.return=T,T=O):(W=ko(A.type,A.key,A.props,null,T.mode,W),W.ref=Li(T,O,A),W.return=T,T=W)}return w(T);case V:e:{for(oe=A.key;O!==null;){if(O.key===oe)if(O.tag===4&&O.stateNode.containerInfo===A.containerInfo&&O.stateNode.implementation===A.implementation){i(T,O.sibling),O=h(O,A.children||[]),O.return=T,T=O;break e}else{i(T,O);break}else t(T,O);O=O.sibling}O=Kc(A,T.mode,W),O.return=T,T=O}return w(T);case Ye:return oe=A._init,Ve(T,O,oe(A._payload),W)}if(ui(A))return Y(T,O,A,W);if(ue(A))return ee(T,O,A,W);no(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,O!==null&&O.tag===6?(i(T,O.sibling),O=h(O,A),O.return=T,T=O):(i(T,O),O=Hc(A,T.mode,W),O.return=T,T=O),w(T)):i(T,O)}return Ve}var Ss=Fh(!0),Uh=Fh(!1),$i={},pr=Zr($i),Ii=Zr($i),Di=Zr($i);function Ln(e){if(e===$i)throw Error(n(174));return e}function cc(e,t){switch(Le(Di,t),Le(Ii,e),Le(pr,$i),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ll(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ll(t,e)}De(pr),Le(pr,t)}function Cs(){De(pr),De(Ii),De(Di)}function qh(e){Ln(Di.current);var t=Ln(pr.current),i=ll(t,e.type);t!==i&&(Le(Ii,e),Le(pr,i))}function uc(e){Ii.current===e&&(De(pr),De(Ii))}var Fe=Zr(0);function so(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dc=[];function hc(){for(var e=0;e<dc.length;e++)dc[e]._workInProgressVersionPrimary=null;dc.length=0}var io=D.ReactCurrentDispatcher,fc=D.ReactCurrentBatchConfig,$n=0,Ue=null,Ge=null,et=null,ao=!1,Mi=!1,Fi=0,$g=0;function dt(){throw Error(n(321))}function pc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Xt(e[i],t[i]))return!1;return!0}function mc(e,t,i,c,h,p){if($n=p,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=e===null||e.memoizedState===null?Fg:Ug,e=i(c,h),Mi){p=0;do{if(Mi=!1,Fi=0,25<=p)throw Error(n(301));p+=1,et=Ge=null,t.updateQueue=null,io.current=qg,e=i(c,h)}while(Mi)}if(io.current=co,t=Ge!==null&&Ge.next!==null,$n=0,et=Ge=Ue=null,ao=!1,t)throw Error(n(300));return e}function yc(){var e=Fi!==0;return Fi=0,e}function mr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ue.memoizedState=et=e:et=et.next=e,et}function Vt(){if(Ge===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=et===null?Ue.memoizedState:et.next;if(t!==null)et=t,Ge=e;else{if(e===null)throw Error(n(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},et===null?Ue.memoizedState=et=e:et=et.next=e}return et}function Ui(e,t){return typeof t=="function"?t(e):t}function gc(e){var t=Vt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var c=Ge,h=c.baseQueue,p=i.pending;if(p!==null){if(h!==null){var w=h.next;h.next=p.next,p.next=w}c.baseQueue=h=p,i.pending=null}if(h!==null){p=h.next,c=c.baseState;var C=w=null,P=null,$=p;do{var U=$.lane;if(($n&U)===U)P!==null&&(P=P.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:e(c,$.action);else{var q={lane:U,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};P===null?(C=P=q,w=c):P=P.next=q,Ue.lanes|=U,In|=U}$=$.next}while($!==null&&$!==p);P===null?w=c:P.next=C,Xt(c,t.memoizedState)||(Pt=!0),t.memoizedState=c,t.baseState=w,t.baseQueue=P,i.lastRenderedState=c}if(e=i.interleaved,e!==null){h=e;do p=h.lane,Ue.lanes|=p,In|=p,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function vc(e){var t=Vt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var c=i.dispatch,h=i.pending,p=t.memoizedState;if(h!==null){i.pending=null;var w=h=h.next;do p=e(p,w.action),w=w.next;while(w!==h);Xt(p,t.memoizedState)||(Pt=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),i.lastRenderedState=p}return[p,c]}function Bh(){}function Wh(e,t){var i=Ue,c=Vt(),h=t(),p=!Xt(c.memoizedState,h);if(p&&(c.memoizedState=h,Pt=!0),c=c.queue,wc(Vh.bind(null,i,c,e),[e]),c.getSnapshot!==t||p||et!==null&&et.memoizedState.tag&1){if(i.flags|=2048,qi(9,Kh.bind(null,i,c,h,t),void 0,null),tt===null)throw Error(n(349));($n&30)!==0||Hh(i,t,h)}return h}function Hh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Kh(e,t,i,c){t.value=i,t.getSnapshot=c,Qh(t)&&Gh(e)}function Vh(e,t,i){return i(function(){Qh(t)&&Gh(e)})}function Qh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Xt(e,i)}catch{return!0}}function Gh(e){var t=jr(e,1);t!==null&&nr(t,e,1,-1)}function Zh(e){var t=mr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},t.queue=e,e=e.dispatch=Mg.bind(null,Ue,e),[t.memoizedState,e]}function qi(e,t,i,c){return e={tag:e,create:t,destroy:i,deps:c,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,t.lastEffect=e)),e}function Jh(){return Vt().memoizedState}function oo(e,t,i,c){var h=mr();Ue.flags|=e,h.memoizedState=qi(1|t,i,void 0,c===void 0?null:c)}function lo(e,t,i,c){var h=Vt();c=c===void 0?null:c;var p=void 0;if(Ge!==null){var w=Ge.memoizedState;if(p=w.destroy,c!==null&&pc(c,w.deps)){h.memoizedState=qi(t,i,p,c);return}}Ue.flags|=e,h.memoizedState=qi(1|t,i,p,c)}function Xh(e,t){return oo(8390656,8,e,t)}function wc(e,t){return lo(2048,8,e,t)}function Yh(e,t){return lo(4,2,e,t)}function ef(e,t){return lo(4,4,e,t)}function tf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rf(e,t,i){return i=i!=null?i.concat([e]):null,lo(4,4,tf.bind(null,t,e),i)}function _c(){}function nf(e,t){var i=Vt();t=t===void 0?null:t;var c=i.memoizedState;return c!==null&&t!==null&&pc(t,c[1])?c[0]:(i.memoizedState=[e,t],e)}function sf(e,t){var i=Vt();t=t===void 0?null:t;var c=i.memoizedState;return c!==null&&t!==null&&pc(t,c[1])?c[0]:(e=e(),i.memoizedState=[e,t],e)}function af(e,t,i){return($n&21)===0?(e.baseState&&(e.baseState=!1,Pt=!0),e.memoizedState=i):(Xt(i,t)||(i=zd(),Ue.lanes|=i,In|=i,e.baseState=!0),t)}function Ig(e,t){var i=je;je=i!==0&&4>i?i:4,e(!0);var c=fc.transition;fc.transition={};try{e(!1),t()}finally{je=i,fc.transition=c}}function of(){return Vt().memoizedState}function Dg(e,t,i){var c=sn(e);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},lf(e))cf(t,i);else if(i=zh(e,t,i,c),i!==null){var h=vt();nr(i,e,c,h),uf(i,t,c)}}function Mg(e,t,i){var c=sn(e),h={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(lf(e))cf(t,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var w=t.lastRenderedState,C=p(w,i);if(h.hasEagerState=!0,h.eagerState=C,Xt(C,w)){var P=t.interleaved;P===null?(h.next=h,ic(t)):(h.next=P.next,P.next=h),t.interleaved=h;return}}catch{}finally{}i=zh(e,t,h,c),i!==null&&(h=vt(),nr(i,e,c,h),uf(i,t,c))}}function lf(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function cf(e,t){Mi=ao=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function uf(e,t,i){if((i&4194240)!==0){var c=t.lanes;c&=e.pendingLanes,i|=c,t.lanes=i,_l(e,i)}}var co={readContext:Kt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},Fg={readContext:Kt,useCallback:function(e,t){return mr().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Xh,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,oo(4194308,4,tf.bind(null,t,e),i)},useLayoutEffect:function(e,t){return oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var i=mr();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var c=mr();return t=i!==void 0?i(t):t,c.memoizedState=c.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},c.queue=e,e=e.dispatch=Dg.bind(null,Ue,e),[c.memoizedState,e]},useRef:function(e){var t=mr();return e={current:e},t.memoizedState=e},useState:Zh,useDebugValue:_c,useDeferredValue:function(e){return mr().memoizedState=e},useTransition:function(){var e=Zh(!1),t=e[0];return e=Ig.bind(null,e[1]),mr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var c=Ue,h=mr();if(Me){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),tt===null)throw Error(n(349));($n&30)!==0||Hh(c,t,i)}h.memoizedState=i;var p={value:i,getSnapshot:t};return h.queue=p,Xh(Vh.bind(null,c,p,e),[e]),c.flags|=2048,qi(9,Kh.bind(null,c,p,i,t),void 0,null),i},useId:function(){var e=mr(),t=tt.identifierPrefix;if(Me){var i=Pr,c=Er;i=(c&~(1<<32-Jt(c)-1)).toString(32)+i,t=":"+t+"R"+i,i=Fi++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=$g++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ug={readContext:Kt,useCallback:nf,useContext:Kt,useEffect:wc,useImperativeHandle:rf,useInsertionEffect:Yh,useLayoutEffect:ef,useMemo:sf,useReducer:gc,useRef:Jh,useState:function(){return gc(Ui)},useDebugValue:_c,useDeferredValue:function(e){var t=Vt();return af(t,Ge.memoizedState,e)},useTransition:function(){var e=gc(Ui)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Bh,useSyncExternalStore:Wh,useId:of,unstable_isNewReconciler:!1},qg={readContext:Kt,useCallback:nf,useContext:Kt,useEffect:wc,useImperativeHandle:rf,useInsertionEffect:Yh,useLayoutEffect:ef,useMemo:sf,useReducer:vc,useRef:Jh,useState:function(){return vc(Ui)},useDebugValue:_c,useDeferredValue:function(e){var t=Vt();return Ge===null?t.memoizedState=e:af(t,Ge.memoizedState,e)},useTransition:function(){var e=vc(Ui)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Bh,useSyncExternalStore:Wh,useId:of,unstable_isNewReconciler:!1};function Es(e,t){try{var i="",c=t;do i+=Ae(c),c=c.return;while(c);var h=i}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:h,digest:null}}function xc(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function bc(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Bg=typeof WeakMap=="function"?WeakMap:Map;function df(e,t,i){i=Rr(-1,i),i.tag=3,i.payload={element:null};var c=t.value;return i.callback=function(){go||(go=!0,Ic=c),bc(e,t)},i}function hf(e,t,i){i=Rr(-1,i),i.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var h=t.value;i.payload=function(){return c(h)},i.callback=function(){bc(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){bc(e,t),typeof c!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var w=t.stack;this.componentDidCatch(t.value,{componentStack:w!==null?w:""})}),i}function ff(e,t,i){var c=e.pingCache;if(c===null){c=e.pingCache=new Bg;var h=new Set;c.set(t,h)}else h=c.get(t),h===void 0&&(h=new Set,c.set(t,h));h.has(i)||(h.add(i),e=n0.bind(null,e,t,i),t.then(e,e))}function pf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mf(e,t,i,c,h){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Rr(-1,1),t.tag=2,en(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var Wg=D.ReactCurrentOwner,Pt=!1;function gt(e,t,i,c){t.child=e===null?Uh(t,null,i,c):Ss(t,e.child,i,c)}function yf(e,t,i,c,h){i=i.render;var p=t.ref;return Ns(t,h),c=mc(e,t,i,c,p,h),i=yc(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,zr(e,t,h)):(Me&&i&&Zl(t),t.flags|=1,gt(e,t,c,h),t.child)}function gf(e,t,i,c,h){if(e===null){var p=i.type;return typeof p=="function"&&!Wc(p)&&p.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=p,vf(e,t,p,c,h)):(e=ko(i.type,null,c,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,(e.lanes&h)===0){var w=p.memoizedProps;if(i=i.compare,i=i!==null?i:Pi,i(w,c)&&e.ref===t.ref)return zr(e,t,h)}return t.flags|=1,e=on(p,c),e.ref=t.ref,e.return=t,t.child=e}function vf(e,t,i,c,h){if(e!==null){var p=e.memoizedProps;if(Pi(p,c)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=c=p,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Pt=!0);else return t.lanes=e.lanes,zr(e,t,h)}return kc(e,t,i,c,h)}function wf(e,t,i){var c=t.pendingProps,h=c.children,p=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(js,Ft),Ft|=i;else{if((i&1073741824)===0)return e=p!==null?p.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(js,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:i,Le(js,Ft),Ft|=c}else p!==null?(c=p.baseLanes|i,t.memoizedState=null):c=i,Le(js,Ft),Ft|=c;return gt(e,t,h,i),t.child}function _f(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function kc(e,t,i,c,h){var p=Et(i)?zn:ut.current;return p=ws(t,p),Ns(t,h),i=mc(e,t,i,c,p,h),c=yc(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,zr(e,t,h)):(Me&&c&&Zl(t),t.flags|=1,gt(e,t,i,h),t.child)}function xf(e,t,i,c,h){if(Et(i)){var p=!0;Va(t)}else p=!1;if(Ns(t,h),t.stateNode===null)ho(e,t),Ih(t,i,c),lc(t,i,c,h),c=!0;else if(e===null){var w=t.stateNode,C=t.memoizedProps;w.props=C;var P=w.context,$=i.contextType;typeof $=="object"&&$!==null?$=Kt($):($=Et(i)?zn:ut.current,$=ws(t,$));var U=i.getDerivedStateFromProps,q=typeof U=="function"||typeof w.getSnapshotBeforeUpdate=="function";q||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==c||P!==$)&&Dh(t,w,c,$),Yr=!1;var M=t.memoizedState;w.state=M,to(t,c,w,h),P=t.memoizedState,C!==c||M!==P||Ct.current||Yr?(typeof U=="function"&&(oc(t,i,U,c),P=t.memoizedState),(C=Yr||$h(t,i,C,c,M,P,$))?(q||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(t.flags|=4194308)):(typeof w.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=c,t.memoizedState=P),w.props=c,w.state=P,w.context=$,c=C):(typeof w.componentDidMount=="function"&&(t.flags|=4194308),c=!1)}else{w=t.stateNode,Oh(e,t),C=t.memoizedProps,$=t.type===t.elementType?C:er(t.type,C),w.props=$,q=t.pendingProps,M=w.context,P=i.contextType,typeof P=="object"&&P!==null?P=Kt(P):(P=Et(i)?zn:ut.current,P=ws(t,P));var Z=i.getDerivedStateFromProps;(U=typeof Z=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==q||M!==P)&&Dh(t,w,c,P),Yr=!1,M=t.memoizedState,w.state=M,to(t,c,w,h);var Y=t.memoizedState;C!==q||M!==Y||Ct.current||Yr?(typeof Z=="function"&&(oc(t,i,Z,c),Y=t.memoizedState),($=Yr||$h(t,i,$,c,M,Y,P)||!1)?(U||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,Y,P),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,Y,P)),typeof w.componentDidUpdate=="function"&&(t.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=c,t.memoizedState=Y),w.props=c,w.state=Y,w.context=P,c=$):(typeof w.componentDidUpdate!="function"||C===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),c=!1)}return Nc(e,t,i,c,p,h)}function Nc(e,t,i,c,h,p){_f(e,t);var w=(t.flags&128)!==0;if(!c&&!w)return h&&Nh(t,i,!1),zr(e,t,p);c=t.stateNode,Wg.current=t;var C=w&&typeof i.getDerivedStateFromError!="function"?null:c.render();return t.flags|=1,e!==null&&w?(t.child=Ss(t,e.child,null,p),t.child=Ss(t,null,C,p)):gt(e,t,C,p),t.memoizedState=c.state,h&&Nh(t,i,!0),t.child}function bf(e){var t=e.stateNode;t.pendingContext?bh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bh(e,t.context,!1),cc(e,t.containerInfo)}function kf(e,t,i,c,h){return bs(),ec(h),t.flags|=256,gt(e,t,i,c),t.child}var Sc={dehydrated:null,treeContext:null,retryLane:0};function Cc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nf(e,t,i){var c=t.pendingProps,h=Fe.current,p=!1,w=(t.flags&128)!==0,C;if((C=w)||(C=e!==null&&e.memoizedState===null?!1:(h&2)!==0),C?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Le(Fe,h&1),e===null)return Yl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(w=c.children,e=c.fallback,p?(c=t.mode,p=t.child,w={mode:"hidden",children:w},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=w):p=No(w,c,0,null),e=Un(e,c,i,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=Cc(i),t.memoizedState=Sc,e):Ec(t,w));if(h=e.memoizedState,h!==null&&(C=h.dehydrated,C!==null))return Hg(e,t,w,c,C,h,i);if(p){p=c.fallback,w=t.mode,h=e.child,C=h.sibling;var P={mode:"hidden",children:c.children};return(w&1)===0&&t.child!==h?(c=t.child,c.childLanes=0,c.pendingProps=P,t.deletions=null):(c=on(h,P),c.subtreeFlags=h.subtreeFlags&14680064),C!==null?p=on(C,p):(p=Un(p,w,i,null),p.flags|=2),p.return=t,c.return=t,c.sibling=p,t.child=c,c=p,p=t.child,w=e.child.memoizedState,w=w===null?Cc(i):{baseLanes:w.baseLanes|i,cachePool:null,transitions:w.transitions},p.memoizedState=w,p.childLanes=e.childLanes&~i,t.memoizedState=Sc,c}return p=e.child,e=p.sibling,c=on(p,{mode:"visible",children:c.children}),(t.mode&1)===0&&(c.lanes=i),c.return=t,c.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=c,t.memoizedState=null,c}function Ec(e,t){return t=No({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uo(e,t,i,c){return c!==null&&ec(c),Ss(t,e.child,null,i),e=Ec(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hg(e,t,i,c,h,p,w){if(i)return t.flags&256?(t.flags&=-257,c=xc(Error(n(422))),uo(e,t,w,c)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=c.fallback,h=t.mode,c=No({mode:"visible",children:c.children},h,0,null),p=Un(p,h,w,null),p.flags|=2,c.return=t,p.return=t,c.sibling=p,t.child=c,(t.mode&1)!==0&&Ss(t,e.child,null,w),t.child.memoizedState=Cc(w),t.memoizedState=Sc,p);if((t.mode&1)===0)return uo(e,t,w,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var C=c.dgst;return c=C,p=Error(n(419)),c=xc(p,c,void 0),uo(e,t,w,c)}if(C=(w&e.childLanes)!==0,Pt||C){if(c=tt,c!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|w))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,jr(e,h),nr(c,e,h,-1))}return Bc(),c=xc(Error(n(421))),uo(e,t,w,c)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=s0.bind(null,e),h._reactRetry=t,null):(e=p.treeContext,Mt=Gr(h.nextSibling),Dt=t,Me=!0,Yt=null,e!==null&&(Wt[Ht++]=Er,Wt[Ht++]=Pr,Wt[Ht++]=On,Er=e.id,Pr=e.overflow,On=t),t=Ec(t,c.children),t.flags|=4096,t)}function Sf(e,t,i){e.lanes|=t;var c=e.alternate;c!==null&&(c.lanes|=t),sc(e.return,t,i)}function Pc(e,t,i,c,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:h}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=i,p.tailMode=h)}function Cf(e,t,i){var c=t.pendingProps,h=c.revealOrder,p=c.tail;if(gt(e,t,c.children,i),c=Fe.current,(c&2)!==0)c=c&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sf(e,i,t);else if(e.tag===19)Sf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(Le(Fe,c),(t.mode&1)===0)t.memoizedState=null;else switch(h){case"forwards":for(i=t.child,h=null;i!==null;)e=i.alternate,e!==null&&so(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=t.child,t.child=null):(h=i.sibling,i.sibling=null),Pc(t,!1,h,i,p);break;case"backwards":for(i=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&so(e)===null){t.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Pc(t,!0,i,null,p);break;case"together":Pc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),In|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=on(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=on(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Kg(e,t,i){switch(t.tag){case 3:bf(t),bs();break;case 5:qh(t);break;case 1:Et(t.type)&&Va(t);break;case 4:cc(t,t.stateNode.containerInfo);break;case 10:var c=t.type._context,h=t.memoizedProps.value;Le(Xa,c._currentValue),c._currentValue=h;break;case 13:if(c=t.memoizedState,c!==null)return c.dehydrated!==null?(Le(Fe,Fe.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Nf(e,t,i):(Le(Fe,Fe.current&1),e=zr(e,t,i),e!==null?e.sibling:null);Le(Fe,Fe.current&1);break;case 19:if(c=(i&t.childLanes)!==0,(e.flags&128)!==0){if(c)return Cf(e,t,i);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Le(Fe,Fe.current),c)break;return null;case 22:case 23:return t.lanes=0,wf(e,t,i)}return zr(e,t,i)}var Ef,jc,Pf,jf;Ef=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},jc=function(){},Pf=function(e,t,i,c){var h=e.memoizedProps;if(h!==c){e=t.stateNode,Ln(pr.current);var p=null;switch(i){case"input":h=sl(e,h),c=sl(e,c),p=[];break;case"select":h=j({},h,{value:void 0}),c=j({},c,{value:void 0}),p=[];break;case"textarea":h=ol(e,h),c=ol(e,c),p=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Wa)}cl(i,c);var w;i=null;for($ in h)if(!c.hasOwnProperty($)&&h.hasOwnProperty($)&&h[$]!=null)if($==="style"){var C=h[$];for(w in C)C.hasOwnProperty(w)&&(i||(i={}),i[w]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?p||(p=[]):(p=p||[]).push($,null));for($ in c){var P=c[$];if(C=h!=null?h[$]:void 0,c.hasOwnProperty($)&&P!==C&&(P!=null||C!=null))if($==="style")if(C){for(w in C)!C.hasOwnProperty(w)||P&&P.hasOwnProperty(w)||(i||(i={}),i[w]="");for(w in P)P.hasOwnProperty(w)&&C[w]!==P[w]&&(i||(i={}),i[w]=P[w])}else i||(p||(p=[]),p.push($,i)),i=P;else $==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,C=C?C.__html:void 0,P!=null&&C!==P&&(p=p||[]).push($,P)):$==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push($,""+P):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(P!=null&&$==="onScroll"&&Ie("scroll",e),p||C===P||(p=[])):(p=p||[]).push($,P))}i&&(p=p||[]).push("style",i);var $=p;(t.updateQueue=$)&&(t.flags|=4)}},jf=function(e,t,i,c){i!==c&&(t.flags|=4)};function Bi(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(t)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=i,t}function Vg(e,t,i){var c=t.pendingProps;switch(Jl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return Et(t.type)&&Ka(),ht(t),null;case 3:return c=t.stateNode,Cs(),De(Ct),De(ut),hc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Ja(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Yt!==null&&(Fc(Yt),Yt=null))),jc(e,t),ht(t),null;case 5:uc(t);var h=Ln(Di.current);if(i=t.type,e!==null&&t.stateNode!=null)Pf(e,t,i,c,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!c){if(t.stateNode===null)throw Error(n(166));return ht(t),null}if(e=Ln(pr.current),Ja(t)){c=t.stateNode,i=t.type;var p=t.memoizedProps;switch(c[fr]=t,c[Ti]=p,e=(t.mode&1)!==0,i){case"dialog":Ie("cancel",c),Ie("close",c);break;case"iframe":case"object":case"embed":Ie("load",c);break;case"video":case"audio":for(h=0;h<Ri.length;h++)Ie(Ri[h],c);break;case"source":Ie("error",c);break;case"img":case"image":case"link":Ie("error",c),Ie("load",c);break;case"details":Ie("toggle",c);break;case"input":od(c,p),Ie("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Ie("invalid",c);break;case"textarea":ud(c,p),Ie("invalid",c)}cl(i,p),h=null;for(var w in p)if(p.hasOwnProperty(w)){var C=p[w];w==="children"?typeof C=="string"?c.textContent!==C&&(p.suppressHydrationWarning!==!0&&Ba(c.textContent,C,e),h=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(p.suppressHydrationWarning!==!0&&Ba(c.textContent,C,e),h=["children",""+C]):o.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&Ie("scroll",c)}switch(i){case"input":_a(c),cd(c,p,!0);break;case"textarea":_a(c),hd(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Wa)}c=h,t.updateQueue=c,c!==null&&(t.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fd(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=w.createElement(i,{is:c.is}):(e=w.createElement(i),i==="select"&&(w=e,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):e=w.createElementNS(e,i),e[fr]=t,e[Ti]=c,Ef(e,t,!1,!1),t.stateNode=e;e:{switch(w=ul(i,c),i){case"dialog":Ie("cancel",e),Ie("close",e),h=c;break;case"iframe":case"object":case"embed":Ie("load",e),h=c;break;case"video":case"audio":for(h=0;h<Ri.length;h++)Ie(Ri[h],e);h=c;break;case"source":Ie("error",e),h=c;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),h=c;break;case"details":Ie("toggle",e),h=c;break;case"input":od(e,c),h=sl(e,c),Ie("invalid",e);break;case"option":h=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},h=j({},c,{value:void 0}),Ie("invalid",e);break;case"textarea":ud(e,c),h=ol(e,c),Ie("invalid",e);break;default:h=c}cl(i,h),C=h;for(p in C)if(C.hasOwnProperty(p)){var P=C[p];p==="style"?yd(e,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&pd(e,P)):p==="children"?typeof P=="string"?(i!=="textarea"||P!=="")&&di(e,P):typeof P=="number"&&di(e,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?P!=null&&p==="onScroll"&&Ie("scroll",e):P!=null&&L(e,p,P,w))}switch(i){case"input":_a(e),cd(e,c,!1);break;case"textarea":_a(e),hd(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Ce(c.value));break;case"select":e.multiple=!!c.multiple,p=c.value,p!=null?os(e,!!c.multiple,p,!1):c.defaultValue!=null&&os(e,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Wa)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)jf(e,t,e.memoizedProps,c);else{if(typeof c!="string"&&t.stateNode===null)throw Error(n(166));if(i=Ln(Di.current),Ln(pr.current),Ja(t)){if(c=t.stateNode,i=t.memoizedProps,c[fr]=t,(p=c.nodeValue!==i)&&(e=Dt,e!==null))switch(e.tag){case 3:Ba(c.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ba(c.nodeValue,i,(e.mode&1)!==0)}p&&(t.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[fr]=t,t.stateNode=c}return ht(t),null;case 13:if(De(Fe),c=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Mt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Rh(),bs(),t.flags|=98560,p=!1;else if(p=Ja(t),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(n(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[fr]=t}else bs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),p=!1}else Yt!==null&&(Fc(Yt),Yt=null),p=!0;if(!p)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Fe.current&1)!==0?Ze===0&&(Ze=3):Bc())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return Cs(),jc(e,t),e===null&&zi(t.stateNode.containerInfo),ht(t),null;case 10:return nc(t.type._context),ht(t),null;case 17:return Et(t.type)&&Ka(),ht(t),null;case 19:if(De(Fe),p=t.memoizedState,p===null)return ht(t),null;if(c=(t.flags&128)!==0,w=p.rendering,w===null)if(c)Bi(p,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(w=so(e),w!==null){for(t.flags|=128,Bi(p,!1),c=w.updateQueue,c!==null&&(t.updateQueue=c,t.flags|=4),t.subtreeFlags=0,c=i,i=t.child;i!==null;)p=i,e=c,p.flags&=14680066,w=p.alternate,w===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,e=w.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Le(Fe,Fe.current&1|2),t.child}e=e.sibling}p.tail!==null&&Ke()>Rs&&(t.flags|=128,c=!0,Bi(p,!1),t.lanes=4194304)}else{if(!c)if(e=so(w),e!==null){if(t.flags|=128,c=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Bi(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Me)return ht(t),null}else 2*Ke()-p.renderingStartTime>Rs&&i!==1073741824&&(t.flags|=128,c=!0,Bi(p,!1),t.lanes=4194304);p.isBackwards?(w.sibling=t.child,t.child=w):(i=p.last,i!==null?i.sibling=w:t.child=w,p.last=w)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=Ke(),t.sibling=null,i=Fe.current,Le(Fe,c?i&1|2:i&1),t):(ht(t),null);case 22:case 23:return qc(),c=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(t.flags|=8192),c&&(t.mode&1)!==0?(Ft&1073741824)!==0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Qg(e,t){switch(Jl(t),t.tag){case 1:return Et(t.type)&&Ka(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cs(),De(Ct),De(ut),hc(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return uc(t),null;case 13:if(De(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));bs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Fe),null;case 4:return Cs(),null;case 10:return nc(t.type._context),null;case 22:case 23:return qc(),null;case 24:return null;default:return null}}var fo=!1,ft=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ps(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){Be(e,t,c)}else i.current=null}function Rc(e,t,i){try{i()}catch(c){Be(e,t,c)}}var Rf=!1;function Zg(e,t){if(ql=Oa,e=ah(),Al(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var w=0,C=-1,P=-1,$=0,U=0,q=e,M=null;t:for(;;){for(var Z;q!==i||h!==0&&q.nodeType!==3||(C=w+h),q!==p||c!==0&&q.nodeType!==3||(P=w+c),q.nodeType===3&&(w+=q.nodeValue.length),(Z=q.firstChild)!==null;)M=q,q=Z;for(;;){if(q===e)break t;if(M===i&&++$===h&&(C=w),M===p&&++U===c&&(P=w),(Z=q.nextSibling)!==null)break;q=M,M=q.parentNode}q=Z}i=C===-1||P===-1?null:{start:C,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(Bl={focusedElem:e,selectionRange:i},Oa=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var Y=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var ee=Y.memoizedProps,Ve=Y.memoizedState,T=t.stateNode,O=T.getSnapshotBeforeUpdate(t.elementType===t.type?ee:er(t.type,ee),Ve);T.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(W){Be(t,t.return,W)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return Y=Rf,Rf=!1,Y}function Wi(e,t,i){var c=t.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&e)===e){var p=h.destroy;h.destroy=void 0,p!==void 0&&Rc(t,i,p)}h=h.next}while(h!==c)}}function po(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var c=i.create;i.destroy=c()}i=i.next}while(i!==t)}}function zc(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function zf(e){var t=e.alternate;t!==null&&(e.alternate=null,zf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fr],delete t[Ti],delete t[Vl],delete t[Og],delete t[Tg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Of(e){return e.tag===5||e.tag===3||e.tag===4}function Tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Of(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oc(e,t,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Wa));else if(c!==4&&(e=e.child,e!==null))for(Oc(e,t,i),e=e.sibling;e!==null;)Oc(e,t,i),e=e.sibling}function Tc(e,t,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Tc(e,t,i),e=e.sibling;e!==null;)Tc(e,t,i),e=e.sibling}var ot=null,tr=!1;function tn(e,t,i){for(i=i.child;i!==null;)Af(e,t,i),i=i.sibling}function Af(e,t,i){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Ca,i)}catch{}switch(i.tag){case 5:ft||Ps(i,t);case 6:var c=ot,h=tr;ot=null,tn(e,t,i),ot=c,tr=h,ot!==null&&(tr?(e=ot,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):ot.removeChild(i.stateNode));break;case 18:ot!==null&&(tr?(e=ot,i=i.stateNode,e.nodeType===8?Kl(e.parentNode,i):e.nodeType===1&&Kl(e,i),bi(e)):Kl(ot,i.stateNode));break;case 4:c=ot,h=tr,ot=i.stateNode.containerInfo,tr=!0,tn(e,t,i),ot=c,tr=h;break;case 0:case 11:case 14:case 15:if(!ft&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var p=h,w=p.destroy;p=p.tag,w!==void 0&&((p&2)!==0||(p&4)!==0)&&Rc(i,t,w),h=h.next}while(h!==c)}tn(e,t,i);break;case 1:if(!ft&&(Ps(i,t),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(C){Be(i,t,C)}tn(e,t,i);break;case 21:tn(e,t,i);break;case 22:i.mode&1?(ft=(c=ft)||i.memoizedState!==null,tn(e,t,i),ft=c):tn(e,t,i);break;default:tn(e,t,i)}}function Lf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Gg),t.forEach(function(c){var h=i0.bind(null,e,c);i.has(c)||(i.add(c),c.then(h,h))})}}function rr(e,t){var i=t.deletions;if(i!==null)for(var c=0;c<i.length;c++){var h=i[c];try{var p=e,w=t,C=w;e:for(;C!==null;){switch(C.tag){case 5:ot=C.stateNode,tr=!1;break e;case 3:ot=C.stateNode.containerInfo,tr=!0;break e;case 4:ot=C.stateNode.containerInfo,tr=!0;break e}C=C.return}if(ot===null)throw Error(n(160));Af(p,w,h),ot=null,tr=!1;var P=h.alternate;P!==null&&(P.return=null),h.return=null}catch($){Be(h,t,$)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$f(t,e),t=t.sibling}function $f(e,t){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rr(t,e),yr(e),c&4){try{Wi(3,e,e.return),po(3,e)}catch(ee){Be(e,e.return,ee)}try{Wi(5,e,e.return)}catch(ee){Be(e,e.return,ee)}}break;case 1:rr(t,e),yr(e),c&512&&i!==null&&Ps(i,i.return);break;case 5:if(rr(t,e),yr(e),c&512&&i!==null&&Ps(i,i.return),e.flags&32){var h=e.stateNode;try{di(h,"")}catch(ee){Be(e,e.return,ee)}}if(c&4&&(h=e.stateNode,h!=null)){var p=e.memoizedProps,w=i!==null?i.memoizedProps:p,C=e.type,P=e.updateQueue;if(e.updateQueue=null,P!==null)try{C==="input"&&p.type==="radio"&&p.name!=null&&ld(h,p),ul(C,w);var $=ul(C,p);for(w=0;w<P.length;w+=2){var U=P[w],q=P[w+1];U==="style"?yd(h,q):U==="dangerouslySetInnerHTML"?pd(h,q):U==="children"?di(h,q):L(h,U,q,$)}switch(C){case"input":il(h,p);break;case"textarea":dd(h,p);break;case"select":var M=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?os(h,!!p.multiple,Z,!1):M!==!!p.multiple&&(p.defaultValue!=null?os(h,!!p.multiple,p.defaultValue,!0):os(h,!!p.multiple,p.multiple?[]:"",!1))}h[Ti]=p}catch(ee){Be(e,e.return,ee)}}break;case 6:if(rr(t,e),yr(e),c&4){if(e.stateNode===null)throw Error(n(162));h=e.stateNode,p=e.memoizedProps;try{h.nodeValue=p}catch(ee){Be(e,e.return,ee)}}break;case 3:if(rr(t,e),yr(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{bi(t.containerInfo)}catch(ee){Be(e,e.return,ee)}break;case 4:rr(t,e),yr(e);break;case 13:rr(t,e),yr(e),h=e.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||($c=Ke())),c&4&&Lf(e);break;case 22:if(U=i!==null&&i.memoizedState!==null,e.mode&1?(ft=($=ft)||U,rr(t,e),ft=$):rr(t,e),yr(e),c&8192){if($=e.memoizedState!==null,(e.stateNode.isHidden=$)&&!U&&(e.mode&1)!==0)for(X=e,U=e.child;U!==null;){for(q=X=U;X!==null;){switch(M=X,Z=M.child,M.tag){case 0:case 11:case 14:case 15:Wi(4,M,M.return);break;case 1:Ps(M,M.return);var Y=M.stateNode;if(typeof Y.componentWillUnmount=="function"){c=M,i=M.return;try{t=c,Y.props=t.memoizedProps,Y.state=t.memoizedState,Y.componentWillUnmount()}catch(ee){Be(c,i,ee)}}break;case 5:Ps(M,M.return);break;case 22:if(M.memoizedState!==null){Mf(q);continue}}Z!==null?(Z.return=M,X=Z):Mf(q)}U=U.sibling}e:for(U=null,q=e;;){if(q.tag===5){if(U===null){U=q;try{h=q.stateNode,$?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(C=q.stateNode,P=q.memoizedProps.style,w=P!=null&&P.hasOwnProperty("display")?P.display:null,C.style.display=md("display",w))}catch(ee){Be(e,e.return,ee)}}}else if(q.tag===6){if(U===null)try{q.stateNode.nodeValue=$?"":q.memoizedProps}catch(ee){Be(e,e.return,ee)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===e)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===e)break e;for(;q.sibling===null;){if(q.return===null||q.return===e)break e;U===q&&(U=null),q=q.return}U===q&&(U=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:rr(t,e),yr(e),c&4&&Lf(e);break;case 21:break;default:rr(t,e),yr(e)}}function yr(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Of(i)){var c=i;break e}i=i.return}throw Error(n(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(di(h,""),c.flags&=-33);var p=Tf(e);Tc(e,p,h);break;case 3:case 4:var w=c.stateNode.containerInfo,C=Tf(e);Oc(e,C,w);break;default:throw Error(n(161))}}catch(P){Be(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jg(e,t,i){X=e,If(e)}function If(e,t,i){for(var c=(e.mode&1)!==0;X!==null;){var h=X,p=h.child;if(h.tag===22&&c){var w=h.memoizedState!==null||fo;if(!w){var C=h.alternate,P=C!==null&&C.memoizedState!==null||ft;C=fo;var $=ft;if(fo=w,(ft=P)&&!$)for(X=h;X!==null;)w=X,P=w.child,w.tag===22&&w.memoizedState!==null?Ff(h):P!==null?(P.return=w,X=P):Ff(h);for(;p!==null;)X=p,If(p),p=p.sibling;X=h,fo=C,ft=$}Df(e)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,X=p):Df(e)}}function Df(e){for(;X!==null;){var t=X;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ft||po(5,t);break;case 1:var c=t.stateNode;if(t.flags&4&&!ft)if(i===null)c.componentDidMount();else{var h=t.elementType===t.type?i.memoizedProps:er(t.type,i.memoizedProps);c.componentDidUpdate(h,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&Ah(t,p,c);break;case 3:var w=t.updateQueue;if(w!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Ah(t,w,i)}break;case 5:var C=t.stateNode;if(i===null&&t.flags&4){i=C;var P=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&i.focus();break;case"img":P.src&&(i.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var $=t.alternate;if($!==null){var U=$.memoizedState;if(U!==null){var q=U.dehydrated;q!==null&&bi(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ft||t.flags&512&&zc(t)}catch(M){Be(t,t.return,M)}}if(t===e){X=null;break}if(i=t.sibling,i!==null){i.return=t.return,X=i;break}X=t.return}}function Mf(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var i=t.sibling;if(i!==null){i.return=t.return,X=i;break}X=t.return}}function Ff(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{po(4,t)}catch(P){Be(t,i,P)}break;case 1:var c=t.stateNode;if(typeof c.componentDidMount=="function"){var h=t.return;try{c.componentDidMount()}catch(P){Be(t,h,P)}}var p=t.return;try{zc(t)}catch(P){Be(t,p,P)}break;case 5:var w=t.return;try{zc(t)}catch(P){Be(t,w,P)}}}catch(P){Be(t,t.return,P)}if(t===e){X=null;break}var C=t.sibling;if(C!==null){C.return=t.return,X=C;break}X=t.return}}var Xg=Math.ceil,mo=D.ReactCurrentDispatcher,Ac=D.ReactCurrentOwner,Qt=D.ReactCurrentBatchConfig,be=0,tt=null,Qe=null,lt=0,Ft=0,js=Zr(0),Ze=0,Hi=null,In=0,yo=0,Lc=0,Ki=null,jt=null,$c=0,Rs=1/0,Or=null,go=!1,Ic=null,rn=null,vo=!1,nn=null,wo=0,Vi=0,Dc=null,_o=-1,xo=0;function vt(){return(be&6)!==0?Ke():_o!==-1?_o:_o=Ke()}function sn(e){return(e.mode&1)===0?1:(be&2)!==0&&lt!==0?lt&-lt:Lg.transition!==null?(xo===0&&(xo=zd()),xo):(e=je,e!==0||(e=window.event,e=e===void 0?16:Fd(e.type)),e)}function nr(e,t,i,c){if(50<Vi)throw Vi=0,Dc=null,Error(n(185));gi(e,i,c),((be&2)===0||e!==tt)&&(e===tt&&((be&2)===0&&(yo|=i),Ze===4&&an(e,lt)),Rt(e,c),i===1&&be===0&&(t.mode&1)===0&&(Rs=Ke()+500,Qa&&Xr()))}function Rt(e,t){var i=e.callbackNode;Ly(e,t);var c=ja(e,e===tt?lt:0);if(c===0)i!==null&&Pd(i),e.callbackNode=null,e.callbackPriority=0;else if(t=c&-c,e.callbackPriority!==t){if(i!=null&&Pd(i),t===1)e.tag===0?Ag(qf.bind(null,e)):Sh(qf.bind(null,e)),Rg(function(){(be&6)===0&&Xr()}),i=null;else{switch(Od(c)){case 1:i=gl;break;case 4:i=jd;break;case 16:i=Sa;break;case 536870912:i=Rd;break;default:i=Sa}i=Zf(i,Uf.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Uf(e,t){if(_o=-1,xo=0,(be&6)!==0)throw Error(n(327));var i=e.callbackNode;if(zs()&&e.callbackNode!==i)return null;var c=ja(e,e===tt?lt:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||t)t=bo(e,c);else{t=c;var h=be;be|=2;var p=Wf();(tt!==e||lt!==t)&&(Or=null,Rs=Ke()+500,Mn(e,t));do try{t0();break}catch(C){Bf(e,C)}while(!0);rc(),mo.current=p,be=h,Qe!==null?t=0:(tt=null,lt=0,t=Ze)}if(t!==0){if(t===2&&(h=vl(e),h!==0&&(c=h,t=Mc(e,h))),t===1)throw i=Hi,Mn(e,0),an(e,c),Rt(e,Ke()),i;if(t===6)an(e,c);else{if(h=e.current.alternate,(c&30)===0&&!Yg(h)&&(t=bo(e,c),t===2&&(p=vl(e),p!==0&&(c=p,t=Mc(e,p))),t===1))throw i=Hi,Mn(e,0),an(e,c),Rt(e,Ke()),i;switch(e.finishedWork=h,e.finishedLanes=c,t){case 0:case 1:throw Error(n(345));case 2:Fn(e,jt,Or);break;case 3:if(an(e,c),(c&130023424)===c&&(t=$c+500-Ke(),10<t)){if(ja(e,0)!==0)break;if(h=e.suspendedLanes,(h&c)!==c){vt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Hl(Fn.bind(null,e,jt,Or),t);break}Fn(e,jt,Or);break;case 4:if(an(e,c),(c&4194240)===c)break;for(t=e.eventTimes,h=-1;0<c;){var w=31-Jt(c);p=1<<w,w=t[w],w>h&&(h=w),c&=~p}if(c=h,c=Ke()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Xg(c/1960))-c,10<c){e.timeoutHandle=Hl(Fn.bind(null,e,jt,Or),c);break}Fn(e,jt,Or);break;case 5:Fn(e,jt,Or);break;default:throw Error(n(329))}}}return Rt(e,Ke()),e.callbackNode===i?Uf.bind(null,e):null}function Mc(e,t){var i=Ki;return e.current.memoizedState.isDehydrated&&(Mn(e,t).flags|=256),e=bo(e,t),e!==2&&(t=jt,jt=i,t!==null&&Fc(t)),e}function Fc(e){jt===null?jt=e:jt.push.apply(jt,e)}function Yg(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var h=i[c],p=h.getSnapshot;h=h.value;try{if(!Xt(p(),h))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~Lc,t&=~yo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Jt(t),c=1<<i;e[i]=-1,t&=~c}}function qf(e){if((be&6)!==0)throw Error(n(327));zs();var t=ja(e,0);if((t&1)===0)return Rt(e,Ke()),null;var i=bo(e,t);if(e.tag!==0&&i===2){var c=vl(e);c!==0&&(t=c,i=Mc(e,c))}if(i===1)throw i=Hi,Mn(e,0),an(e,t),Rt(e,Ke()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fn(e,jt,Or),Rt(e,Ke()),null}function Uc(e,t){var i=be;be|=1;try{return e(t)}finally{be=i,be===0&&(Rs=Ke()+500,Qa&&Xr())}}function Dn(e){nn!==null&&nn.tag===0&&(be&6)===0&&zs();var t=be;be|=1;var i=Qt.transition,c=je;try{if(Qt.transition=null,je=1,e)return e()}finally{je=c,Qt.transition=i,be=t,(be&6)===0&&Xr()}}function qc(){Ft=js.current,De(js)}function Mn(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,jg(i)),Qe!==null)for(i=Qe.return;i!==null;){var c=i;switch(Jl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ka();break;case 3:Cs(),De(Ct),De(ut),hc();break;case 5:uc(c);break;case 4:Cs();break;case 13:De(Fe);break;case 19:De(Fe);break;case 10:nc(c.type._context);break;case 22:case 23:qc()}i=i.return}if(tt=e,Qe=e=on(e.current,null),lt=Ft=t,Ze=0,Hi=null,Lc=yo=In=0,jt=Ki=null,An!==null){for(t=0;t<An.length;t++)if(i=An[t],c=i.interleaved,c!==null){i.interleaved=null;var h=c.next,p=i.pending;if(p!==null){var w=p.next;p.next=h,c.next=w}i.pending=c}An=null}return e}function Bf(e,t){do{var i=Qe;try{if(rc(),io.current=co,ao){for(var c=Ue.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}ao=!1}if($n=0,et=Ge=Ue=null,Mi=!1,Fi=0,Ac.current=null,i===null||i.return===null){Ze=1,Hi=t,Qe=null;break}e:{var p=e,w=i.return,C=i,P=t;if(t=lt,C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var $=P,U=C,q=U.tag;if((U.mode&1)===0&&(q===0||q===11||q===15)){var M=U.alternate;M?(U.updateQueue=M.updateQueue,U.memoizedState=M.memoizedState,U.lanes=M.lanes):(U.updateQueue=null,U.memoizedState=null)}var Z=pf(w);if(Z!==null){Z.flags&=-257,mf(Z,w,C,p,t),Z.mode&1&&ff(p,$,t),t=Z,P=$;var Y=t.updateQueue;if(Y===null){var ee=new Set;ee.add(P),t.updateQueue=ee}else Y.add(P);break e}else{if((t&1)===0){ff(p,$,t),Bc();break e}P=Error(n(426))}}else if(Me&&C.mode&1){var Ve=pf(w);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),mf(Ve,w,C,p,t),ec(Es(P,C));break e}}p=P=Es(P,C),Ze!==4&&(Ze=2),Ki===null?Ki=[p]:Ki.push(p),p=w;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var T=df(p,P,t);Th(p,T);break e;case 1:C=P;var O=p.type,A=p.stateNode;if((p.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(rn===null||!rn.has(A)))){p.flags|=65536,t&=-t,p.lanes|=t;var W=hf(p,C,t);Th(p,W);break e}}p=p.return}while(p!==null)}Kf(i)}catch(te){t=te,Qe===i&&i!==null&&(Qe=i=i.return);continue}break}while(!0)}function Wf(){var e=mo.current;return mo.current=co,e===null?co:e}function Bc(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),tt===null||(In&268435455)===0&&(yo&268435455)===0||an(tt,lt)}function bo(e,t){var i=be;be|=2;var c=Wf();(tt!==e||lt!==t)&&(Or=null,Mn(e,t));do try{e0();break}catch(h){Bf(e,h)}while(!0);if(rc(),be=i,mo.current=c,Qe!==null)throw Error(n(261));return tt=null,lt=0,Ze}function e0(){for(;Qe!==null;)Hf(Qe)}function t0(){for(;Qe!==null&&!Cy();)Hf(Qe)}function Hf(e){var t=Gf(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?Kf(e):Qe=t,Ac.current=null}function Kf(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Vg(i,t,Ft),i!==null){Qe=i;return}}else{if(i=Qg(i,t),i!==null){i.flags&=32767,Qe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,Qe=null;return}}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);Ze===0&&(Ze=5)}function Fn(e,t,i){var c=je,h=Qt.transition;try{Qt.transition=null,je=1,r0(e,t,i,c)}finally{Qt.transition=h,je=c}return null}function r0(e,t,i,c){do zs();while(nn!==null);if((be&6)!==0)throw Error(n(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var p=i.lanes|i.childLanes;if($y(e,p),e===tt&&(Qe=tt=null,lt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||vo||(vo=!0,Zf(Sa,function(){return zs(),null})),p=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||p){p=Qt.transition,Qt.transition=null;var w=je;je=1;var C=be;be|=4,Ac.current=null,Zg(e,i),$f(i,e),bg(Bl),Oa=!!ql,Bl=ql=null,e.current=i,Jg(i),Ey(),be=C,je=w,Qt.transition=p}else e.current=i;if(vo&&(vo=!1,nn=e,wo=h),p=e.pendingLanes,p===0&&(rn=null),Ry(i.stateNode),Rt(e,Ke()),t!==null)for(c=e.onRecoverableError,i=0;i<t.length;i++)h=t[i],c(h.value,{componentStack:h.stack,digest:h.digest});if(go)throw go=!1,e=Ic,Ic=null,e;return(wo&1)!==0&&e.tag!==0&&zs(),p=e.pendingLanes,(p&1)!==0?e===Dc?Vi++:(Vi=0,Dc=e):Vi=0,Xr(),null}function zs(){if(nn!==null){var e=Od(wo),t=Qt.transition,i=je;try{if(Qt.transition=null,je=16>e?16:e,nn===null)var c=!1;else{if(e=nn,nn=null,wo=0,(be&6)!==0)throw Error(n(331));var h=be;for(be|=4,X=e.current;X!==null;){var p=X,w=p.child;if((X.flags&16)!==0){var C=p.deletions;if(C!==null){for(var P=0;P<C.length;P++){var $=C[P];for(X=$;X!==null;){var U=X;switch(U.tag){case 0:case 11:case 15:Wi(8,U,p)}var q=U.child;if(q!==null)q.return=U,X=q;else for(;X!==null;){U=X;var M=U.sibling,Z=U.return;if(zf(U),U===$){X=null;break}if(M!==null){M.return=Z,X=M;break}X=Z}}}var Y=p.alternate;if(Y!==null){var ee=Y.child;if(ee!==null){Y.child=null;do{var Ve=ee.sibling;ee.sibling=null,ee=Ve}while(ee!==null)}}X=p}}if((p.subtreeFlags&2064)!==0&&w!==null)w.return=p,X=w;else e:for(;X!==null;){if(p=X,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Wi(9,p,p.return)}var T=p.sibling;if(T!==null){T.return=p.return,X=T;break e}X=p.return}}var O=e.current;for(X=O;X!==null;){w=X;var A=w.child;if((w.subtreeFlags&2064)!==0&&A!==null)A.return=w,X=A;else e:for(w=O;X!==null;){if(C=X,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:po(9,C)}}catch(te){Be(C,C.return,te)}if(C===w){X=null;break e}var W=C.sibling;if(W!==null){W.return=C.return,X=W;break e}X=C.return}}if(be=h,Xr(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Ca,e)}catch{}c=!0}return c}finally{je=i,Qt.transition=t}}return!1}function Vf(e,t,i){t=Es(i,t),t=df(e,t,1),e=en(e,t,1),t=vt(),e!==null&&(gi(e,1,t),Rt(e,t))}function Be(e,t,i){if(e.tag===3)Vf(e,e,i);else for(;t!==null;){if(t.tag===3){Vf(t,e,i);break}else if(t.tag===1){var c=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(rn===null||!rn.has(c))){e=Es(i,e),e=hf(t,e,1),t=en(t,e,1),e=vt(),t!==null&&(gi(t,1,e),Rt(t,e));break}}t=t.return}}function n0(e,t,i){var c=e.pingCache;c!==null&&c.delete(t),t=vt(),e.pingedLanes|=e.suspendedLanes&i,tt===e&&(lt&i)===i&&(Ze===4||Ze===3&&(lt&130023424)===lt&&500>Ke()-$c?Mn(e,0):Lc|=i),Rt(e,t)}function Qf(e,t){t===0&&((e.mode&1)===0?t=1:(t=Pa,Pa<<=1,(Pa&130023424)===0&&(Pa=4194304)));var i=vt();e=jr(e,t),e!==null&&(gi(e,t,i),Rt(e,i))}function s0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Qf(e,i)}function i0(e,t){var i=0;switch(e.tag){case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(t),Qf(e,i)}var Gf;Gf=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)Pt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return Pt=!1,Kg(e,t,i);Pt=(e.flags&131072)!==0}else Pt=!1,Me&&(t.flags&1048576)!==0&&Ch(t,Za,t.index);switch(t.lanes=0,t.tag){case 2:var c=t.type;ho(e,t),e=t.pendingProps;var h=ws(t,ut.current);Ns(t,i),h=mc(null,t,c,e,h,i);var p=yc();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(c)?(p=!0,Va(t)):p=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ac(t),h.updater=ro,t.stateNode=h,h._reactInternals=t,lc(t,c,e,i),t=Nc(null,t,c,!0,p,i)):(t.tag=0,Me&&p&&Zl(t),gt(null,t,h,i),t=t.child),t;case 16:c=t.elementType;e:{switch(ho(e,t),e=t.pendingProps,h=c._init,c=h(c._payload),t.type=c,h=t.tag=o0(c),e=er(c,e),h){case 0:t=kc(null,t,c,e,i);break e;case 1:t=xf(null,t,c,e,i);break e;case 11:t=yf(null,t,c,e,i);break e;case 14:t=gf(null,t,c,er(c.type,e),i);break e}throw Error(n(306,c,""))}return t;case 0:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:er(c,h),kc(e,t,c,h,i);case 1:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:er(c,h),xf(e,t,c,h,i);case 3:e:{if(bf(t),e===null)throw Error(n(387));c=t.pendingProps,p=t.memoizedState,h=p.element,Oh(e,t),to(t,c,null,i);var w=t.memoizedState;if(c=w.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){h=Es(Error(n(423)),t),t=kf(e,t,c,i,h);break e}else if(c!==h){h=Es(Error(n(424)),t),t=kf(e,t,c,i,h);break e}else for(Mt=Gr(t.stateNode.containerInfo.firstChild),Dt=t,Me=!0,Yt=null,i=Uh(t,null,c,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(bs(),c===h){t=zr(e,t,i);break e}gt(e,t,c,i)}t=t.child}return t;case 5:return qh(t),e===null&&Yl(t),c=t.type,h=t.pendingProps,p=e!==null?e.memoizedProps:null,w=h.children,Wl(c,h)?w=null:p!==null&&Wl(c,p)&&(t.flags|=32),_f(e,t),gt(e,t,w,i),t.child;case 6:return e===null&&Yl(t),null;case 13:return Nf(e,t,i);case 4:return cc(t,t.stateNode.containerInfo),c=t.pendingProps,e===null?t.child=Ss(t,null,c,i):gt(e,t,c,i),t.child;case 11:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:er(c,h),yf(e,t,c,h,i);case 7:return gt(e,t,t.pendingProps,i),t.child;case 8:return gt(e,t,t.pendingProps.children,i),t.child;case 12:return gt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(c=t.type._context,h=t.pendingProps,p=t.memoizedProps,w=h.value,Le(Xa,c._currentValue),c._currentValue=w,p!==null)if(Xt(p.value,w)){if(p.children===h.children&&!Ct.current){t=zr(e,t,i);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var C=p.dependencies;if(C!==null){w=p.child;for(var P=C.firstContext;P!==null;){if(P.context===c){if(p.tag===1){P=Rr(-1,i&-i),P.tag=2;var $=p.updateQueue;if($!==null){$=$.shared;var U=$.pending;U===null?P.next=P:(P.next=U.next,U.next=P),$.pending=P}}p.lanes|=i,P=p.alternate,P!==null&&(P.lanes|=i),sc(p.return,i,t),C.lanes|=i;break}P=P.next}}else if(p.tag===10)w=p.type===t.type?null:p.child;else if(p.tag===18){if(w=p.return,w===null)throw Error(n(341));w.lanes|=i,C=w.alternate,C!==null&&(C.lanes|=i),sc(w,i,t),w=p.sibling}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===t){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}gt(e,t,h.children,i),t=t.child}return t;case 9:return h=t.type,c=t.pendingProps.children,Ns(t,i),h=Kt(h),c=c(h),t.flags|=1,gt(e,t,c,i),t.child;case 14:return c=t.type,h=er(c,t.pendingProps),h=er(c.type,h),gf(e,t,c,h,i);case 15:return vf(e,t,t.type,t.pendingProps,i);case 17:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:er(c,h),ho(e,t),t.tag=1,Et(c)?(e=!0,Va(t)):e=!1,Ns(t,i),Ih(t,c,h),lc(t,c,h,i),Nc(null,t,c,!0,e,i);case 19:return Cf(e,t,i);case 22:return wf(e,t,i)}throw Error(n(156,t.tag))};function Zf(e,t){return Ed(e,t)}function a0(e,t,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,i,c){return new a0(e,t,i,c)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function o0(e){if(typeof e=="function")return Wc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===G)return 11;if(e===Bt)return 14}return 2}function on(e,t){var i=e.alternate;return i===null?(i=Gt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ko(e,t,i,c,h,p){var w=2;if(c=e,typeof e=="function")Wc(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case re:return Un(i.children,h,p,t);case he:w=8,h|=8;break;case H:return e=Gt(12,i,t,h|2),e.elementType=H,e.lanes=p,e;case Pe:return e=Gt(13,i,t,h),e.elementType=Pe,e.lanes=p,e;case Xe:return e=Gt(19,i,t,h),e.elementType=Xe,e.lanes=p,e;case Te:return No(i,h,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:w=10;break e;case we:w=9;break e;case G:w=11;break e;case Bt:w=14;break e;case Ye:w=16,c=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Gt(w,i,t,h),t.elementType=e,t.type=c,t.lanes=p,t}function Un(e,t,i,c){return e=Gt(7,e,c,t),e.lanes=i,e}function No(e,t,i,c){return e=Gt(22,e,c,t),e.elementType=Te,e.lanes=i,e.stateNode={isHidden:!1},e}function Hc(e,t,i){return e=Gt(6,e,null,t),e.lanes=i,e}function Kc(e,t,i){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function l0(e,t,i,c,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Vc(e,t,i,c,h,p,w,C,P){return e=new l0(e,t,i,C,P),t===1?(t=1,p===!0&&(t|=8)):t=0,p=Gt(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ac(p),e}function c0(e,t,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:c==null?null:""+c,children:e,containerInfo:t,implementation:i}}function Jf(e){if(!e)return Jr;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(Et(i))return kh(e,i,t)}return t}function Xf(e,t,i,c,h,p,w,C,P){return e=Vc(i,c,!0,e,h,p,w,C,P),e.context=Jf(null),i=e.current,c=vt(),h=sn(i),p=Rr(c,h),p.callback=t??null,en(i,p,h),e.current.lanes=h,gi(e,h,c),Rt(e,c),e}function So(e,t,i,c){var h=t.current,p=vt(),w=sn(h);return i=Jf(i),t.context===null?t.context=i:t.pendingContext=i,t=Rr(p,w),t.payload={element:e},c=c===void 0?null:c,c!==null&&(t.callback=c),e=en(h,t,w),e!==null&&(nr(e,h,w,p),eo(e,h,w)),w}function Co(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Qc(e,t){Yf(e,t),(e=e.alternate)&&Yf(e,t)}function u0(){return null}var ep=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}Eo.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));So(e,t,null,null)},Eo.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dn(function(){So(null,e,null,null)}),t[Sr]=null}};function Eo(e){this._internalRoot=e}Eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ld();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Kr.length&&t!==0&&t<Kr[i].priority;i++);Kr.splice(i,0,e),i===0&&Dd(e)}};function Zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tp(){}function d0(e,t,i,c,h){if(h){if(typeof c=="function"){var p=c;c=function(){var $=Co(w);p.call($)}}var w=Xf(t,c,e,0,null,!1,!1,"",tp);return e._reactRootContainer=w,e[Sr]=w.current,zi(e.nodeType===8?e.parentNode:e),Dn(),w}for(;h=e.lastChild;)e.removeChild(h);if(typeof c=="function"){var C=c;c=function(){var $=Co(P);C.call($)}}var P=Vc(e,0,!1,null,null,!1,!1,"",tp);return e._reactRootContainer=P,e[Sr]=P.current,zi(e.nodeType===8?e.parentNode:e),Dn(function(){So(t,P,i,c)}),P}function jo(e,t,i,c,h){var p=i._reactRootContainer;if(p){var w=p;if(typeof h=="function"){var C=h;h=function(){var P=Co(w);C.call(P)}}So(t,w,e,h)}else w=d0(i,t,e,h,c);return Co(w)}Td=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=yi(t.pendingLanes);i!==0&&(_l(t,i|1),Rt(t,Ke()),(be&6)===0&&(Rs=Ke()+500,Xr()))}break;case 13:Dn(function(){var c=jr(e,1);if(c!==null){var h=vt();nr(c,e,1,h)}}),Qc(e,1)}},xl=function(e){if(e.tag===13){var t=jr(e,134217728);if(t!==null){var i=vt();nr(t,e,134217728,i)}Qc(e,134217728)}},Ad=function(e){if(e.tag===13){var t=sn(e),i=jr(e,t);if(i!==null){var c=vt();nr(i,e,t,c)}Qc(e,t)}},Ld=function(){return je},$d=function(e,t){var i=je;try{return je=e,t()}finally{je=i}},fl=function(e,t,i){switch(t){case"input":if(il(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var c=i[t];if(c!==e&&c.form===e.form){var h=Ha(c);if(!h)throw Error(n(90));ad(c),il(c,h)}}}break;case"textarea":dd(e,i);break;case"select":t=i.value,t!=null&&os(e,!!i.multiple,t,!1)}},_d=Uc,xd=Dn;var h0={usingClientEntryPoint:!1,Events:[Ai,gs,Ha,vd,wd,Uc]},Qi={findFiberByHostInstance:Rn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},f0={bundleType:Qi.bundleType,version:Qi.version,rendererPackageName:Qi.rendererPackageName,rendererConfig:Qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sd(e),e===null?null:e.stateNode},findFiberByHostInstance:Qi.findFiberByHostInstance||u0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{Ca=Ro.inject(f0),hr=Ro}catch{}}return zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h0,zt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zc(t))throw Error(n(200));return c0(e,t,null,i)},zt.createRoot=function(e,t){if(!Zc(e))throw Error(n(299));var i=!1,c="",h=ep;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(c=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Vc(e,1,!1,null,null,i,!1,c,h),e[Sr]=t.current,zi(e.nodeType===8?e.parentNode:e),new Gc(t)},zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Sd(t),e=e===null?null:e.stateNode,e},zt.flushSync=function(e){return Dn(e)},zt.hydrate=function(e,t,i){if(!Po(t))throw Error(n(200));return jo(null,e,t,!0,i)},zt.hydrateRoot=function(e,t,i){if(!Zc(e))throw Error(n(405));var c=i!=null&&i.hydratedSources||null,h=!1,p="",w=ep;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),t=Xf(t,null,e,1,i??null,h,!1,p,w),e[Sr]=t.current,zi(e),c)for(e=0;e<c.length;e++)i=c[e],h=i._getVersion,h=h(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,h]:t.mutableSourceEagerHydrationData.push(i,h);return new Eo(t)},zt.render=function(e,t,i){if(!Po(t))throw Error(n(200));return jo(null,e,t,!1,i)},zt.unmountComponentAtNode=function(e){if(!Po(e))throw Error(n(40));return e._reactRootContainer?(Dn(function(){jo(null,null,e,!1,function(){e._reactRootContainer=null,e[Sr]=null})}),!0):!1},zt.unstable_batchedUpdates=Uc,zt.unstable_renderSubtreeIntoContainer=function(e,t,i,c){if(!Po(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return jo(e,t,i,!1,c)},zt.version="18.2.0-next-9e3b772b8-20220608",zt}var lp;function x0(){if(lp)return Yc.exports;lp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Yc.exports=_0(),Yc.exports}var cp;function b0(){if(cp)return Oo;cp=1;var s=x0();return Oo.createRoot=s.createRoot,Oo.hydrateRoot=s.hydrateRoot,Oo}var k0=b0();const N0="modulepreload",S0=function(s){return"/"+s},up={},fa=function(r,n,a){let o=Promise.resolve();if(n&&n.length>0){let d=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),f=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=d(n.map(y=>{if(y=S0(y),y in up)return;up[y]=!0;const _=y.endsWith(".css"),b=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const v=document.createElement("link");if(v.rel=_?"stylesheet":N0,_||(v.as="script"),v.crossOrigin="",v.href=y,f&&v.setAttribute("nonce",f),document.head.appendChild(v),_)return new Promise((k,N)=>{v.addEventListener("load",k),v.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return o.then(d=>{for(const m of d||[])m.status==="rejected"&&u(m.reason);return r().catch(u)})};var ai=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rs=typeof window>"u"||"Deno"in globalThis;function bt(){}function C0(s,r){return typeof s=="function"?s(r):s}function hu(s){return typeof s=="number"&&s>=0&&s!==1/0}function vm(s,r){return Math.max(s+(r||0)-Date.now(),0)}function kn(s,r){return typeof s=="function"?s(r):s}function lr(s,r){return typeof s=="function"?s(r):s}function dp(s,r){const{type:n="all",exact:a,fetchStatus:o,predicate:u,queryKey:d,stale:m}=s;if(d){if(a){if(r.queryHash!==Bu(d,r.options))return!1}else if(!ia(r.queryKey,d))return!1}if(n!=="all"){const f=r.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof m=="boolean"&&r.isStale()!==m||o&&o!==r.state.fetchStatus||u&&!u(r))}function hp(s,r){const{exact:n,status:a,predicate:o,mutationKey:u}=s;if(u){if(!r.options.mutationKey)return!1;if(n){if(ns(r.options.mutationKey)!==ns(u))return!1}else if(!ia(r.options.mutationKey,u))return!1}return!(a&&r.state.status!==a||o&&!o(r))}function Bu(s,r){return((r==null?void 0:r.queryKeyHashFn)||ns)(s)}function ns(s){return JSON.stringify(s,(r,n)=>fu(n)?Object.keys(n).sort().reduce((a,o)=>(a[o]=n[o],a),{}):n)}function ia(s,r){return s===r?!0:typeof s!=typeof r?!1:s&&r&&typeof s=="object"&&typeof r=="object"?Object.keys(r).every(n=>ia(s[n],r[n])):!1}function wm(s,r){if(s===r)return s;const n=fp(s)&&fp(r);if(n||fu(s)&&fu(r)){const a=n?s:Object.keys(s),o=a.length,u=n?r:Object.keys(r),d=u.length,m=n?[]:{},f=new Set(a);let y=0;for(let _=0;_<d;_++){const b=n?_:u[_];(!n&&f.has(b)||n)&&s[b]===void 0&&r[b]===void 0?(m[b]=void 0,y++):(m[b]=wm(s[b],r[b]),m[b]===s[b]&&s[b]!==void 0&&y++)}return o===d&&y===o?s:m}return r}function Ho(s,r){if(!r||Object.keys(s).length!==Object.keys(r).length)return!1;for(const n in s)if(s[n]!==r[n])return!1;return!0}function fp(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function fu(s){if(!pp(s))return!1;const r=s.constructor;if(r===void 0)return!0;const n=r.prototype;return!(!pp(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function pp(s){return Object.prototype.toString.call(s)==="[object Object]"}function E0(s){return new Promise(r=>{setTimeout(r,s)})}function pu(s,r,n){return typeof n.structuralSharing=="function"?n.structuralSharing(s,r):n.structuralSharing!==!1?wm(s,r):r}function P0(s,r,n=0){const a=[...s,r];return n&&a.length>n?a.slice(1):a}function j0(s,r,n=0){const a=[r,...s];return n&&a.length>n?a.slice(0,-1):a}var Wu=Symbol();function _m(s,r){return!s.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!s.queryFn||s.queryFn===Wu?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function xm(s,r){return typeof s=="function"?s(...r):!!s}var Kn,fn,Ks,om,R0=(om=class extends ai{constructor(){super();ae(this,Kn);ae(this,fn);ae(this,Ks);J(this,Ks,r=>{if(!rs&&window.addEventListener){const n=()=>r();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){E(this,fn)||this.setEventListener(E(this,Ks))}onUnsubscribe(){var r;this.hasListeners()||((r=E(this,fn))==null||r.call(this),J(this,fn,void 0))}setEventListener(r){var n;J(this,Ks,r),(n=E(this,fn))==null||n.call(this),J(this,fn,r(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(r){E(this,Kn)!==r&&(J(this,Kn,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(n=>{n(r)})}isFocused(){var r;return typeof E(this,Kn)=="boolean"?E(this,Kn):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},Kn=new WeakMap,fn=new WeakMap,Ks=new WeakMap,om),Hu=new R0,Vs,pn,Qs,lm,z0=(lm=class extends ai{constructor(){super();ae(this,Vs,!0);ae(this,pn);ae(this,Qs);J(this,Qs,r=>{if(!rs&&window.addEventListener){const n=()=>r(!0),a=()=>r(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){E(this,pn)||this.setEventListener(E(this,Qs))}onUnsubscribe(){var r;this.hasListeners()||((r=E(this,pn))==null||r.call(this),J(this,pn,void 0))}setEventListener(r){var n;J(this,Qs,r),(n=E(this,pn))==null||n.call(this),J(this,pn,r(this.setOnline.bind(this)))}setOnline(r){E(this,Vs)!==r&&(J(this,Vs,r),this.listeners.forEach(a=>{a(r)}))}isOnline(){return E(this,Vs)}},Vs=new WeakMap,pn=new WeakMap,Qs=new WeakMap,lm),Ko=new z0;function mu(){let s,r;const n=new Promise((o,u)=>{s=o,r=u});n.status="pending",n.catch(()=>{});function a(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{a({status:"fulfilled",value:o}),s(o)},n.reject=o=>{a({status:"rejected",reason:o}),r(o)},n}function O0(s){return Math.min(1e3*2**s,3e4)}function bm(s){return(s??"online")==="online"?Ko.isOnline():!0}var km=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function ru(s){return s instanceof km}function Nm(s){let r=!1,n=0,a=!1,o;const u=mu(),d=x=>{var S;a||(v(new km(x)),(S=s.abort)==null||S.call(s))},m=()=>{r=!0},f=()=>{r=!1},y=()=>Hu.isFocused()&&(s.networkMode==="always"||Ko.isOnline())&&s.canRun(),_=()=>bm(s.networkMode)&&s.canRun(),b=x=>{var S;a||(a=!0,(S=s.onSuccess)==null||S.call(s,x),o==null||o(),u.resolve(x))},v=x=>{var S;a||(a=!0,(S=s.onError)==null||S.call(s,x),o==null||o(),u.reject(x))},k=()=>new Promise(x=>{var S;o=z=>{(a||y())&&x(z)},(S=s.onPause)==null||S.call(s)}).then(()=>{var x;o=void 0,a||(x=s.onContinue)==null||x.call(s)}),N=()=>{if(a)return;let x;const S=n===0?s.initialPromise:void 0;try{x=S??s.fn()}catch(z){x=Promise.reject(z)}Promise.resolve(x).then(b).catch(z=>{var V;if(a)return;const I=s.retry??(rs?0:3),L=s.retryDelay??O0,D=typeof L=="function"?L(n,z):L,B=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,z);if(r||!B){v(z);return}n++,(V=s.onFail)==null||V.call(s,n,z),E0(D).then(()=>y()?void 0:k()).then(()=>{r?v(z):N()})})};return{promise:u,cancel:d,continue:()=>(o==null||o(),u),cancelRetry:m,continueRetry:f,canStart:_,start:()=>(_()?N():k().then(N),u)}}var T0=s=>setTimeout(s,0);function A0(){let s=[],r=0,n=m=>{m()},a=m=>{m()},o=T0;const u=m=>{r?s.push(m):o(()=>{n(m)})},d=()=>{const m=s;s=[],m.length&&o(()=>{a(()=>{m.forEach(f=>{n(f)})})})};return{batch:m=>{let f;r++;try{f=m()}finally{r--,r||d()}return f},batchCalls:m=>(...f)=>{u(()=>{m(...f)})},schedule:u,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{a=m},setScheduler:m=>{o=m}}}var Je=A0(),Vn,cm,Sm=(cm=class{constructor(){ae(this,Vn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hu(this.gcTime)&&J(this,Vn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(rs?1/0:5*60*1e3))}clearGcTimeout(){E(this,Vn)&&(clearTimeout(E(this,Vn)),J(this,Vn,void 0))}},Vn=new WeakMap,cm),Gs,Zs,Zt,Qn,pt,ca,Gn,ir,Tr,um,L0=(um=class extends Sm{constructor(r){super();ae(this,ir);ae(this,Gs);ae(this,Zs);ae(this,Zt);ae(this,Qn);ae(this,pt);ae(this,ca);ae(this,Gn);J(this,Gn,!1),J(this,ca,r.defaultOptions),this.setOptions(r.options),this.observers=[],J(this,Qn,r.client),J(this,Zt,E(this,Qn).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,J(this,Gs,$0(this.options)),this.state=r.state??E(this,Gs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=E(this,pt))==null?void 0:r.promise}setOptions(r){this.options={...E(this,ca),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Zt).remove(this)}setData(r,n){const a=pu(this.state.data,r,this.options);return me(this,ir,Tr).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(r,n){me(this,ir,Tr).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var a,o;const n=(a=E(this,pt))==null?void 0:a.promise;return(o=E(this,pt))==null||o.cancel(r),n?n.then(bt).catch(bt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Gs))}isActive(){return this.observers.some(r=>lr(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>kn(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!vm(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=E(this,pt))==null||n.continue()}onOnline(){var n;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=E(this,pt))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),E(this,Zt).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(E(this,pt)&&(E(this,Gn)?E(this,pt).cancel({revert:!0}):E(this,pt).cancelRetry()),this.scheduleGc()),E(this,Zt).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||me(this,ir,Tr).call(this,{type:"invalidate"})}fetch(r,n){var y,_,b;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(E(this,pt))return E(this,pt).continueRetry(),E(this,pt).promise}if(r&&this.setOptions(r),!this.options.queryFn){const v=this.observers.find(k=>k.options.queryFn);v&&this.setOptions(v.options)}const a=new AbortController,o=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(J(this,Gn,!0),a.signal)})},u=()=>{const v=_m(this.options,n),N=(()=>{const x={client:E(this,Qn),queryKey:this.queryKey,meta:this.meta};return o(x),x})();return J(this,Gn,!1),this.options.persister?this.options.persister(v,N,this):v(N)},m=(()=>{const v={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:E(this,Qn),state:this.state,fetchFn:u};return o(v),v})();(y=this.options.behavior)==null||y.onFetch(m,this),J(this,Zs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((_=m.fetchOptions)==null?void 0:_.meta))&&me(this,ir,Tr).call(this,{type:"fetch",meta:(b=m.fetchOptions)==null?void 0:b.meta});const f=v=>{var k,N,x,S;ru(v)&&v.silent||me(this,ir,Tr).call(this,{type:"error",error:v}),ru(v)||((N=(k=E(this,Zt).config).onError)==null||N.call(k,v,this),(S=(x=E(this,Zt).config).onSettled)==null||S.call(x,this.state.data,v,this)),this.scheduleGc()};return J(this,pt,Nm({initialPromise:n==null?void 0:n.initialPromise,fn:m.fetchFn,abort:a.abort.bind(a),onSuccess:v=>{var k,N,x,S;if(v===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(z){f(z);return}(N=(k=E(this,Zt).config).onSuccess)==null||N.call(k,v,this),(S=(x=E(this,Zt).config).onSettled)==null||S.call(x,v,this.state.error,this),this.scheduleGc()},onError:f,onFail:(v,k)=>{me(this,ir,Tr).call(this,{type:"failed",failureCount:v,error:k})},onPause:()=>{me(this,ir,Tr).call(this,{type:"pause"})},onContinue:()=>{me(this,ir,Tr).call(this,{type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0})),E(this,pt).start()}},Gs=new WeakMap,Zs=new WeakMap,Zt=new WeakMap,Qn=new WeakMap,pt=new WeakMap,ca=new WeakMap,Gn=new WeakMap,ir=new WeakSet,Tr=function(r){const n=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Cm(a.data,this.options),fetchMeta:r.meta??null};case"success":return{...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=r.error;return ru(o)&&o.revert&&E(this,Zs)?{...E(this,Zs),fetchStatus:"idle"}:{...a,error:o,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=n(this.state),Je.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),E(this,Zt).notify({query:this,type:"updated",action:r})})},um);function Cm(s,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bm(r.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function $0(s){const r=typeof s.initialData=="function"?s.initialData():s.initialData,n=r!==void 0,a=n?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var gr,dm,I0=(dm=class extends ai{constructor(r={}){super();ae(this,gr);this.config=r,J(this,gr,new Map)}build(r,n,a){const o=n.queryKey,u=n.queryHash??Bu(o,n);let d=this.get(u);return d||(d=new L0({client:r,queryKey:o,queryHash:u,options:r.defaultQueryOptions(n),state:a,defaultOptions:r.getQueryDefaults(o)}),this.add(d)),d}add(r){E(this,gr).has(r.queryHash)||(E(this,gr).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const n=E(this,gr).get(r.queryHash);n&&(r.destroy(),n===r&&E(this,gr).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Je.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return E(this,gr).get(r)}getAll(){return[...E(this,gr).values()]}find(r){const n={exact:!0,...r};return this.getAll().find(a=>dp(n,a))}findAll(r={}){const n=this.getAll();return Object.keys(r).length>0?n.filter(a=>dp(r,a)):n}notify(r){Je.batch(()=>{this.listeners.forEach(n=>{n(r)})})}onFocus(){Je.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Je.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},gr=new WeakMap,dm),vr,_t,Zn,wr,cn,hm,D0=(hm=class extends Sm{constructor(r){super();ae(this,wr);ae(this,vr);ae(this,_t);ae(this,Zn);this.mutationId=r.mutationId,J(this,_t,r.mutationCache),J(this,vr,[]),this.state=r.state||Em(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){E(this,vr).includes(r)||(E(this,vr).push(r),this.clearGcTimeout(),E(this,_t).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){J(this,vr,E(this,vr).filter(n=>n!==r)),this.scheduleGc(),E(this,_t).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){E(this,vr).length||(this.state.status==="pending"?this.scheduleGc():E(this,_t).remove(this))}continue(){var r;return((r=E(this,Zn))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var u,d,m,f,y,_,b,v,k,N,x,S,z,I,L,D,B,V,re,he;const n=()=>{me(this,wr,cn).call(this,{type:"continue"})};J(this,Zn,Nm({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(H,K)=>{me(this,wr,cn).call(this,{type:"failed",failureCount:H,error:K})},onPause:()=>{me(this,wr,cn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,_t).canRun(this)}));const a=this.state.status==="pending",o=!E(this,Zn).canStart();try{if(a)n();else{me(this,wr,cn).call(this,{type:"pending",variables:r,isPaused:o}),await((d=(u=E(this,_t).config).onMutate)==null?void 0:d.call(u,r,this));const K=await((f=(m=this.options).onMutate)==null?void 0:f.call(m,r));K!==this.state.context&&me(this,wr,cn).call(this,{type:"pending",context:K,variables:r,isPaused:o})}const H=await E(this,Zn).start();return await((_=(y=E(this,_t).config).onSuccess)==null?void 0:_.call(y,H,r,this.state.context,this)),await((v=(b=this.options).onSuccess)==null?void 0:v.call(b,H,r,this.state.context)),await((N=(k=E(this,_t).config).onSettled)==null?void 0:N.call(k,H,null,this.state.variables,this.state.context,this)),await((S=(x=this.options).onSettled)==null?void 0:S.call(x,H,null,r,this.state.context)),me(this,wr,cn).call(this,{type:"success",data:H}),H}catch(H){try{throw await((I=(z=E(this,_t).config).onError)==null?void 0:I.call(z,H,r,this.state.context,this)),await((D=(L=this.options).onError)==null?void 0:D.call(L,H,r,this.state.context)),await((V=(B=E(this,_t).config).onSettled)==null?void 0:V.call(B,void 0,H,this.state.variables,this.state.context,this)),await((he=(re=this.options).onSettled)==null?void 0:he.call(re,void 0,H,r,this.state.context)),H}finally{me(this,wr,cn).call(this,{type:"error",error:H})}}finally{E(this,_t).runNext(this)}}},vr=new WeakMap,_t=new WeakMap,Zn=new WeakMap,wr=new WeakSet,cn=function(r){const n=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Je.batch(()=>{E(this,vr).forEach(a=>{a.onMutationUpdate(r)}),E(this,_t).notify({mutation:this,type:"updated",action:r})})},hm);function Em(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $r,ar,ua,fm,M0=(fm=class extends ai{constructor(r={}){super();ae(this,$r);ae(this,ar);ae(this,ua);this.config=r,J(this,$r,new Set),J(this,ar,new Map),J(this,ua,0)}build(r,n,a){const o=new D0({mutationCache:this,mutationId:++zo(this,ua)._,options:r.defaultMutationOptions(n),state:a});return this.add(o),o}add(r){E(this,$r).add(r);const n=To(r);if(typeof n=="string"){const a=E(this,ar).get(n);a?a.push(r):E(this,ar).set(n,[r])}this.notify({type:"added",mutation:r})}remove(r){if(E(this,$r).delete(r)){const n=To(r);if(typeof n=="string"){const a=E(this,ar).get(n);if(a)if(a.length>1){const o=a.indexOf(r);o!==-1&&a.splice(o,1)}else a[0]===r&&E(this,ar).delete(n)}}this.notify({type:"removed",mutation:r})}canRun(r){const n=To(r);if(typeof n=="string"){const a=E(this,ar).get(n),o=a==null?void 0:a.find(u=>u.state.status==="pending");return!o||o===r}else return!0}runNext(r){var a;const n=To(r);if(typeof n=="string"){const o=(a=E(this,ar).get(n))==null?void 0:a.find(u=>u!==r&&u.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Je.batch(()=>{E(this,$r).forEach(r=>{this.notify({type:"removed",mutation:r})}),E(this,$r).clear(),E(this,ar).clear()})}getAll(){return Array.from(E(this,$r))}find(r){const n={exact:!0,...r};return this.getAll().find(a=>hp(n,a))}findAll(r={}){return this.getAll().filter(n=>hp(r,n))}notify(r){Je.batch(()=>{this.listeners.forEach(n=>{n(r)})})}resumePausedMutations(){const r=this.getAll().filter(n=>n.state.isPaused);return Je.batch(()=>Promise.all(r.map(n=>n.continue().catch(bt))))}},$r=new WeakMap,ar=new WeakMap,ua=new WeakMap,fm);function To(s){var r;return(r=s.options.scope)==null?void 0:r.id}function mp(s){return{onFetch:(r,n)=>{var _,b,v,k,N;const a=r.options,o=(v=(b=(_=r.fetchOptions)==null?void 0:_.meta)==null?void 0:b.fetchMore)==null?void 0:v.direction,u=((k=r.state.data)==null?void 0:k.pages)||[],d=((N=r.state.data)==null?void 0:N.pageParams)||[];let m={pages:[],pageParams:[]},f=0;const y=async()=>{let x=!1;const S=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(r.signal.aborted?x=!0:r.signal.addEventListener("abort",()=>{x=!0}),r.signal)})},z=_m(r.options,r.fetchOptions),I=async(L,D,B)=>{if(x)return Promise.reject();if(D==null&&L.pages.length)return Promise.resolve(L);const re=(()=>{const we={client:r.client,queryKey:r.queryKey,pageParam:D,direction:B?"backward":"forward",meta:r.options.meta};return S(we),we})(),he=await z(re),{maxPages:H}=r.options,K=B?j0:P0;return{pages:K(L.pages,he,H),pageParams:K(L.pageParams,D,H)}};if(o&&u.length){const L=o==="backward",D=L?F0:yp,B={pages:u,pageParams:d},V=D(a,B);m=await I(B,V,L)}else{const L=s??u.length;do{const D=f===0?d[0]??a.initialPageParam:yp(a,m);if(f>0&&D==null)break;m=await I(m,D),f++}while(f<L)}return m};r.options.persister?r.fetchFn=()=>{var x,S;return(S=(x=r.options).persister)==null?void 0:S.call(x,y,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},n)}:r.fetchFn=y}}}function yp(s,{pages:r,pageParams:n}){const a=r.length-1;return r.length>0?s.getNextPageParam(r[a],r,n[a],n):void 0}function F0(s,{pages:r,pageParams:n}){var a;return r.length>0?(a=s.getPreviousPageParam)==null?void 0:a.call(s,r[0],r,n[0],n):void 0}var We,mn,yn,Js,Xs,gn,Ys,ei,pm,U0=(pm=class{constructor(s={}){ae(this,We);ae(this,mn);ae(this,yn);ae(this,Js);ae(this,Xs);ae(this,gn);ae(this,Ys);ae(this,ei);J(this,We,s.queryCache||new I0),J(this,mn,s.mutationCache||new M0),J(this,yn,s.defaultOptions||{}),J(this,Js,new Map),J(this,Xs,new Map),J(this,gn,0)}mount(){zo(this,gn)._++,E(this,gn)===1&&(J(this,Ys,Hu.subscribe(async s=>{s&&(await this.resumePausedMutations(),E(this,We).onFocus())})),J(this,ei,Ko.subscribe(async s=>{s&&(await this.resumePausedMutations(),E(this,We).onOnline())})))}unmount(){var s,r;zo(this,gn)._--,E(this,gn)===0&&((s=E(this,Ys))==null||s.call(this),J(this,Ys,void 0),(r=E(this,ei))==null||r.call(this),J(this,ei,void 0))}isFetching(s){return E(this,We).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return E(this,mn).findAll({...s,status:"pending"}).length}getQueryData(s){var n;const r=this.defaultQueryOptions({queryKey:s});return(n=E(this,We).get(r.queryHash))==null?void 0:n.state.data}ensureQueryData(s){const r=this.defaultQueryOptions(s),n=E(this,We).build(this,r),a=n.state.data;return a===void 0?this.fetchQuery(s):(s.revalidateIfStale&&n.isStaleByTime(kn(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(a))}getQueriesData(s){return E(this,We).findAll(s).map(({queryKey:r,state:n})=>{const a=n.data;return[r,a]})}setQueryData(s,r,n){const a=this.defaultQueryOptions({queryKey:s}),o=E(this,We).get(a.queryHash),u=o==null?void 0:o.state.data,d=C0(r,u);if(d!==void 0)return E(this,We).build(this,a).setData(d,{...n,manual:!0})}setQueriesData(s,r,n){return Je.batch(()=>E(this,We).findAll(s).map(({queryKey:a})=>[a,this.setQueryData(a,r,n)]))}getQueryState(s){var n;const r=this.defaultQueryOptions({queryKey:s});return(n=E(this,We).get(r.queryHash))==null?void 0:n.state}removeQueries(s){const r=E(this,We);Je.batch(()=>{r.findAll(s).forEach(n=>{r.remove(n)})})}resetQueries(s,r){const n=E(this,We);return Je.batch(()=>(n.findAll(s).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...s},r)))}cancelQueries(s,r={}){const n={revert:!0,...r},a=Je.batch(()=>E(this,We).findAll(s).map(o=>o.cancel(n)));return Promise.all(a).then(bt).catch(bt)}invalidateQueries(s,r={}){return Je.batch(()=>(E(this,We).findAll(s).forEach(n=>{n.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},r)))}refetchQueries(s,r={}){const n={...r,cancelRefetch:r.cancelRefetch??!0},a=Je.batch(()=>E(this,We).findAll(s).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,n);return n.throwOnError||(u=u.catch(bt)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then(bt)}fetchQuery(s){const r=this.defaultQueryOptions(s);r.retry===void 0&&(r.retry=!1);const n=E(this,We).build(this,r);return n.isStaleByTime(kn(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(bt).catch(bt)}fetchInfiniteQuery(s){return s.behavior=mp(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(bt).catch(bt)}ensureInfiniteQueryData(s){return s.behavior=mp(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return Ko.isOnline()?E(this,mn).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,We)}getMutationCache(){return E(this,mn)}getDefaultOptions(){return E(this,yn)}setDefaultOptions(s){J(this,yn,s)}setQueryDefaults(s,r){E(this,Js).set(ns(s),{queryKey:s,defaultOptions:r})}getQueryDefaults(s){const r=[...E(this,Js).values()],n={};return r.forEach(a=>{ia(s,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(s,r){E(this,Xs).set(ns(s),{mutationKey:s,defaultOptions:r})}getMutationDefaults(s){const r=[...E(this,Xs).values()],n={};return r.forEach(a=>{ia(s,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(s){if(s._defaulted)return s;const r={...E(this,yn).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return r.queryHash||(r.queryHash=Bu(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===Wu&&(r.enabled=!1),r}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...E(this,yn).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){E(this,We).clear(),E(this,mn).clear()}},We=new WeakMap,mn=new WeakMap,yn=new WeakMap,Js=new WeakMap,Xs=new WeakMap,gn=new WeakMap,Ys=new WeakMap,ei=new WeakMap,pm),Tt,_e,da,xt,Jn,ti,vn,wn,ha,ri,ni,Xn,Yn,_n,si,Ee,ea,yu,gu,vu,wu,_u,xu,bu,Pm,mm,q0=(mm=class extends ai{constructor(r,n){super();ae(this,Ee);ae(this,Tt);ae(this,_e);ae(this,da);ae(this,xt);ae(this,Jn);ae(this,ti);ae(this,vn);ae(this,wn);ae(this,ha);ae(this,ri);ae(this,ni);ae(this,Xn);ae(this,Yn);ae(this,_n);ae(this,si,new Set);this.options=n,J(this,Tt,r),J(this,wn,null),J(this,vn,mu()),this.options.experimental_prefetchInRender||E(this,vn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,_e).addObserver(this),gp(E(this,_e),this.options)?me(this,Ee,ea).call(this):this.updateResult(),me(this,Ee,wu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ku(E(this,_e),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ku(E(this,_e),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,me(this,Ee,_u).call(this),me(this,Ee,xu).call(this),E(this,_e).removeObserver(this)}setOptions(r){const n=this.options,a=E(this,_e);if(this.options=E(this,Tt).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof lr(this.options.enabled,E(this,_e))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");me(this,Ee,bu).call(this),E(this,_e).setOptions(this.options),n._defaulted&&!Ho(this.options,n)&&E(this,Tt).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,_e),observer:this});const o=this.hasListeners();o&&vp(E(this,_e),a,this.options,n)&&me(this,Ee,ea).call(this),this.updateResult(),o&&(E(this,_e)!==a||lr(this.options.enabled,E(this,_e))!==lr(n.enabled,E(this,_e))||kn(this.options.staleTime,E(this,_e))!==kn(n.staleTime,E(this,_e)))&&me(this,Ee,yu).call(this);const u=me(this,Ee,gu).call(this);o&&(E(this,_e)!==a||lr(this.options.enabled,E(this,_e))!==lr(n.enabled,E(this,_e))||u!==E(this,_n))&&me(this,Ee,vu).call(this,u)}getOptimisticResult(r){const n=E(this,Tt).getQueryCache().build(E(this,Tt),r),a=this.createResult(n,r);return W0(this,a)&&(J(this,xt,a),J(this,ti,this.options),J(this,Jn,E(this,_e).state)),a}getCurrentResult(){return E(this,xt)}trackResult(r,n){return new Proxy(r,{get:(a,o)=>(this.trackProp(o),n==null||n(o),Reflect.get(a,o))})}trackProp(r){E(this,si).add(r)}getCurrentQuery(){return E(this,_e)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const n=E(this,Tt).defaultQueryOptions(r),a=E(this,Tt).getQueryCache().build(E(this,Tt),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(r){return me(this,Ee,ea).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,xt)))}createResult(r,n){var H;const a=E(this,_e),o=this.options,u=E(this,xt),d=E(this,Jn),m=E(this,ti),y=r!==a?r.state:E(this,da),{state:_}=r;let b={..._},v=!1,k;if(n._optimisticResults){const K=this.hasListeners(),we=!K&&gp(r,n),G=K&&vp(r,a,n,o);(we||G)&&(b={...b,...Cm(_.data,r.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:N,errorUpdatedAt:x,status:S}=b;k=b.data;let z=!1;if(n.placeholderData!==void 0&&k===void 0&&S==="pending"){let K;u!=null&&u.isPlaceholderData&&n.placeholderData===(m==null?void 0:m.placeholderData)?(K=u.data,z=!0):K=typeof n.placeholderData=="function"?n.placeholderData((H=E(this,ni))==null?void 0:H.state.data,E(this,ni)):n.placeholderData,K!==void 0&&(S="success",k=pu(u==null?void 0:u.data,K,n),v=!0)}if(n.select&&k!==void 0&&!z)if(u&&k===(d==null?void 0:d.data)&&n.select===E(this,ha))k=E(this,ri);else try{J(this,ha,n.select),k=n.select(k),k=pu(u==null?void 0:u.data,k,n),J(this,ri,k),J(this,wn,null)}catch(K){J(this,wn,K)}E(this,wn)&&(N=E(this,wn),k=E(this,ri),x=Date.now(),S="error");const I=b.fetchStatus==="fetching",L=S==="pending",D=S==="error",B=L&&I,V=k!==void 0,he={status:S,fetchStatus:b.fetchStatus,isPending:L,isSuccess:S==="success",isError:D,isInitialLoading:B,isLoading:B,data:k,dataUpdatedAt:b.dataUpdatedAt,error:N,errorUpdatedAt:x,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>y.dataUpdateCount||b.errorUpdateCount>y.errorUpdateCount,isFetching:I,isRefetching:I&&!L,isLoadingError:D&&!V,isPaused:b.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:D&&V,isStale:Ku(r,n),refetch:this.refetch,promise:E(this,vn)};if(this.options.experimental_prefetchInRender){const K=Pe=>{he.status==="error"?Pe.reject(he.error):he.data!==void 0&&Pe.resolve(he.data)},we=()=>{const Pe=J(this,vn,he.promise=mu());K(Pe)},G=E(this,vn);switch(G.status){case"pending":r.queryHash===a.queryHash&&K(G);break;case"fulfilled":(he.status==="error"||he.data!==G.value)&&we();break;case"rejected":(he.status!=="error"||he.error!==G.reason)&&we();break}}return he}updateResult(){const r=E(this,xt),n=this.createResult(E(this,_e),this.options);if(J(this,Jn,E(this,_e).state),J(this,ti,this.options),E(this,Jn).data!==void 0&&J(this,ni,E(this,_e)),Ho(n,r))return;J(this,xt,n);const a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!E(this,si).size)return!0;const d=new Set(u??E(this,si));return this.options.throwOnError&&d.add("error"),Object.keys(E(this,xt)).some(m=>{const f=m;return E(this,xt)[f]!==r[f]&&d.has(f)})};me(this,Ee,Pm).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&me(this,Ee,wu).call(this)}},Tt=new WeakMap,_e=new WeakMap,da=new WeakMap,xt=new WeakMap,Jn=new WeakMap,ti=new WeakMap,vn=new WeakMap,wn=new WeakMap,ha=new WeakMap,ri=new WeakMap,ni=new WeakMap,Xn=new WeakMap,Yn=new WeakMap,_n=new WeakMap,si=new WeakMap,Ee=new WeakSet,ea=function(r){me(this,Ee,bu).call(this);let n=E(this,_e).fetch(this.options,r);return r!=null&&r.throwOnError||(n=n.catch(bt)),n},yu=function(){me(this,Ee,_u).call(this);const r=kn(this.options.staleTime,E(this,_e));if(rs||E(this,xt).isStale||!hu(r))return;const a=vm(E(this,xt).dataUpdatedAt,r)+1;J(this,Xn,setTimeout(()=>{E(this,xt).isStale||this.updateResult()},a))},gu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,_e)):this.options.refetchInterval)??!1},vu=function(r){me(this,Ee,xu).call(this),J(this,_n,r),!(rs||lr(this.options.enabled,E(this,_e))===!1||!hu(E(this,_n))||E(this,_n)===0)&&J(this,Yn,setInterval(()=>{(this.options.refetchIntervalInBackground||Hu.isFocused())&&me(this,Ee,ea).call(this)},E(this,_n)))},wu=function(){me(this,Ee,yu).call(this),me(this,Ee,vu).call(this,me(this,Ee,gu).call(this))},_u=function(){E(this,Xn)&&(clearTimeout(E(this,Xn)),J(this,Xn,void 0))},xu=function(){E(this,Yn)&&(clearInterval(E(this,Yn)),J(this,Yn,void 0))},bu=function(){const r=E(this,Tt).getQueryCache().build(E(this,Tt),this.options);if(r===E(this,_e))return;const n=E(this,_e);J(this,_e,r),J(this,da,r.state),this.hasListeners()&&(n==null||n.removeObserver(this),r.addObserver(this))},Pm=function(r){Je.batch(()=>{r.listeners&&this.listeners.forEach(n=>{n(E(this,xt))}),E(this,Tt).getQueryCache().notify({query:E(this,_e),type:"observerResultsUpdated"})})},mm);function B0(s,r){return lr(r.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&r.retryOnMount===!1)}function gp(s,r){return B0(s,r)||s.state.data!==void 0&&ku(s,r,r.refetchOnMount)}function ku(s,r,n){if(lr(r.enabled,s)!==!1&&kn(r.staleTime,s)!=="static"){const a=typeof n=="function"?n(s):n;return a==="always"||a!==!1&&Ku(s,r)}return!1}function vp(s,r,n,a){return(s!==r||lr(a.enabled,s)===!1)&&(!n.suspense||s.state.status!=="error")&&Ku(s,n)}function Ku(s,r){return lr(r.enabled,s)!==!1&&s.isStaleByTime(kn(r.staleTime,s))}function W0(s,r){return!Ho(s.getCurrentResult(),r)}var xn,bn,At,Ir,Fr,qo,Nu,ym,H0=(ym=class extends ai{constructor(n,a){super();ae(this,Fr);ae(this,xn);ae(this,bn);ae(this,At);ae(this,Ir);J(this,xn,n),this.setOptions(a),this.bindMethods(),me(this,Fr,qo).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const a=this.options;this.options=E(this,xn).defaultMutationOptions(n),Ho(this.options,a)||E(this,xn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,At),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&ns(a.mutationKey)!==ns(this.options.mutationKey)?this.reset():((o=E(this,At))==null?void 0:o.state.status)==="pending"&&E(this,At).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=E(this,At))==null||n.removeObserver(this)}onMutationUpdate(n){me(this,Fr,qo).call(this),me(this,Fr,Nu).call(this,n)}getCurrentResult(){return E(this,bn)}reset(){var n;(n=E(this,At))==null||n.removeObserver(this),J(this,At,void 0),me(this,Fr,qo).call(this),me(this,Fr,Nu).call(this)}mutate(n,a){var o;return J(this,Ir,a),(o=E(this,At))==null||o.removeObserver(this),J(this,At,E(this,xn).getMutationCache().build(E(this,xn),this.options)),E(this,At).addObserver(this),E(this,At).execute(n)}},xn=new WeakMap,bn=new WeakMap,At=new WeakMap,Ir=new WeakMap,Fr=new WeakSet,qo=function(){var a;const n=((a=E(this,At))==null?void 0:a.state)??Em();J(this,bn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Nu=function(n){Je.batch(()=>{var a,o,u,d,m,f,y,_;if(E(this,Ir)&&this.hasListeners()){const b=E(this,bn).variables,v=E(this,bn).context;(n==null?void 0:n.type)==="success"?((o=(a=E(this,Ir)).onSuccess)==null||o.call(a,n.data,b,v),(d=(u=E(this,Ir)).onSettled)==null||d.call(u,n.data,null,b,v)):(n==null?void 0:n.type)==="error"&&((f=(m=E(this,Ir)).onError)==null||f.call(m,n.error,b,v),(_=(y=E(this,Ir)).onSettled)==null||_.call(y,void 0,n.error,b,v))}this.listeners.forEach(b=>{b(E(this,bn))})})},ym),nu={exports:{}},Gi={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function K0(){if(wp)return Gi;wp=1;var s=qu(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(m,f,y){var _,b={},v=null,k=null;y!==void 0&&(v=""+y),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(k=f.ref);for(_ in f)a.call(f,_)&&!u.hasOwnProperty(_)&&(b[_]=f[_]);if(m&&m.defaultProps)for(_ in f=m.defaultProps,f)b[_]===void 0&&(b[_]=f[_]);return{$$typeof:r,type:m,key:v,ref:k,props:b,_owner:o.current}}return Gi.Fragment=n,Gi.jsx=d,Gi.jsxs=d,Gi}var _p;function V0(){return _p||(_p=1,nu.exports=K0()),nu.exports}var Vu=V0();const l=Vu.jsx,g=Vu.jsxs,kt=Vu.Fragment;var jm=R.createContext(void 0),br=s=>{const r=R.useContext(jm);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},Q0=({client:s,children:r})=>(R.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),l(jm.Provider,{value:s,children:r})),Rm=R.createContext(!1),G0=()=>R.useContext(Rm);Rm.Provider;function Z0(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var J0=R.createContext(Z0()),X0=()=>R.useContext(J0),Y0=(s,r)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(r.isReset()||(s.retryOnMount=!1))},ev=s=>{R.useEffect(()=>{s.clearReset()},[s])},tv=({result:s,errorResetBoundary:r,throwOnError:n,query:a,suspense:o})=>s.isError&&!r.isReset()&&!s.isFetching&&a&&(o&&s.data===void 0||xm(n,[s.error,a])),rv=s=>{if(s.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=s.staleTime;s.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},nv=(s,r)=>s.isLoading&&s.isFetching&&!r,sv=(s,r)=>(s==null?void 0:s.suspense)&&r.isPending,xp=(s,r,n)=>r.fetchOptimistic(s).catch(()=>{n.clearReset()});function iv(s,r,n){var b,v,k,N,x;const a=G0(),o=X0(),u=br(),d=u.defaultQueryOptions(s);(v=(b=u.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||v.call(b,d),d._optimisticResults=a?"isRestoring":"optimistic",rv(d),Y0(d,o),ev(o);const m=!u.getQueryCache().get(d.queryHash),[f]=R.useState(()=>new r(u,d)),y=f.getOptimisticResult(d),_=!a&&s.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(S=>{const z=_?f.subscribe(Je.batchCalls(S)):bt;return f.updateResult(),z},[f,_]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),R.useEffect(()=>{f.setOptions(d)},[d,f]),sv(d,y))throw xp(d,f,o);if(tv({result:y,errorResetBoundary:o,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw y.error;if((N=(k=u.getDefaultOptions().queries)==null?void 0:k._experimental_afterQuery)==null||N.call(k,d,y),d.experimental_prefetchInRender&&!rs&&nv(y,a)){const S=m?xp(d,f,o):(x=u.getQueryCache().get(d.queryHash))==null?void 0:x.promise;S==null||S.catch(bt).finally(()=>{f.updateResult()})}return d.notifyOnChangeProps?y:f.trackResult(y)}function He(s,r){return iv(s,q0)}function qt(s,r){const n=br(),[a]=R.useState(()=>new H0(n,s));R.useEffect(()=>{a.setOptions(s)},[a,s]);const o=R.useSyncExternalStore(R.useCallback(d=>a.subscribe(Je.batchCalls(d)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),u=R.useCallback((d,m)=>{a.mutate(d,m).catch(bt)},[a]);if(o.error&&xm(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}var Zi={},bp;function av(){if(bp)return Zi;bp=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.parse=d,Zi.serialize=y;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function d(v,k){const N=new u,x=v.length;if(x<2)return N;const S=(k==null?void 0:k.decode)||_;let z=0;do{const I=v.indexOf("=",z);if(I===-1)break;const L=v.indexOf(";",z),D=L===-1?x:L;if(I>D){z=v.lastIndexOf(";",I-1)+1;continue}const B=m(v,z,I),V=f(v,I,B),re=v.slice(B,V);if(N[re]===void 0){let he=m(v,I+1,D),H=f(v,D,he);const K=S(v.slice(he,H));N[re]=K}z=D+1}while(z<x);return N}function m(v,k,N){do{const x=v.charCodeAt(k);if(x!==32&&x!==9)return k}while(++k<N);return N}function f(v,k,N){for(;k>N;){const x=v.charCodeAt(--k);if(x!==32&&x!==9)return k+1}return N}function y(v,k,N){const x=(N==null?void 0:N.encode)||encodeURIComponent;if(!s.test(v))throw new TypeError(`argument name is invalid: ${v}`);const S=x(k);if(!r.test(S))throw new TypeError(`argument val is invalid: ${k}`);let z=v+"="+S;if(!N)return z;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);z+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);z+="; Domain="+N.domain}if(N.path){if(!a.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);z+="; Path="+N.path}if(N.expires){if(!b(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);z+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(z+="; HttpOnly"),N.secure&&(z+="; Secure"),N.partitioned&&(z+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return z}function _(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function b(v){return o.call(v)==="[object Date]"}return Zi}av();var kp="popstate";function ov(s={}){function r(a,o){let{pathname:u,search:d,hash:m}=a.location;return Su("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:aa(o)}return cv(r,n,null,s)}function qe(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function dr(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function lv(){return Math.random().toString(36).substring(2,10)}function Np(s,r){return{usr:s.state,key:s.key,idx:r}}function Su(s,r,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof r=="string"?oi(r):r,state:n,key:r&&r.key||a||lv()}}function aa({pathname:s="/",search:r="",hash:n=""}){return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function oi(s){let r={};if(s){let n=s.indexOf("#");n>=0&&(r.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(r.search=s.substring(a),s=s.substring(0,a)),s&&(r.pathname=s)}return r}function cv(s,r,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,m="POP",f=null,y=_();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function _(){return(d.state||{idx:null}).idx}function b(){m="POP";let S=_(),z=S==null?null:S-y;y=S,f&&f({action:m,location:x.location,delta:z})}function v(S,z){m="PUSH";let I=Su(x.location,S,z);y=_()+1;let L=Np(I,y),D=x.createHref(I);try{d.pushState(L,"",D)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(D)}u&&f&&f({action:m,location:x.location,delta:1})}function k(S,z){m="REPLACE";let I=Su(x.location,S,z);y=_();let L=Np(I,y),D=x.createHref(I);d.replaceState(L,"",D),u&&f&&f({action:m,location:x.location,delta:0})}function N(S){return uv(S)}let x={get action(){return m},get location(){return s(o,d)},listen(S){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(kp,b),f=S,()=>{o.removeEventListener(kp,b),f=null}},createHref(S){return r(o,S)},createURL:N,encodeLocation(S){let z=N(S);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:v,replace:k,go(S){return d.go(S)}};return x}function uv(s,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qe(n,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:aa(s);return a=a.replace(/ $/,"%20"),!r&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function zm(s,r,n="/"){return dv(s,r,n,!1)}function dv(s,r,n,a){let o=typeof r=="string"?oi(r):r,u=Ur(o.pathname||"/",n);if(u==null)return null;let d=Om(s);hv(d);let m=null;for(let f=0;m==null&&f<d.length;++f){let y=kv(u);m=xv(d[f],y,a)}return m}function Om(s,r=[],n=[],a=""){let o=(u,d,m)=>{let f={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};f.relativePath.startsWith("/")&&(qe(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length));let y=Mr([a,f.relativePath]),_=n.concat(f);u.children&&u.children.length>0&&(qe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Om(u.children,r,_,y)),!(u.path==null&&!u.index)&&r.push({path:y,score:wv(y,u.index),routesMeta:_})};return s.forEach((u,d)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,d);else for(let f of Tm(u.path))o(u,d,f)}),r}function Tm(s){let r=s.split("/");if(r.length===0)return[];let[n,...a]=r,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=Tm(a.join("/")),m=[];return m.push(...d.map(f=>f===""?u:[u,f].join("/"))),o&&m.push(...d),m.map(f=>s.startsWith("/")&&f===""?"/":f)}function hv(s){s.sort((r,n)=>r.score!==n.score?n.score-r.score:_v(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var fv=/^:[\w-]+$/,pv=3,mv=2,yv=1,gv=10,vv=-2,Sp=s=>s==="*";function wv(s,r){let n=s.split("/"),a=n.length;return n.some(Sp)&&(a+=vv),r&&(a+=mv),n.filter(o=>!Sp(o)).reduce((o,u)=>o+(fv.test(u)?pv:u===""?yv:gv),a)}function _v(s,r){return s.length===r.length&&s.slice(0,-1).every((a,o)=>a===r[o])?s[s.length-1]-r[r.length-1]:0}function xv(s,r,n=!1){let{routesMeta:a}=s,o={},u="/",d=[];for(let m=0;m<a.length;++m){let f=a[m],y=m===a.length-1,_=u==="/"?r:r.slice(u.length)||"/",b=Vo({path:f.relativePath,caseSensitive:f.caseSensitive,end:y},_),v=f.route;if(!b&&y&&n&&!a[a.length-1].route.index&&(b=Vo({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Mr([u,b.pathname]),pathnameBase:Ev(Mr([u,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(u=Mr([u,b.pathnameBase]))}return d}function Vo(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=bv(s.path,s.caseSensitive,s.end),o=r.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:_,isOptional:b},v)=>{if(_==="*"){let N=m[v]||"";d=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const k=m[v];return b&&!k?y[_]=void 0:y[_]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:s}}function bv(s,r=!1,n=!0){dr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,f)=>(a.push({paramName:m,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),a]}function kv(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return dr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),s}}function Ur(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}function Nv(s,r="/"){let{pathname:n,search:a="",hash:o=""}=typeof s=="string"?oi(s):s;return{pathname:n?n.startsWith("/")?n:Sv(n,r):r,search:Pv(a),hash:jv(o)}}function Sv(s,r){let n=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function su(s,r,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${r}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cv(s){return s.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Am(s){let r=Cv(s);return r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase)}function Lm(s,r,n,a=!1){let o;typeof s=="string"?o=oi(s):(o={...s},qe(!o.pathname||!o.pathname.includes("?"),su("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),su("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),su("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=n;else{let b=r.length-1;if(!a&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),b-=1;o.pathname=v.join("/")}m=b>=0?r[b]:"/"}let f=Nv(o,m),y=d&&d!=="/"&&d.endsWith("/"),_=(u||d===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(y||_)&&(f.pathname+="/"),f}var Mr=s=>s.join("/").replace(/\/\/+/g,"/"),Ev=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Pv=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,jv=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Rv(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var $m=["POST","PUT","PATCH","DELETE"];new Set($m);var zv=["GET",...$m];new Set(zv);var li=R.createContext(null);li.displayName="DataRouter";var tl=R.createContext(null);tl.displayName="DataRouterState";var Im=R.createContext({isTransitioning:!1});Im.displayName="ViewTransition";var Ov=R.createContext(new Map);Ov.displayName="Fetchers";var Tv=R.createContext(null);Tv.displayName="Await";var kr=R.createContext(null);kr.displayName="Navigation";var pa=R.createContext(null);pa.displayName="Location";var Nr=R.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var Qu=R.createContext(null);Qu.displayName="RouteError";function Av(s,{relative:r}={}){qe(ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=R.useContext(kr),{hash:o,pathname:u,search:d}=ya(s,{relative:r}),m=u;return n!=="/"&&(m=u==="/"?n:Mr([n,u])),a.createHref({pathname:m,search:d,hash:o})}function ma(){return R.useContext(pa)!=null}function Cn(){return qe(ma(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(pa).location}var Dm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mm(s){R.useContext(kr).static||R.useLayoutEffect(s)}function yt(){let{isDataRoute:s}=R.useContext(Nr);return s?Vv():Lv()}function Lv(){qe(ma(),"useNavigate() may be used only in the context of a <Router> component.");let s=R.useContext(li),{basename:r,navigator:n}=R.useContext(kr),{matches:a}=R.useContext(Nr),{pathname:o}=Cn(),u=JSON.stringify(Am(a)),d=R.useRef(!1);return Mm(()=>{d.current=!0}),R.useCallback((f,y={})=>{if(dr(d.current,Dm),!d.current)return;if(typeof f=="number"){n.go(f);return}let _=Lm(f,JSON.parse(u),o,y.relative==="path");s==null&&r!=="/"&&(_.pathname=_.pathname==="/"?r:Mr([r,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[r,n,u,o,s])}R.createContext(null);function Fm(){let{matches:s}=R.useContext(Nr),r=s[s.length-1];return r?r.params:{}}function ya(s,{relative:r}={}){let{matches:n}=R.useContext(Nr),{pathname:a}=Cn(),o=JSON.stringify(Am(n));return R.useMemo(()=>Lm(s,JSON.parse(o),a,r==="path"),[s,o,a,r])}function $v(s,r){return Um(s,r)}function Um(s,r,n,a){var z;qe(ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(kr),{matches:u}=R.useContext(Nr),d=u[u.length-1],m=d?d.params:{},f=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let I=_&&_.path||"";qm(f,!_||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let b=Cn(),v;if(r){let I=typeof r=="string"?oi(r):r;qe(y==="/"||((z=I.pathname)==null?void 0:z.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${I.pathname}" was given in the \`location\` prop.`),v=I}else v=b;let k=v.pathname||"/",N=k;if(y!=="/"){let I=y.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(I.length).join("/")}let x=zm(s,{pathname:N});dr(_||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),dr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=Uv(x&&x.map(I=>Object.assign({},I,{params:Object.assign({},m,I.params),pathname:Mr([y,o.encodeLocation?o.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?y:Mr([y,o.encodeLocation?o.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),u,n,a);return r&&S?R.createElement(pa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function Iv(){let s=Kv(),r=Rv(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:u},"ErrorBoundary")," or"," ",R.createElement("code",{style:u},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},r),n?R.createElement("pre",{style:o},n):null,d)}var Dv=R.createElement(Iv,null),Mv=class extends R.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?R.createElement(Nr.Provider,{value:this.props.routeContext},R.createElement(Qu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fv({routeContext:s,match:r,children:n}){let a=R.useContext(li);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),R.createElement(Nr.Provider,{value:s},n)}function Uv(s,r=[],n=null,a=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let o=s,u=n==null?void 0:n.errors;if(u!=null){let f=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);qe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let d=!1,m=-1;if(n)for(let f=0;f<o.length;f++){let y=o[f];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=f),y.route.id){let{loaderData:_,errors:b}=n,v=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||v){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((f,y,_)=>{let b,v=!1,k=null,N=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,k=y.route.errorElement||Dv,d&&(m<0&&_===0?(qm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,N=null):m===_&&(v=!0,N=y.route.hydrateFallbackElement||null)));let x=r.concat(o.slice(0,_+1)),S=()=>{let z;return b?z=k:v?z=N:y.route.Component?z=R.createElement(y.route.Component,null):y.route.element?z=y.route.element:z=f,R.createElement(Fv,{match:y,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:z})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?R.createElement(Mv,{location:n.location,revalidation:n.revalidation,component:k,error:b,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}function Gu(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qv(s){let r=R.useContext(li);return qe(r,Gu(s)),r}function Bv(s){let r=R.useContext(tl);return qe(r,Gu(s)),r}function Wv(s){let r=R.useContext(Nr);return qe(r,Gu(s)),r}function Zu(s){let r=Wv(s),n=r.matches[r.matches.length-1];return qe(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function Hv(){return Zu("useRouteId")}function Kv(){var a;let s=R.useContext(Qu),r=Bv("useRouteError"),n=Zu("useRouteError");return s!==void 0?s:(a=r.errors)==null?void 0:a[n]}function Vv(){let{router:s}=qv("useNavigate"),r=Zu("useNavigate"),n=R.useRef(!1);return Mm(()=>{n.current=!0}),R.useCallback(async(o,u={})=>{dr(n.current,Dm),n.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:r,...u}))},[s,r])}var Cp={};function qm(s,r,n){!r&&!Cp[s]&&(Cp[s]=!0,dr(!1,n))}R.memo(Qv);function Qv({routes:s,future:r,state:n}){return Um(s,void 0,n,r)}function Re(s){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Gv({basename:s="/",children:r=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){qe(!ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),m=R.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=oi(n));let{pathname:f="/",search:y="",hash:_="",state:b=null,key:v="default"}=n,k=R.useMemo(()=>{let N=Ur(f,d);return N==null?null:{location:{pathname:N,search:y,hash:_,state:b,key:v},navigationType:a}},[d,f,y,_,b,v,a]);return dr(k!=null,`<Router basename="${d}"> is not able to match the URL "${f}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:R.createElement(kr.Provider,{value:m},R.createElement(pa.Provider,{children:r,value:k}))}function Zv({children:s,location:r}){return $v(Cu(s),r)}function Cu(s,r=[]){let n=[];return R.Children.forEach(s,(a,o)=>{if(!R.isValidElement(a))return;let u=[...r,o];if(a.type===R.Fragment){n.push.apply(n,Cu(a.props.children,u));return}qe(a.type===Re,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Cu(a.props.children,u)),n.push(d)}),n}var Bo="get",Wo="application/x-www-form-urlencoded";function rl(s){return s!=null&&typeof s.tagName=="string"}function Jv(s){return rl(s)&&s.tagName.toLowerCase()==="button"}function Xv(s){return rl(s)&&s.tagName.toLowerCase()==="form"}function Yv(s){return rl(s)&&s.tagName.toLowerCase()==="input"}function ew(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function tw(s,r){return s.button===0&&(!r||r==="_self")&&!ew(s)}function Eu(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((r,n)=>{let a=s[n];return r.concat(Array.isArray(a)?a.map(o=>[n,o]):[[n,a]])},[]))}function rw(s,r){let n=Eu(s);return r&&r.forEach((a,o)=>{n.has(o)||r.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Ao=null;function nw(){if(Ao===null)try{new FormData(document.createElement("form"),0),Ao=!1}catch{Ao=!0}return Ao}var sw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iu(s){return s!=null&&!sw.has(s)?(dr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wo}"`),null):s}function iw(s,r){let n,a,o,u,d;if(Xv(s)){let m=s.getAttribute("action");a=m?Ur(m,r):null,n=s.getAttribute("method")||Bo,o=iu(s.getAttribute("enctype"))||Wo,u=new FormData(s)}else if(Jv(s)||Yv(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=s.getAttribute("formaction")||m.getAttribute("action");if(a=f?Ur(f,r):null,n=s.getAttribute("formmethod")||m.getAttribute("method")||Bo,o=iu(s.getAttribute("formenctype"))||iu(m.getAttribute("enctype"))||Wo,u=new FormData(m,s),!nw()){let{name:y,type:_,value:b}=s;if(_==="image"){let v=y?`${y}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else y&&u.append(y,b)}}else{if(rl(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bo,a=null,o=Wo,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:d}}function Ju(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}async function aw(s,r){if(s.id in r)return r[s.id];try{let n=await import(s.module);return r[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ow(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function lw(s,r,n){let a=await Promise.all(s.map(async o=>{let u=r.routes[o.route.id];if(u){let d=await aw(u,n);return d.links?d.links():[]}return[]}));return hw(a.flat(1).filter(ow).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ep(s,r,n,a,o,u){let d=(f,y)=>n[y]?f.route.id!==n[y].route.id:!0,m=(f,y)=>{var _;return n[y].pathname!==f.pathname||((_=n[y].route.path)==null?void 0:_.endsWith("*"))&&n[y].params["*"]!==f.params["*"]};return u==="assets"?r.filter((f,y)=>d(f,y)||m(f,y)):u==="data"?r.filter((f,y)=>{var b;let _=a.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(d(f,y)||m(f,y))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(s,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function cw(s,r,{includeHydrateFallback:n}={}){return uw(s.map(a=>{let o=r.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function uw(s){return[...new Set(s)]}function dw(s){let r={},n=Object.keys(s).sort();for(let a of n)r[a]=s[a];return r}function hw(s,r){let n=new Set;return new Set(r),s.reduce((a,o)=>{let u=JSON.stringify(dw(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fw=new Set([100,101,204,205]);function pw(s,r){let n=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n.pathname==="/"?n.pathname="_root.data":r&&Ur(n.pathname,r)==="/"?n.pathname=`${r.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Bm(){let s=R.useContext(li);return Ju(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function mw(){let s=R.useContext(tl);return Ju(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Xu=R.createContext(void 0);Xu.displayName="FrameworkContext";function Wm(){let s=R.useContext(Xu);return Ju(s,"You must render this element inside a <HydratedRouter> element"),s}function yw(s,r){let n=R.useContext(Xu),[a,o]=R.useState(!1),[u,d]=R.useState(!1),{onFocus:m,onBlur:f,onMouseEnter:y,onMouseLeave:_,onTouchStart:b}=r,v=R.useRef(null);R.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let x=z=>{z.forEach(I=>{d(I.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[s]),R.useEffect(()=>{if(a){let x=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(x)}}},[a]);let k=()=>{o(!0)},N=()=>{o(!1),d(!1)};return n?s!=="intent"?[u,v,{}]:[u,v,{onFocus:Ji(m,k),onBlur:Ji(f,N),onMouseEnter:Ji(y,k),onMouseLeave:Ji(_,N),onTouchStart:Ji(b,k)}]:[!1,v,{}]}function Ji(s,r){return n=>{s&&s(n),n.defaultPrevented||r(n)}}function gw({page:s,...r}){let{router:n}=Bm(),a=R.useMemo(()=>zm(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?R.createElement(ww,{page:s,matches:a,...r}):null}function vw(s){let{manifest:r,routeModules:n}=Wm(),[a,o]=R.useState([]);return R.useEffect(()=>{let u=!1;return lw(s,r,n).then(d=>{u||o(d)}),()=>{u=!0}},[s,r,n]),a}function ww({page:s,matches:r,...n}){let a=Cn(),{manifest:o,routeModules:u}=Wm(),{basename:d}=Bm(),{loaderData:m,matches:f}=mw(),y=R.useMemo(()=>Ep(s,r,f,o,a,"data"),[s,r,f,o,a]),_=R.useMemo(()=>Ep(s,r,f,o,a,"assets"),[s,r,f,o,a]),b=R.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let N=new Set,x=!1;if(r.forEach(z=>{var L;let I=o.routes[z.route.id];!I||!I.hasLoader||(!y.some(D=>D.route.id===z.route.id)&&z.route.id in m&&((L=u[z.route.id])!=null&&L.shouldRevalidate)||I.hasClientLoader?x=!0:N.add(z.route.id))}),N.size===0)return[];let S=pw(s,d);return x&&N.size>0&&S.searchParams.set("_routes",r.filter(z=>N.has(z.route.id)).map(z=>z.route.id).join(",")),[S.pathname+S.search]},[d,m,a,o,y,r,s,u]),v=R.useMemo(()=>cw(_,o),[_,o]),k=vw(_);return R.createElement(R.Fragment,null,b.map(N=>R.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),v.map(N=>R.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),k.map(({key:N,link:x})=>R.createElement("link",{key:N,...x})))}function _w(...s){return r=>{s.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var Hm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hm&&(window.__reactRouterVersion="7.6.2")}catch{}function xw({basename:s,children:r,window:n}){let a=R.useRef();a.current==null&&(a.current=ov({window:n,v5Compat:!0}));let o=a.current,[u,d]=R.useState({action:o.action,location:o.location}),m=R.useCallback(f=>{R.startTransition(()=>d(f))},[d]);return R.useLayoutEffect(()=>o.listen(m),[o,m]),R.createElement(Gv,{basename:s,children:r,location:u.location,navigationType:u.action,navigator:o})}var Km=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ga=R.forwardRef(function({onClick:r,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:d,state:m,target:f,to:y,preventScrollReset:_,viewTransition:b,...v},k){let{basename:N}=R.useContext(kr),x=typeof y=="string"&&Km.test(y),S,z=!1;if(typeof y=="string"&&x&&(S=y,Hm))try{let H=new URL(window.location.href),K=y.startsWith("//")?new URL(H.protocol+y):new URL(y),we=Ur(K.pathname,N);K.origin===H.origin&&we!=null?y=we+K.search+K.hash:z=!0}catch{dr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=Av(y,{relative:o}),[L,D,B]=yw(a,v),V=Nw(y,{replace:d,state:m,target:f,preventScrollReset:_,relative:o,viewTransition:b});function re(H){r&&r(H),H.defaultPrevented||V(H)}let he=R.createElement("a",{...v,...B,href:S||I,onClick:z||u?r:re,ref:_w(k,D),target:f,"data-discover":!x&&n==="render"?"true":void 0});return L&&!x?R.createElement(R.Fragment,null,he,R.createElement(gw,{page:I})):he});ga.displayName="Link";var qs=R.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:d,viewTransition:m,children:f,...y},_){let b=ya(d,{relative:y.relative}),v=Cn(),k=R.useContext(tl),{navigator:N,basename:x}=R.useContext(kr),S=k!=null&&Rw(b)&&m===!0,z=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,I=v.pathname,L=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(I=I.toLowerCase(),L=L?L.toLowerCase():null,z=z.toLowerCase()),L&&x&&(L=Ur(L,x)||L);const D=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let B=I===z||!o&&I.startsWith(z)&&I.charAt(D)==="/",V=L!=null&&(L===z||!o&&L.startsWith(z)&&L.charAt(z.length)==="/"),re={isActive:B,isPending:V,isTransitioning:S},he=B?r:void 0,H;typeof a=="function"?H=a(re):H=[a,B?"active":null,V?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let K=typeof u=="function"?u(re):u;return R.createElement(ga,{...y,"aria-current":he,className:H,ref:_,style:K,to:d,viewTransition:m},typeof f=="function"?f(re):f)});qs.displayName="NavLink";var bw=R.forwardRef(({discover:s="render",fetcherKey:r,navigate:n,reloadDocument:a,replace:o,state:u,method:d=Bo,action:m,onSubmit:f,relative:y,preventScrollReset:_,viewTransition:b,...v},k)=>{let N=Pw(),x=jw(m,{relative:y}),S=d.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&Km.test(m),I=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let D=L.nativeEvent.submitter,B=(D==null?void 0:D.getAttribute("formmethod"))||d;N(D||L.currentTarget,{fetcherKey:r,method:B,navigate:n,replace:o,state:u,relative:y,preventScrollReset:_,viewTransition:b})};return R.createElement("form",{ref:k,method:S,action:x,onSubmit:a?f:I,...v,"data-discover":!z&&s==="render"?"true":void 0})});bw.displayName="Form";function kw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vm(s){let r=R.useContext(li);return qe(r,kw(s)),r}function Nw(s,{target:r,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:d}={}){let m=yt(),f=Cn(),y=ya(s,{relative:u});return R.useCallback(_=>{if(tw(_,r)){_.preventDefault();let b=n!==void 0?n:aa(f)===aa(y);m(s,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:d})}},[f,m,y,n,a,r,s,o,u,d])}function Sw(s){dr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=R.useRef(Eu(s)),n=R.useRef(!1),a=Cn(),o=R.useMemo(()=>rw(a.search,n.current?null:r.current),[a.search]),u=yt(),d=R.useCallback((m,f)=>{const y=Eu(typeof m=="function"?m(o):m);n.current=!0,u("?"+y,f)},[u,o]);return[o,d]}var Cw=0,Ew=()=>`__${String(++Cw)}__`;function Pw(){let{router:s}=Vm("useSubmit"),{basename:r}=R.useContext(kr),n=Hv();return R.useCallback(async(a,o={})=>{let{action:u,method:d,encType:m,formData:f,body:y}=iw(a,r);if(o.navigate===!1){let _=o.fetcherKey||Ew();await s.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,r,n])}function jw(s,{relative:r}={}){let{basename:n}=R.useContext(kr),a=R.useContext(Nr);qe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...ya(s||".",{relative:r})},d=Cn();if(s==null){u.search=d.search;let m=new URLSearchParams(u.search),f=m.getAll("index");if(f.some(_=>_==="")){m.delete("index"),f.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();u.search=_?`?${_}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Mr([n,u.pathname])),aa(u)}function Rw(s,r={}){let n=R.useContext(Im);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Vm("useViewTransitionState"),o=ya(s,{relative:r.relative});if(!n.isTransitioning)return!1;let u=Ur(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=Ur(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Vo(o.pathname,d)!=null||Vo(o.pathname,u)!=null}[...fw];var zw=function(){return null};const Qm=()=>({getFormData:a=>{const o={};return a.querySelectorAll("input[name]").forEach(f=>{f.type==="checkbox"?(o[f.name]||(o[f.name]=[]),f.checked&&o[f.name].push(f.value)):f.type==="radio"?f.checked&&(o[f.name]=f.value):o[f.name]=f.value}),a.querySelectorAll("select[name]").forEach(f=>{if(f.multiple){const y=Array.from(f.selectedOptions).map(_=>_.value);o[f.name]=y}else o[f.name]=f.value}),a.querySelectorAll("textarea[name]").forEach(f=>{o[f.name]=f.value}),o},resetForm:a=>{a.reset()},setFormData:(a,o)=>{Object.entries(o).forEach(([u,d])=>{a.querySelectorAll(`[name="${u}"]`).forEach(f=>{f instanceof HTMLInputElement?f.type==="checkbox"?f.checked=Array.isArray(d)?d.includes(f.value):d===f.value:f.type==="radio"?f.checked=f.value===d:f.value=Array.isArray(d)?d.join(", "):d:f instanceof HTMLSelectElement?f.multiple&&Array.isArray(d)?Array.from(f.options).forEach(y=>{y.selected=d.includes(y.value)}):f.value=Array.isArray(d)?d[0]||"":d:f instanceof HTMLTextAreaElement&&(f.value=Array.isArray(d)?d.join(`
`):d)})})}}),Ow=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>fa(async()=>{const{default:a}=await Promise.resolve().then(()=>va);return{default:a}},[]).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)};class Yu extends Error{constructor(r,n="FunctionsError",a){super(r),this.name=n,this.context=a}}class Tw extends Yu{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Aw extends Yu{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Lw extends Yu{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Pu;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Pu||(Pu={}));var $w=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(_){try{y(a.next(_))}catch(b){d(b)}}function f(_){try{y(a.throw(_))}catch(b){d(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,f)}y((a=a.apply(s,r||[])).next())})};class Iw{constructor(r,{headers:n={},customFetch:a,region:o=Pu.Any}={}){this.url=r,this.headers=n,this.region=o,this.fetch=Ow(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,n={}){var a;return $w(this,void 0,void 0,function*(){try{const{headers:o,method:u,body:d}=n;let m={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(m["x-region"]=f);let y;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(m["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(m["Content-Type"]="application/json",y=JSON.stringify(d)));const _=yield this.fetch(`${this.url}/${r}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:y}).catch(N=>{throw new Tw(N)}),b=_.headers.get("x-relay-error");if(b&&b==="true")throw new Aw(_);if(!_.ok)throw new Lw(_);let v=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),k;return v==="application/json"?k=yield _.json():v==="application/octet-stream"?k=yield _.blob():v==="text/event-stream"?k=_:v==="multipart/form-data"?k=yield _.formData():k=yield _.text(),{data:k,error:null}}catch(o){return{data:null,error:o}}})}}var nt={},Os={},Ts={},As={},Ls={},$s={},Dw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ii=Dw();const Mw=ii.fetch,Gm=ii.fetch.bind(ii),Zm=ii.Headers,Fw=ii.Request,Uw=ii.Response,va=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zm,Request:Fw,Response:Uw,default:Gm,fetch:Mw},Symbol.toStringTag,{value:"Module"})),qw=m0(va);var Lo={},Pp;function Jm(){if(Pp)return Lo;Pp=1,Object.defineProperty(Lo,"__esModule",{value:!0});class s extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Lo.default=s,Lo}var jp;function Xm(){if(jp)return $s;jp=1;var s=$s&&$s.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty($s,"__esModule",{value:!0});const r=s(qw),n=s(Jm());class a{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=Object.assign({},this.headers),this.headers[u]=d,this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const m=this.fetch;let f=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var _,b,v;let k=null,N=null,x=null,S=y.status,z=y.statusText;if(y.ok){if(this.method!=="HEAD"){const B=await y.text();B===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?N=B:N=JSON.parse(B))}const L=(_=this.headers.Prefer)===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),D=(b=y.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");L&&D&&D.length>1&&(x=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(k={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,x=null,S=406,z="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const L=await y.text();try{k=JSON.parse(L),Array.isArray(k)&&y.status===404&&(N=[],k=null,S=200,z="OK")}catch{y.status===404&&L===""?(S=204,z="No Content"):k={message:L}}if(k&&this.isMaybeSingle&&(!((v=k==null?void 0:k.details)===null||v===void 0)&&v.includes("0 rows"))&&(k=null,S=200,z="OK"),k&&this.shouldThrowOnError)throw new n.default(k)}return{error:k,data:N,count:x,status:S,statusText:z}});return this.shouldThrowOnError||(f=f.catch(y=>{var _,b,v;return{error:{message:`${(_=y==null?void 0:y.name)!==null&&_!==void 0?_:"FetchError"}: ${y==null?void 0:y.message}`,details:`${(b=y==null?void 0:y.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(v=y==null?void 0:y.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(u,d)}returns(){return this}overrideTypes(){return this}}return $s.default=a,$s}var Rp;function Ym(){if(Rp)return Ls;Rp=1;var s=Ls&&Ls.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ls,"__esModule",{value:!0});const r=s(Xm());class n extends r.default{select(o){let u=!1;const d=(o??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:u=!0,nullsFirst:d,foreignTable:m,referencedTable:f=m}={}){const y=f?`${f}.order`:"order",_=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${_?`${_},`:""}${o}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:d=u}={}){const m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,u,{foreignTable:d,referencedTable:m=d}={}){const f=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(y,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:u=!1,settings:d=!1,buffers:m=!1,wal:f=!1,format:y="text"}={}){var _;const b=[o?"analyze":null,u?"verbose":null,d?"settings":null,m?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(_=this.headers.Accept)!==null&&_!==void 0?_:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${v}"; options=${b};`,y==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ls.default=n,Ls}var zp;function ed(){if(zp)return As;zp=1;var s=As&&As.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(As,"__esModule",{value:!0});const r=s(Ym());class n extends r.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const d=Array.from(new Set(u)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:d,type:m}={}){let f="";m==="plain"?f="pl":m==="phrase"?f="ph":m==="websearch"&&(f="w");const y=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${f}fts${y}.${u}`),this}match(o){return Object.entries(o).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(o,u,d){return this.url.searchParams.append(o,`not.${u}.${d}`),this}or(o,{foreignTable:u,referencedTable:d=u}={}){const m=d?`${d}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,u,d){return this.url.searchParams.append(o,`${u}.${d}`),this}}return As.default=n,As}var Op;function ey(){if(Op)return Ts;Op=1;var s=Ts&&Ts.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ts,"__esModule",{value:!0});const r=s(ed());class n{constructor(o,{headers:u={},schema:d,fetch:m}){this.url=o,this.headers=u,this.schema=d,this.fetch=m}select(o,{head:u=!1,count:d}={}){const m=u?"HEAD":"GET";let f=!1;const y=(o??"*").split("").map(_=>/\s/.test(_)&&!f?"":(_==='"'&&(f=!f),_)).join("");return this.url.searchParams.set("select",y),d&&(this.headers.Prefer=`count=${d}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:u,defaultToNull:d=!0}={}){const m="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),u&&f.push(`count=${u}`),d||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(o)){const y=o.reduce((_,b)=>_.concat(Object.keys(b)),[]);if(y.length>0){const _=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",_.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:u,ignoreDuplicates:d=!1,count:m,defaultToNull:f=!0}={}){const y="POST",_=[`resolution=${d?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&_.push(this.headers.Prefer),m&&_.push(`count=${m}`),f||_.push("missing=default"),this.headers.Prefer=_.join(","),Array.isArray(o)){const b=o.reduce((v,k)=>v.concat(Object.keys(k)),[]);if(b.length>0){const v=[...new Set(b)].map(k=>`"${k}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:u}={}){const d="PATCH",m=[];return this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),this.headers.Prefer=m.join(","),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const u="DELETE",d=[];return o&&d.push(`count=${o}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ts.default=n,Ts}var Xi={},Yi={},Tp;function Bw(){return Tp||(Tp=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.version=void 0,Yi.version="0.0.0-automated"),Yi}var Ap;function Ww(){if(Ap)return Xi;Ap=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.DEFAULT_HEADERS=void 0;const s=Bw();return Xi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},Xi}var Lp;function Hw(){if(Lp)return Os;Lp=1;var s=Os&&Os.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Os,"__esModule",{value:!0});const r=s(ey()),n=s(ed()),a=Ww();class o{constructor(d,{headers:m={},schema:f,fetch:y}={}){this.url=d,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),m),this.schemaName=f,this.fetch=y}from(d){const m=new URL(`${this.url}/${d}`);return new r.default(m,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new o(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,m={},{head:f=!1,get:y=!1,count:_}={}){let b;const v=new URL(`${this.url}/rpc/${d}`);let k;f||y?(b=f?"HEAD":"GET",Object.entries(m).filter(([x,S])=>S!==void 0).map(([x,S])=>[x,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([x,S])=>{v.searchParams.append(x,S)})):(b="POST",k=m);const N=Object.assign({},this.headers);return _&&(N.Prefer=`count=${_}`),new n.default({method:b,url:v,headers:N,schema:this.schemaName,body:k,fetch:this.fetch,allowEmpty:!1})}}return Os.default=o,Os}var $p;function Kw(){if($p)return nt;$p=1;var s=nt&&nt.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(nt,"__esModule",{value:!0}),nt.PostgrestError=nt.PostgrestBuilder=nt.PostgrestTransformBuilder=nt.PostgrestFilterBuilder=nt.PostgrestQueryBuilder=nt.PostgrestClient=void 0;const r=s(Hw());nt.PostgrestClient=r.default;const n=s(ey());nt.PostgrestQueryBuilder=n.default;const a=s(ed());nt.PostgrestFilterBuilder=a.default;const o=s(Ym());nt.PostgrestTransformBuilder=o.default;const u=s(Xm());nt.PostgrestBuilder=u.default;const d=s(Jm());return nt.PostgrestError=d.default,nt.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:d.default},nt}var Vw=Kw();const Qw=gm(Vw),{PostgrestClient:Gw,PostgrestQueryBuilder:lk,PostgrestFilterBuilder:ck,PostgrestTransformBuilder:uk,PostgrestBuilder:dk,PostgrestError:hk}=Qw;let ju;typeof window>"u"?ju=require("ws"):ju=window.WebSocket;const Zw="2.11.10",Jw={"X-Client-Info":`realtime-js/${Zw}`},Xw="1.0.0",ty=1e4,Yw=1e3;var Bs;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Bs||(Bs={}));var wt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(wt||(wt={}));var or;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(or||(or={}));var Ru;(function(s){s.websocket="websocket"})(Ru||(Ru={}));var Wn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Wn||(Wn={}));class e1{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),a=new TextDecoder;return this._decodeBroadcast(r,n,a)}_decodeBroadcast(r,n,a){const o=n.getUint8(1),u=n.getUint8(2);let d=this.HEADER_LENGTH+2;const m=a.decode(r.slice(d,d+o));d=d+o;const f=a.decode(r.slice(d,d+u));d=d+u;const y=JSON.parse(a.decode(r.slice(d,r.byteLength)));return{ref:null,topic:m,event:f,payload:y}}}class ry{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})($e||($e={}));const Ip=(s,r,n={})=>{var a;const o=(a=n.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(r).reduce((u,d)=>(u[d]=t1(d,s,r,o),u),{})},t1=(s,r,n,a)=>{const o=r.find(m=>m.name===s),u=o==null?void 0:o.type,d=n[s];return u&&!a.includes(u)?ny(u,d):zu(d)},ny=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return i1(r,n)}switch(s){case $e.bool:return r1(r);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return n1(r);case $e.json:case $e.jsonb:return s1(r);case $e.timestamp:return a1(r);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return zu(r);default:return zu(r)}},zu=s=>s,r1=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},n1=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},s1=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(r){return console.log(`JSON parse error: ${r}`),s}return s},i1=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,a=s[n];if(s[0]==="{"&&a==="}"){let u;const d=s.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(m=>ny(r,m))}return s},a1=s=>typeof s=="string"?s.replace(" ","T"):s,sy=s=>{let r=s;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class au{constructor(r,n,a={},o=ty){this.channel=r,this.event=n,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var a;return this._hasReceived(r)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Dp;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Dp||(Dp={}));class ra{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ra.syncState(this.state,o,u,d),this.pendingDiffs.forEach(f=>{this.state=ra.syncDiff(this.state,f,u,d)}),this.pendingDiffs=[],m()}),this.channel._on(a.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ra.syncDiff(this.state,o,u,d),m())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,a,o){const u=this.cloneDeep(r),d=this.transformState(n),m={},f={};return this.map(u,(y,_)=>{d[y]||(f[y]=_)}),this.map(d,(y,_)=>{const b=u[y];if(b){const v=_.map(S=>S.presence_ref),k=b.map(S=>S.presence_ref),N=_.filter(S=>k.indexOf(S.presence_ref)<0),x=b.filter(S=>v.indexOf(S.presence_ref)<0);N.length>0&&(m[y]=N),x.length>0&&(f[y]=x)}else m[y]=_}),this.syncDiff(u,{joins:m,leaves:f},a,o)}static syncDiff(r,n,a,o){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(u,(m,f)=>{var y;const _=(y=r[m])!==null&&y!==void 0?y:[];if(r[m]=this.cloneDeep(f),_.length>0){const b=r[m].map(k=>k.presence_ref),v=_.filter(k=>b.indexOf(k.presence_ref)<0);r[m].unshift(...v)}a(m,_,f)}),this.map(d,(m,f)=>{let y=r[m];if(!y)return;const _=f.map(b=>b.presence_ref);y=y.filter(b=>_.indexOf(b.presence_ref)<0),r[m]=y,o(m,y,f),y.length===0&&delete r[m]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(a=>n(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,a)=>{const o=r[a];return"metas"in o?n[a]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[a]=o,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mp;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Mp||(Mp={}));var Fp;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Fp||(Fp={}));var Lr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Lr||(Lr={}));class td{constructor(r,n={config:{}},a){this.topic=r,this.params=n,this.socket=a,this.bindings={},this.state=wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new au(this,or.join,this.params,this.timeout),this.rejoinTimer=new ry(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(or.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new ra(this),this.broadcastEndpointURL=sy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,n=this.timeout){var a,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:d,private:m}}=this.params;this._onError(_=>r==null?void 0:r(Lr.CHANNEL_ERROR,_)),this._onClose(()=>r==null?void 0:r(Lr.CLOSED));const f={},y={broadcast:u,presence:d,postgres_changes:(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&o!==void 0?o:[],private:m};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:y},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var b;if(this.socket.setAuth(),_===void 0){r==null||r(Lr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,k=(b=v==null?void 0:v.length)!==null&&b!==void 0?b:0,N=[];for(let x=0;x<k;x++){const S=v[x],{filter:{event:z,schema:I,table:L,filter:D}}=S,B=_&&_[x];if(B&&B.event===z&&B.schema===I&&B.table===L&&B.filter===D)N.push(Object.assign(Object.assign({},S),{id:B.id}));else{this.unsubscribe(),this.state=wt.errored,r==null||r(Lr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,r&&r(Lr.SUBSCRIBED);return}}).receive("error",_=>{this.state=wt.errored,r==null||r(Lr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Lr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,a){return this._on(r,n,a)}async send(r,n={}){var a,o;if(!this._canPush()&&r.type==="broadcast"){const{event:u,payload:d}=r,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=y.body)===null||o===void 0?void 0:o.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,m,f;const y=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((f=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||f===void 0)&&f.ack)&&u("ok"),y.receive("ok",()=>u("ok")),y.receive("error",()=>u("error")),y.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=wt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(or.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(a=>{const o=new au(this,or.leave,{},r);o.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,n,a){const o=new AbortController,u=setTimeout(()=>o.abort(),a),d=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(u),d}_push(r,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new au(this,r,n,a);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(r,n,a){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,a){var o,u;const d=r.toLocaleLowerCase(),{close:m,error:f,leave:y,join:_}=or;if(a&&[m,f,y,_].indexOf(d)>=0&&a!==this._joinRef())return;let v=this._onMessage(d,n,a);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(k=>{var N,x,S;return((N=k.filter)===null||N===void 0?void 0:N.event)==="*"||((S=(x=k.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===d}).map(k=>k.callback(v,a)):(u=this.bindings[d])===null||u===void 0||u.filter(k=>{var N,x,S,z,I,L;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in k){const D=k.id,B=(N=k.filter)===null||N===void 0?void 0:N.event;return D&&((x=n.ids)===null||x===void 0?void 0:x.includes(D))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const D=(I=(z=k==null?void 0:k.filter)===null||z===void 0?void 0:z.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return D==="*"||D===((L=n==null?void 0:n.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===d}).map(k=>{if(typeof v=="object"&&"ids"in v){const N=v.data,{schema:x,table:S,commit_timestamp:z,type:I,errors:L}=N;v=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:z,eventType:I,new:{},old:{},errors:L}),this._getPayloadRecords(N))}k.callback(v,a)})}_isClosed(){return this.state===wt.closed}_isJoined(){return this.state===wt.joined}_isJoining(){return this.state===wt.joining}_isLeaving(){return this.state===wt.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,a){const o=r.toLocaleLowerCase(),u={type:o,filter:n,callback:a};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(r,n){const a=r.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&td.isEqual(o.filter,n))}),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const a in r)if(r[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(or.close,{},r)}_onError(r){this._on(or.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wt.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Ip(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Ip(r.columns,r.old_record)),n}}const Up=()=>{},o1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class l1{constructor(r,n){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Jw,this.params={},this.timeout=ty,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Up,this.ref=0,this.logger=Up,this.conn=null,this.sendBuffer=[],this.serializer=new e1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...m)=>fa(async()=>{const{default:f}=await import("./index-BZeith6a.js");return{default:f}},[]).then(({default:f})=>f(...m)):d=fetch,(...m)=>d(...m)},this.endPoint=`${r}/${Ru.websocket}`,this.httpEndpoint=sy(r),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(a=n==null?void 0:n.params)===null||a===void 0?void 0:a.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(u,d)=>d(JSON.stringify(u)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ry(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ju),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new c1(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xw}))}disconnect(r,n){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(a=>a.teardown()))}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels=this.channels.filter(a=>a._joinRef!==r._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,a){this.logger(r,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Bs.connecting:return Wn.Connecting;case Bs.open:return Wn.Open;case Bs.closing:return Wn.Closing;default:return Wn.Closed}}isConnected(){return this.connectionState()===Wn.Open}channel(r,n={config:{}}){const a=`realtime:${r}`,o=this.getChannels().find(u=>u.topic===a);if(o)return o;{const u=new td(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:a,payload:o,ref:u}=r,d=()=>{this.encode(r,m=>{var f;(f=this.conn)===null||f===void 0||f.send(m)})};this.log("push",`${n} ${a} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){let n=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),a.joinedOnce&&a._isJoined()&&a._push(or.access_token,{access_token:n})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(Yw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,n=>{let{topic:a,event:o,payload:u,ref:d}=n;a==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${a} ${o} ${d&&"("+d+")"||""}`,u),Array.from(this.channels).filter(m=>m._isMember(a)).forEach(m=>m._trigger(o,u,d)),this.stateChangeCallbacks.message.forEach(m=>m(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(r=>r())}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(r))}_onConnError(r){this.log("transport",r.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(or.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const a=r.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${r}${a}${o}`}_workerObjectUrl(r){let n;if(r)n=r;else{const a=new Blob([o1],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}}class c1{constructor(r,n,a){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Bs.connecting,this.send=()=>{},this.url=null,this.url=r,this.close=a.close}}class rd extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function st(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class u1 extends rd{constructor(r,n){super(r),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ou extends rd{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}var d1=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(_){try{y(a.next(_))}catch(b){d(b)}}function f(_){try{y(a.throw(_))}catch(b){d(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,f)}y((a=a.apply(s,r||[])).next())})};const iy=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>fa(async()=>{const{default:a}=await Promise.resolve().then(()=>va);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},h1=()=>d1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fa(()=>Promise.resolve().then(()=>va),void 0)).Response:Response}),Tu=s=>{if(Array.isArray(s))return s.map(n=>Tu(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,a])=>{const o=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[o]=Tu(a)}),r};var is=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(_){try{y(a.next(_))}catch(b){d(b)}}function f(_){try{y(a.throw(_))}catch(b){d(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,f)}y((a=a.apply(s,r||[])).next())})};const ou=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),f1=(s,r,n)=>is(void 0,void 0,void 0,function*(){const a=yield h1();s instanceof a&&!(n!=null&&n.noResolveJson)?s.json().then(o=>{r(new u1(ou(o),s.status||500))}).catch(o=>{r(new Ou(ou(o),o))}):r(new Ou(ou(s),s))}),p1=(s,r,n,a)=>{const o={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),a&&(o.body=JSON.stringify(a)),Object.assign(Object.assign({},o),n))};function wa(s,r,n,a,o,u){return is(this,void 0,void 0,function*(){return new Promise((d,m)=>{s(n,p1(r,a,o,u)).then(f=>{if(!f.ok)throw f;return a!=null&&a.noResolveJson?f:f.json()}).then(f=>d(f)).catch(f=>f1(f,m,a))})})}function Qo(s,r,n,a){return is(this,void 0,void 0,function*(){return wa(s,"GET",r,n,a)})}function dn(s,r,n,a,o){return is(this,void 0,void 0,function*(){return wa(s,"POST",r,a,o,n)})}function m1(s,r,n,a,o){return is(this,void 0,void 0,function*(){return wa(s,"PUT",r,a,o,n)})}function y1(s,r,n,a){return is(this,void 0,void 0,function*(){return wa(s,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function ay(s,r,n,a,o){return is(this,void 0,void 0,function*(){return wa(s,"DELETE",r,a,o,n)})}var Ot=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(_){try{y(a.next(_))}catch(b){d(b)}}function f(_){try{y(a.throw(_))}catch(b){d(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,f)}y((a=a.apply(s,r||[])).next())})};const g1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class v1{constructor(r,n={},a,o){this.url=r,this.headers=n,this.bucketId=a,this.fetch=iy(o)}uploadOrUpdate(r,n,a,o){return Ot(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},qp),o);let m=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const f=d.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),f&&u.append("metadata",this.encodeMetadata(f)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",d.cacheControl),f&&u.append("metadata",this.encodeMetadata(f))):(u=a,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,f&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o!=null&&o.headers&&(m=Object.assign(Object.assign({},m),o.headers));const y=this._removeEmptyFolders(n),_=this._getFinalPath(y),b=yield this.fetch(`${this.url}/object/${_}`,Object.assign({method:r,body:u,headers:m},d!=null&&d.duplex?{duplex:d.duplex}:{})),v=yield b.json();return b.ok?{data:{path:y,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(u){if(st(u))return{data:null,error:u};throw u}})}upload(r,n,a){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,a)})}uploadToSignedUrl(r,n,a,o){return Ot(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${d}`);m.searchParams.set("token",n);try{let f;const y=Object.assign({upsert:qp.upsert},o),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&a instanceof Blob?(f=new FormData,f.append("cacheControl",y.cacheControl),f.append("",a)):typeof FormData<"u"&&a instanceof FormData?(f=a,f.append("cacheControl",y.cacheControl)):(f=a,_["cache-control"]=`max-age=${y.cacheControl}`,_["content-type"]=y.contentType);const b=yield this.fetch(m.toString(),{method:"PUT",body:f,headers:_}),v=yield b.json();return b.ok?{data:{path:u,fullPath:v.Key},error:null}:{data:null,error:v}}catch(f){if(st(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(r,n){return Ot(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const u=yield dn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),d=new URL(this.url+u.url),m=d.searchParams.get("token");if(!m)throw new rd("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:m},error:null}}catch(a){if(st(a))return{data:null,error:a};throw a}})}update(r,n,a){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,a)})}move(r,n,a){return Ot(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(st(o))return{data:null,error:o};throw o}})}copy(r,n,a){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(st(o))return{data:null,error:o};throw o}})}createSignedUrl(r,n,a){return Ot(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r),u=yield dn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const d=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(o){if(st(o))return{data:null,error:o};throw o}})}createSignedUrls(r,n,a){return Ot(this,void 0,void 0,function*(){try{const o=yield dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(o){if(st(o))return{data:null,error:o};throw o}})}download(r,n){return Ot(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=u?`?${u}`:"";try{const m=this._getFinalPath(r);return{data:yield(yield Qo(this.fetch,`${this.url}/${o}/${m}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(st(m))return{data:null,error:m};throw m}})}info(r){return Ot(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const a=yield Qo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Tu(a),error:null}}catch(a){if(st(a))return{data:null,error:a};throw a}})}exists(r){return Ot(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield y1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(st(a)&&a instanceof Ou){const o=a.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,n){const a=this._getFinalPath(r),o=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&o.push(u);const m=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&o.push(f);let y=o.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${a}${y}`)}}}remove(r){return Ot(this,void 0,void 0,function*(){try{return{data:yield ay(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}})}list(r,n,a){return Ot(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},g1),n),{prefix:r||""});return{data:yield dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(st(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const w1="2.7.1",_1={"X-Client-Info":`storage-js/${w1}`};var Is=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(_){try{y(a.next(_))}catch(b){d(b)}}function f(_){try{y(a.throw(_))}catch(b){d(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,f)}y((a=a.apply(s,r||[])).next())})};class x1{constructor(r,n={},a){this.url=r,this.headers=Object.assign(Object.assign({},_1),n),this.fetch=iy(a)}listBuckets(){return Is(this,void 0,void 0,function*(){try{return{data:yield Qo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}})}getBucket(r){return Is(this,void 0,void 0,function*(){try{return{data:yield Qo(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}})}createBucket(r,n={public:!1}){return Is(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(st(a))return{data:null,error:a};throw a}})}updateBucket(r,n){return Is(this,void 0,void 0,function*(){try{return{data:yield m1(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(st(a))return{data:null,error:a};throw a}})}emptyBucket(r){return Is(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}})}deleteBucket(r){return Is(this,void 0,void 0,function*(){try{return{data:yield ay(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}})}}class b1 extends x1{constructor(r,n={},a){super(r,n,a)}from(r){return new v1(this.url,this.headers,r,this.fetch)}}const k1="2.50.0";let ta="";typeof Deno<"u"?ta="deno":typeof document<"u"?ta="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ta="react-native":ta="node";const N1={"X-Client-Info":`supabase-js-${ta}/${k1}`},S1={headers:N1},C1={schema:"public"},E1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},P1={};var j1=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(_){try{y(a.next(_))}catch(b){d(b)}}function f(_){try{y(a.throw(_))}catch(b){d(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,f)}y((a=a.apply(s,r||[])).next())})};const R1=s=>{let r;return s?r=s:typeof fetch>"u"?r=Gm:r=fetch,(...n)=>r(...n)},z1=()=>typeof Headers>"u"?Zm:Headers,O1=(s,r,n)=>{const a=R1(n),o=z1();return(u,d)=>j1(void 0,void 0,void 0,function*(){var m;const f=(m=yield r())!==null&&m!==void 0?m:s;let y=new o(d==null?void 0:d.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${f}`),a(u,Object.assign(Object.assign({},d),{headers:y}))})};var T1=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(_){try{y(a.next(_))}catch(b){d(b)}}function f(_){try{y(a.throw(_))}catch(b){d(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,f)}y((a=a.apply(s,r||[])).next())})};function A1(s){return s.endsWith("/")?s:s+"/"}function L1(s,r){var n,a;const{db:o,auth:u,realtime:d,global:m}=s,{db:f,auth:y,realtime:_,global:b}=r,v={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},y),u),realtime:Object.assign(Object.assign({},_),d),global:Object.assign(Object.assign(Object.assign({},b),m),{headers:Object.assign(Object.assign({},(n=b==null?void 0:b.headers)!==null&&n!==void 0?n:{}),(a=m==null?void 0:m.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>T1(this,void 0,void 0,function*(){return""})};return s.accessToken?v.accessToken=s.accessToken:delete v.accessToken,v}const oy="2.70.0",Us=30*1e3,Au=3,lu=Au*Us,$1="http://localhost:9999",I1="supabase.auth.token",D1={"X-Client-Info":`gotrue-js/${oy}`},Lu="X-Supabase-Api-Version",ly={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},M1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,F1=6e5;class nd extends Error{constructor(r,n,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function pe(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class U1 extends nd{constructor(r,n,a){super(r,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function q1(s){return pe(s)&&s.name==="AuthApiError"}class cy extends nd{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class En extends nd{constructor(r,n,a,o){super(r,a,o),this.name=n,this.status=a}}class un extends En{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function B1(s){return pe(s)&&s.name==="AuthSessionMissingError"}class $o extends En{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Io extends En{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Do extends En{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function W1(s){return pe(s)&&s.name==="AuthImplicitGrantRedirectError"}class Bp extends En{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $u extends En{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function cu(s){return pe(s)&&s.name==="AuthRetryableFetchError"}class Wp extends En{constructor(r,n,a){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class na extends En{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hp=` 	
\r=`.split(""),H1=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<Hp.length;r+=1)s[Hp[r].charCodeAt(0)]=-2;for(let r=0;r<Go.length;r+=1)s[Go[r].charCodeAt(0)]=r;return s})();function Kp(s,r,n){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Go[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Go[a]),r.queuedBits-=6}}function uy(s,r,n){const a=H1[s];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Vp(s){const r=[],n=d=>{r.push(String.fromCodePoint(d))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=d=>{Q1(d,a,n)};for(let d=0;d<s.length;d+=1)uy(s.charCodeAt(d),o,u);return r.join("")}function K1(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function V1(s,r){for(let n=0;n<s.length;n+=1){let a=s.charCodeAt(n);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(s.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}K1(a,r)}}function Q1(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function G1(s){const r=[],n={queue:0,queuedBits:0},a=o=>{r.push(o)};for(let o=0;o<s.length;o+=1)uy(s.charCodeAt(o),n,a);return new Uint8Array(r)}function Z1(s){const r=[];return V1(s,n=>r.push(n)),new Uint8Array(r)}function J1(s){const r=[],n={queue:0,queuedBits:0},a=o=>{r.push(o)};return s.forEach(o=>Kp(o,n,a)),Kp(null,n,a),r.join("")}function X1(s){return Math.round(Date.now()/1e3)+s}function Y1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s=="x"?r:r&3|8).toString(16)})}const sr=()=>typeof window<"u"&&typeof document<"u",qn={tested:!1,writable:!1},sa=()=>{if(!sr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qn.tested)return qn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),qn.tested=!0,qn.writable=!0}catch{qn.tested=!0,qn.writable=!1}return qn.writable};function e_(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,u)=>{r[u]=o})}catch{}return n.searchParams.forEach((a,o)=>{r[o]=a}),r}const dy=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>fa(async()=>{const{default:a}=await Promise.resolve().then(()=>va);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},t_=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",hy=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},Mo=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Fo=async(s,r)=>{await s.removeItem(r)};class nl{constructor(){this.promise=new nl.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}nl.promiseConstructor=Promise;function uu(s){const r=s.split(".");if(r.length!==3)throw new na("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!M1.test(r[a]))throw new na("JWT not in base64url format");return{header:JSON.parse(Vp(r[0])),payload:JSON.parse(Vp(r[1])),signature:G1(r[2]),raw:{header:r[0],payload:r[1]}}}async function r_(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function n_(s,r){return new Promise((a,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await s(u);if(!r(u,null,d)){a(d);return}}catch(d){if(!r(u,d)){o(d);return}}})()})}function s_(s){return("0"+s.toString(16)).substr(-2)}function i_(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let o="";for(let u=0;u<56;u++)o+=n.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(r),Array.from(r,s_).join("")}async function a_(s){const n=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(a);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function o_(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await a_(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ds(s,r,n=!1){const a=i_();let o=a;n&&(o+="/PASSWORD_RECOVERY"),await hy(s,`${r}-code-verifier`,o);const u=await o_(a);return[u,a===u?"plain":"s256"]}const l_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function c_(s){const r=s.headers.get(Lu);if(!r||!r.match(l_))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function u_(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function d_(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const h_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ms(s){if(!h_.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var f_=function(s,r){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(n[a[o]]=s[a[o]]);return n};const Bn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),p_=[502,503,504];async function Qp(s){var r;if(!t_(s))throw new $u(Bn(s),0);if(p_.includes(s.status))throw new $u(Bn(s),s.status);let n;try{n=await s.json()}catch(u){throw new cy(Bn(u),u)}let a;const o=c_(s);if(o&&o.getTime()>=ly["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Wp(Bn(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new un}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Wp(Bn(n),s.status,n.weak_password.reasons);throw new U1(Bn(n),s.status||500,a)}const m_=(s,r,n,a)=>{const o={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),n))};async function ve(s,r,n,a){var o;const u=Object.assign({},a==null?void 0:a.headers);u[Lu]||(u[Lu]=ly["2024-01-01"].name),a!=null&&a.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const d=(o=a==null?void 0:a.query)!==null&&o!==void 0?o:{};a!=null&&a.redirectTo&&(d.redirect_to=a.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",f=await y_(s,r,n+m,{headers:u,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(f):{data:Object.assign({},f),error:null}}async function y_(s,r,n,a,o,u){const d=m_(r,a,o,u);let m;try{m=await s(n,Object.assign({},d))}catch(f){throw console.error(f),new $u(Bn(f),0)}if(m.ok||await Qp(m),a!=null&&a.noResolveJson)return m;try{return await m.json()}catch(f){await Qp(f)}}function Ar(s){var r;let n=null;__(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=X1(s.expires_in)));const a=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:a},error:null}}function Gp(s){const r=Ar(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(r.data.weak_password=s.weak_password),r}function hn(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function g_(s){return{data:s,error:null}}function v_(s){const{action_link:r,email_otp:n,hashed_token:a,redirect_to:o,verification_type:u}=s,d=f_(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:n,hashed_token:a,redirect_to:o,verification_type:u},f=Object.assign({},d);return{data:{properties:m,user:f},error:null}}function w_(s){return s}function __(s){return s.access_token&&s.refresh_token&&s.expires_in}const du=["global","local","others"];var x_=function(s,r){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(n[a[o]]=s[a[o]]);return n};class b_{constructor({url:r="",headers:n={},fetch:a}){this.url=r,this.headers=n,this.fetch=dy(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,n=du[0]){if(du.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${du.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,n={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hn})}catch(a){if(pe(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:n}=r,a=x_(r,["options"]),o=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(o.new_email=a==null?void 0:a.newEmail,delete o.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:v_,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:hn})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,a,o,u,d,m,f;try{const y={nextPage:null,lastPage:0,total:0},_=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=r==null?void 0:r.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:w_});if(_.error)throw _.error;const b=await _.json(),v=(d=_.headers.get("x-total-count"))!==null&&d!==void 0?d:0,k=(f=(m=_.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&f!==void 0?f:[];return k.length>0&&(k.forEach(N=>{const x=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(N.split(";")[1].split("=")[1]);y[`${S}Page`]=x}),y.total=parseInt(v)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(pe(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){Ms(r);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:hn})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){Ms(r);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:hn})}catch(a){if(pe(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,n=!1){Ms(r);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:hn})}catch(a){if(pe(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){Ms(r.userId);try{const{data:n,error:a}=await ve(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:a}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(r){Ms(r.userId),Ms(r.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}}const k_={getItem:s=>sa()?globalThis.localStorage.getItem(s):null,setItem:(s,r)=>{sa()&&globalThis.localStorage.setItem(s,r)},removeItem:s=>{sa()&&globalThis.localStorage.removeItem(s)}};function Zp(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}function N_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fs={debug:!!(globalThis&&sa()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fy extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class S_ extends fy{}async function C_(s,r,n){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,o.name);try{return await n()}finally{Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,o.name)}}else{if(r===0)throw Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new S_(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Fs.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}N_();const E_={url:$1,storageKey:I1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:D1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jp(s,r,n){return await n()}class oa{constructor(r){var n,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=oa.nextInstanceID,oa.nextInstanceID+=1,this.instanceID>0&&sr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},E_),r);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new b_({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=dy(o.fetch),this.lock=o.lock||Jp,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:sr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=C_:this.lock=Jp,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:sa()?this.storage=k_:(this.memoryStorage={},this.storage=Zp(this.memoryStorage)):(this.memoryStorage={},this.storage=Zp(this.memoryStorage)),sr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${oy}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=e_(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),sr()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:u}=await this._getSessionFromURL(n,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),W1(u)){const f=(r=u.details)===null||r===void 0?void 0:r.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?{error:n}:{error:new cy("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,a,o;try{const u=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=r==null?void 0:r.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ar}),{data:d,error:m}=u;if(m||!d)return{data:{user:null,session:null},error:m};const f=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:y,session:f},error:null}}catch(u){if(pe(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var n,a,o;try{let u;if("email"in r){const{email:_,password:b,options:v}=r;let k=null,N=null;this.flowType==="pkce"&&([k,N]=await Ds(this.storage,this.storageKey)),u=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:_,password:b,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:k,code_challenge_method:N},xform:Ar})}else if("phone"in r){const{phone:_,password:b,options:v}=r;u=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:b,data:(a=v==null?void 0:v.data)!==null&&a!==void 0?a:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Ar})}else throw new Io("You must provide either an email or phone number and a password");const{data:d,error:m}=u;if(m||!d)return{data:{user:null,session:null},error:m};const f=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:y,session:f},error:null}}catch(u){if(pe(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:d,options:m}=r;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Gp})}else if("phone"in r){const{phone:u,password:d,options:m}=r;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Gp})}else throw new Io("You must provide either an email or phone number and a password");const{data:a,error:o}=n;return o?{data:{user:null,session:null},error:o}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new $o}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,a,o,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=r.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;if(n==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(r){var n,a,o,u,d,m,f,y,_,b,v,k;let N,x;if("message"in r)N=r.message,x=r.signature;else{const{chain:S,wallet:z,statement:I,options:L}=r;let D;if(sr())if(typeof z=="object")D=z;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))D=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=z}const B=new URL((n=L==null?void 0:L.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const V=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L==null?void 0:L.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),I?{statement:I}:null));let re;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")re=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)re=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in re&&"signature"in re&&(typeof re.signedMessage=="string"||re.signedMessage instanceof Uint8Array)&&re.signature instanceof Uint8Array)N=typeof re.signedMessage=="string"?re.signedMessage:new TextDecoder().decode(re.signedMessage),x=re.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${B.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(o=(a=L==null?void 0:L.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=L==null?void 0:L.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((d=L==null?void 0:L.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((m=L==null?void 0:L.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((f=L==null?void 0:L.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((y=L==null?void 0:L.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((b=(_=L==null?void 0:L.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||b===void 0)&&b.length?["Resources",...L.signInWithSolana.resources.map(re=>`- ${re}`)]:[]].join(`
`);const V=await D.signMessage(new TextEncoder().encode(N),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=V}}try{const{data:S,error:z}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:J1(x)},!((v=r.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(k=r.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Ar});if(z)throw z;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new $o}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:z})}catch(S){if(pe(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(r){const n=await Mo(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(n??"").split("/");try{const{data:u,error:d}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:Ar});if(await Fo(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new $o}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}catch(u){if(pe(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:n,provider:a,token:o,access_token:u,nonce:d}=r,m=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ar}),{data:f,error:y}=m;return y?{data:{user:null,session:null},error:y}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new $o}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:y})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,a,o,u,d;try{if("email"in r){const{email:m,options:f}=r;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await Ds(this.storage,this.storageKey));const{error:b}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:_},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in r){const{phone:m,options:f}=r,{data:y,error:_}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(u=f==null?void 0:f.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(d=f==null?void 0:f.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:_}}throw new Io("You must provide either an email or phone number.")}catch(m){if(pe(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(r){var n,a;try{let o,u;"options"in r&&(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:m}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Ar});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const f=d.session,y=d.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:y,session:f},error:null}}catch(o){if(pe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(r){var n,a,o;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await Ds(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=r==null?void 0:r.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:g_})}catch(u){if(pe(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)throw a;if(!n)throw new un;const{error:o}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:a,type:o,options:u}=r,{error:d}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in r){const{phone:a,type:o,options:u}=r,{data:d,error:m}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:m}}throw new Io("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Mo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<lu:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.storage.isServer){let d=this.suppressGetSessionWarning;r=new Proxy(r,{get:(f,y,_)=>(!d&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,y,_))})}return{data:{session:r},error:null}}const{session:o,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:hn}):await this._useSession(async n=>{var a,o,u;const{data:d,error:m}=n;if(m)throw m;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new un}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:hn})})}catch(n){if(pe(n))return B1(n)&&(await this._removeSession(),await Fo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async a=>{const{data:o,error:u}=a;if(u)throw u;if(!o.session)throw new un;const d=o.session;let m=null,f=null;this.flowType==="pkce"&&r.email!=null&&([m,f]=await Ds(this.storage,this.storageKey));const{data:y,error:_}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:f}),jwt:d.access_token,xform:hn});if(_)throw _;return d.user=y.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(a){if(pe(a))return{data:{user:null},error:a};throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new un;const n=Date.now()/1e3;let a=n,o=!0,u=null;const{payload:d}=uu(r.access_token);if(d.exp&&(a=d.exp,o=a<=n),o){const{session:m,error:f}=await this._callRefreshToken(r.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:f}=await this._getUser(r.access_token);if(f)throw f;u={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(pe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var a;if(!r){const{data:d,error:m}=n;if(m)throw m;r=(a=d.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new un;const{session:o,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!sr())throw new Do("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Do(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Bp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Do("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Bp("No code detected.");const{data:I,error:L}=await this._exchangeCodeForSession(r.code);if(L)throw L;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:m,expires_at:f,token_type:y}=r;if(!u||!m||!d||!y)throw new Do("No session defined in URL");const _=Math.round(Date.now()/1e3),b=parseInt(m);let v=_+b;f&&(v=parseInt(f));const k=v-_;k*1e3<=Us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${b}s`);const N=v-b;_-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,v,_):_-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,v,_);const{data:x,error:S}=await this._getUser(u);if(S)throw S;const z={provider_token:a,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:v,refresh_token:d,token_type:y,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:z,redirectType:r.type},error:null}}catch(a){if(pe(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Mo(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:o,error:u}=n;if(u)return{error:u};const d=(a=o.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:m}=await this.admin.signOut(d,r);if(m&&!(q1(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return r!=="others"&&(await this._removeSession(),await Fo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=Y1(),a={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async n=>{var a,o;try{const{data:{session:u},error:d}=n;if(d)throw d;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await Ds(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(pe(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async linkIdentity(r){var n;try{const{data:a,error:o}=await this._useSession(async u=>{var d,m,f,y,_;const{data:b,error:v}=u;if(v)throw v;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(f=r.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",k,{headers:this.headers,jwt:(_=(y=b.session)===null||y===void 0?void 0:y.access_token)!==null&&_!==void 0?_:void 0})});if(o)throw o;return sr()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:r.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(pe(a))return{data:{provider:r.provider,url:null},error:a};throw a}}async unlinkIdentity(r){try{return await this._useSession(async n=>{var a,o;const{data:u,error:d}=n;if(d)throw d;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await n_(async o=>(o>0&&await r_(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Ar})),(o,u)=>{const d=200*Math.pow(2,o);return u&&cu(u)&&Date.now()+d-a<Us})}catch(a){if(this._debug(n,"error",a),pe(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",a),sr()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Mo(this.storage,this.storageKey);if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const o=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<lu;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${lu}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),cu(u)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(r){var n,a;if(!r)throw new un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new nl;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new un;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={session:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(o,"error",u),pe(u)){const d={session:null,error:u};return cu(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(r,n,a=!0){const o=`#_notifyAllSubscribers(${r})`;this._debug(o,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,n)}catch(f){u.push(f)}});if(await Promise.all(d),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await hy(this.storage,this.storageKey,r)}async _removeSession(){this._debug("#_removeSession()"),await Fo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&sr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Us);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-r)/Us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Us}ms, refresh threshold is ${Au} ticks`),o<=Au&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof fy)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,a){const o=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,d]=await Ds(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(m.toString())}if(a!=null&&a.queryParams){const u=new URLSearchParams(a.queryParams);o.push(u.toString())}return a!=null&&a.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${o.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var a;const{data:o,error:u}=n;return u?{data:null,error:u}:await ve(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var a,o;const{data:u,error:d}=n;if(d)return{data:null,error:d};const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:f,error:y}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token});return y?{data:null,error:y}:(r.factorType==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:u}=n;if(u)return{data:null,error:u};const{data:d,error:m}=await ve(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:m})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:u}=n;return u?{data:null,error:u}:await ve(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:a}=await this._challenge({factorId:r.factorId});return a?{data:null,error:a}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a=(r==null?void 0:r.factors)||[],o=a.filter(d=>d.factor_type==="totp"&&d.status==="verified"),u=a.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:a,totp:o,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var n,a;const{data:{session:o},error:u}=r;if(u)return{data:null,error:u};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=uu(o.access_token);let m=null;d.aal&&(m=d.aal);let f=m;((a=(n=o.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(f="aal2");const _=d.amr||[];return{data:{currentLevel:m,nextLevel:f,currentAuthenticationMethods:_},error:null}}))}async fetchJwk(r,n={keys:[]}){let a=n.keys.find(d=>d.kid===r);if(a||(a=this.jwks.keys.find(d=>d.kid===r),a&&this.jwks_cached_at+F1>Date.now()))return a;const{data:o,error:u}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;if(!o.keys||o.keys.length===0)throw new na("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),a=o.keys.find(d=>d.kid===r),!a)throw new na("No matching signing key found in JWKS");return a}async getClaims(r,n={keys:[]}){try{let a=r;if(!a){const{data:k,error:N}=await this.getSession();if(N||!k.session)return{data:null,error:N};a=k.session.access_token}const{header:o,payload:u,signature:d,raw:{header:m,payload:f}}=uu(a);if(u_(u.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:k}=await this.getUser(a);if(k)throw k;return{data:{claims:u,header:o,signature:d},error:null}}const y=d_(o.alg),_=await this.fetchJwk(o.kid,n),b=await crypto.subtle.importKey("jwk",_,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,d,Z1(`${m}.${f}`)))throw new na("Invalid JWT signature");return{data:{claims:u,header:o,signature:d},error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}}}oa.nextInstanceID=0;const P_=oa;class j_ extends P_{constructor(r){super(r)}}var R_=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(_){try{y(a.next(_))}catch(b){d(b)}}function f(_){try{y(a.throw(_))}catch(b){d(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,f)}y((a=a.apply(s,r||[])).next())})};class z_{constructor(r,n,a){var o,u,d;if(this.supabaseUrl=r,this.supabaseKey=n,!r)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const m=A1(r),f=new URL(m);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const y=`sb-${f.hostname.split(".")[0]}-auth-token`,_={db:C1,realtime:P1,auth:Object.assign(Object.assign({},E1),{storageKey:y}),global:S1},b=L1(a??{},_);this.storageKey=(o=b.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=b.global.headers)!==null&&u!==void 0?u:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(v,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=b.auth)!==null&&d!==void 0?d:{},this.headers,b.global.fetch),this.fetch=O1(n,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new Gw(new URL("rest/v1",f).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),b.accessToken||this._listenForAuthEvents()}get functions(){return new Iw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new b1(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},a={}){return this.rest.rpc(r,n,a)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,n;return R_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:o,storageKey:u,flowType:d,lock:m,debug:f},y,_){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new j_({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),y),storageKey:u,autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:o,flowType:d,lock:m,debug:f,fetch:_,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new l1(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,n,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const O_=(s,r,n)=>new z_(s,r,n),T_="https://shgkdhzdrsxdmbngamfh.supabase.co",A_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoZ2tkaHpkcnN4ZG1ibmdhbWZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkzMDUyNzAsImV4cCI6MjA2NDg4MTI3MH0.eYFLXBvK1DllEZ1SULn2vzfQyM0GO_vqe9_sbZP9JEw",ie=O_(T_,A_),py=R.createContext(void 0);function L_({children:s}){const[r,n]=R.useState(null),[a,o]=R.useState(null),[u,d]=R.useState(!0);async function m(k){const{data:N,error:x}=await ie.from("users").select("id, email, role, first_name, last_name").eq("id",k).maybeSingle();if(x)throw x;if(N)n(N);else{const{data:{session:S}}=await ie.auth.getSession();if(S!=null&&S.user){const z=S.user;n({id:z.id,email:z.email??"",role:z.role??"user"})}}}const f=async k=>{if(k)if(await y(r==null?void 0:r.id,k.id))o(k);else throw new Error("Brak uprawnie do delegacji dla tego uytkownika");else o(null)};async function y(k,N){if(!k||!N)return!1;const{data:x,error:S}=await ie.from("user_delegations").select("*").eq("delegator_id",k).eq("target_user_id",N).eq("is_active",!0).maybeSingle();return S?(console.error("Error checking delegation permissions:",S),!1):!!x}R.useEffect(()=>{(async()=>{const{data:{session:x}}=await ie.auth.getSession();x!=null&&x.user&&await m(x.user.id),d(!1)})();const{data:N}=ie.auth.onAuthStateChange((x,S)=>{S!=null&&S.user?m(S.user.id).catch(console.error):(n(null),o(null))});return()=>{N.subscription.unsubscribe()}},[]);async function _(k,N){var x;d(!0);try{const{data:S,error:z}=await ie.auth.signInWithPassword({email:k,password:N});if(z)throw console.log("Login error from Supabase:",z),z;(x=S.session)!=null&&x.user&&await m(S.session.user.id)}finally{d(!1)}}async function b(){const{error:k}=await ie.auth.signOut();if(k)throw k;n(null),o(null)}async function v(k,N){const{error:x}=await ie.auth.resend({type:"signup",email:k,options:{emailRedirectTo:(N==null?void 0:N.emailRedirectTo)||"http://localhost:3000/auth/callback"}});if(x)throw x}return l(py.Provider,{value:{user:r,delegatedUser:a,loading:u,login:_,logout:b,resendConfirmationEmail:v,setDelegatedUser:f},children:s})}function as(){const s=R.useContext(py);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I_=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,a)=>a?a.toUpperCase():n.toLowerCase()),Xp=s=>{const r=I_(s);return r.charAt(0).toUpperCase()+r.slice(1)},my=(...s)=>s.filter((r,n,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===n).join(" ").trim(),D_=s=>{for(const r in s)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=R.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:d,...m},f)=>R.createElement("svg",{ref:f,...M_,width:r,height:r,stroke:s,strokeWidth:a?Number(n)*24/Number(r):n,className:my("lucide",o),...!u&&!D_(m)&&{"aria-hidden":"true"},...m},[...d.map(([y,_])=>R.createElement(y,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(s,r)=>{const n=R.forwardRef(({className:a,...o},u)=>R.createElement(F_,{ref:u,iconNode:r,className:my(`lucide-${$_(Xp(s))}`,`lucide-${s}`,a),...o}));return n.displayName=Xp(s),n};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],q_=ce("arrow-left",U_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],W_=ce("arrow-right",B_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],K_=ce("arrow-up-down",H_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Q_=ce("award",V_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Yp=ce("briefcase",G_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],J_=ce("building",Z_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],es=ce("calendar",X_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ex=ce("chart-column",Y_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],em=ce("chevron-down",tx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yy=ce("circle-alert",rx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cr=ce("circle-check-big",nx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],tm=ce("circle-plus",sx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ws=ce("circle-x",ix);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ox=ce("clipboard-list",ax);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Lt=ce("clock",lx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ux=ce("database",cx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Zo=ce("dollar-sign",dx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],fx=ce("door-open",hx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],mx=ce("download",px);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],gx=ce("ellipsis",yx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]],rm=ce("euro",vx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Iu=ce("eye-off",wx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Du=ce("eye",_x);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],la=ce("file-check",xx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$t=ce("file-text",bx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],nm=ce("folder-open",kx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Jo=ce("house",Nx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xo=ce("lock",Sx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Yo=ce("mail",Cx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ur=ce("map-pin",Ex);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],jx=ce("menu",Px);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],sm=ce("message-square",Rx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Ox=ce("pen-line",zx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Sn=ce("phone",Tx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Nn=ce("plus",Ax);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$x=ce("save",Lx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Dx=ce("search",Ix);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fx=ce("settings",Mx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],el=ce("shield",Ux);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Mu=ce("square-pen",qx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Wx=ce("square",Bx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],im=ce("store",Hx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Vx=ce("thermometer",Kx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Gx=ce("trash-2",Qx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Jx=ce("trending-up",Zx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yx=ce("user-check",Xx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],tb=ce("user-plus",eb);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ut=ce("user",rb);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sd=ce("users",nb);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],id=ce("x",sb),de=({children:s,className:r=""})=>l("div",{className:`bg-white rounded-lg border border-slate-200 shadow-sm ${r}`,children:s}),ne=({children:s,variant:r="outline",size:n="md",type:a="submit",onClick:o,className:u="",icon:d,fullWidth:m=!1,disabled:f=!1})=>{const y="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none",_={primary:"bg-slate-900 text-white hover:bg-slate-800 focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-200 focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",outline:"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50 focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",ghost:"text-slate-700 hover:bg-slate-100 focus:ring-2 focus:ring-offset-2 focus:ring-slate-500"},b={primary:"bg-slate-400 text-slate-300 cursor-not-allowed",secondary:"bg-slate-50 text-slate-400 cursor-not-allowed",outline:"border border-slate-200 bg-slate-50 text-slate-400 cursor-not-allowed",ghost:"text-slate-400 cursor-not-allowed"},v={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},k=m?"w-full":"",N=d?"gap-2":"",x=f?b[r]:_[r];return g("button",{type:a,className:`${y} ${x} ${v[n]} ${k} ${N} ${u}`,onClick:f?void 0:o,disabled:f,children:[d,s]})},ke=({type:s="info",title:r,message:n,onRetry:a,className:o=""})=>{const d={error:{container:"border-red-200 bg-red-50",icon:"bg-red-100 text-red-600",title:"text-red-800",message:"text-red-600"},success:{container:"border-green-200 bg-green-50",icon:"bg-green-100 text-green-600",title:"text-green-800",message:"text-green-600"},warning:{container:"border-yellow-200 bg-yellow-50",icon:"bg-yellow-100 text-yellow-600",title:"text-yellow-800",message:"text-yellow-600"},info:{container:"border-blue-200 bg-blue-50",icon:"bg-blue-100 text-blue-600",title:"text-blue-800",message:"text-blue-600"}}[s];return l(de,{className:`${d.container} ${o}`,children:g("div",{className:"p-4",children:[g("div",{className:"flex items-center gap-3",children:[l("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${d.icon}`,children:l(yy,{className:"w-4 h-4"})}),g("div",{className:"flex-1",children:[l("h3",{className:`font-semibold ${d.title}`,children:r}),l("p",{className:`text-sm mt-1 ${d.message}`,children:n})]})]}),a&&l("div",{className:"mt-4",children:l(ne,{variant:"outline",size:"sm",onClick:a,children:"Sprbuj ponownie"})})]})})},Nt=({size:s="md",className:r=""})=>l("div",{className:`border-2 border-slate-200 border-t-slate-900 rounded-full animate-spin ${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[s]} ${r}`}),ib=({user:s,onGoToDashboard:r,onBackToLogin:n})=>{const a=o=>{switch(o){case"admin":return"Panel Administratora";case"contractor":return"Dashboard Wykonawcy";case"auditor":return"Panel Audytora";default:return"Strona Gwna"}};return l("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:l("div",{className:"w-full max-w-md",children:g(de,{className:"shadow-xl p-8",children:[g("div",{className:"text-center mb-8",children:[l("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l(cr,{className:"w-8 h-8 text-green-600"})}),l("h1",{className:"text-2xl font-bold text-gray-900",children:"Zalogowano pomylnie!"}),g("p",{className:"text-gray-600 mt-2",children:["Witaj, ",s.first_name||s.email]})]}),l("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:g("div",{className:"space-y-2",children:[g("div",{className:"flex justify-between",children:[l("span",{className:"text-sm text-gray-600",children:"Email:"}),l("span",{className:"text-sm font-medium text-gray-900",children:s.email})]}),g("div",{className:"flex justify-between",children:[l("span",{className:"text-sm text-gray-600",children:"Rola:"}),l("span",{className:"text-sm font-medium text-gray-900 capitalize",children:s.role})]})]})}),g(ne,{variant:"primary",size:"lg",fullWidth:!0,onClick:r,icon:l(W_,{className:"w-4 h-4"}),className:"mb-4",children:["Przejd do ",a(s.role)]}),g("div",{className:"text-center space-y-2",children:[l("p",{className:"text-sm text-gray-600",children:"Lub przejd do:"}),g("div",{className:"flex flex-col space-y-2",children:[s.role!=="admin"&&l(ga,{to:"/",className:"text-sm text-blue-600 hover:text-blue-500 transition-colors",children:"Strona gwna"}),l("button",{onClick:n,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Wr do formularza logowania"})]})]})]})})})},am=()=>{const{getFormData:s}=Qm(),{login:r,user:n,loading:a,resendConfirmationEmail:o}=as(),u=yt(),[d,m]=R.useState(null),[f,y]=R.useState(!1),[_,b]=R.useState(""),[v,k]=R.useState(!1),[N,x]=R.useState(!1),[S,z]=R.useState(!1),[I,L]=R.useState(!1),[D,B]=R.useState(!1),V=we=>{switch(we){case"beneficiary":return"/beneficiary/my-requests";case"auditor":return"/auditor/marketplace";case"operator":return"/operator/dashboard";case"admin":return"/admin/users";default:return"/"}};R.useEffect(()=>{n&&!D&&B(!0)},[n,D]);const re=async we=>{we.preventDefault(),m(null),k(!1),z(!1),B(!1);const{email:G,password:Pe}=s(we.currentTarget),Xe=Array.isArray(G)?G[0]:G,Bt=Array.isArray(Pe)?Pe[0]:Pe;b(Xe);try{y(!0),await r(Xe,Bt)}catch(Ye){console.error("Login error:",Ye);const Te=Ye.message||"Co poszo nie tak przy logowaniu";m(Te),(Ye.status===400||/not confirmed/i.test(Te)||/potwierdzony/i.test(Te))&&k(!0)}finally{y(!1)}},he=async()=>{x(!0),z(!1);try{await o(_),z(!0)}catch(we){console.error("Resend error:",we),m("Nie udao si wysa maila ponownie")}finally{x(!1)}},H=()=>{n&&u(V(n.role))},K=()=>{B(!1)};return n&&D?l(ib,{user:n,onGoToDashboard:H,onBackToLogin:K}):l("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:l("div",{className:"w-full max-w-md",children:g(de,{className:"shadow-xl p-8",children:[g("div",{className:"text-center mb-8",children:[l("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l(Xo,{className:"w-8 h-8 text-blue-600"})}),l("h1",{className:"text-2xl font-bold text-gray-900",children:"Witaj ponownie"}),l("p",{className:"text-gray-600 mt-2",children:"Zaloguj si do swojego konta"})]}),d&&g("div",{className:"mb-6",children:[l(ke,{type:"error",title:"Bd logowania",message:d}),v&&g("div",{className:"mt-4 space-y-3",children:[S&&l(de,{className:"border-green-200 bg-green-50 p-3",children:g("div",{className:"flex items-center",children:[l(cr,{className:"w-4 h-4 text-green-500 mr-2"}),l("span",{className:"text-green-800 text-sm",children:"Mail potwierdzajcy zosta wysany ponownie."})]})}),l(ne,{variant:"outline",size:"md",onClick:he,disabled:N,fullWidth:!0,icon:N?l(Nt,{size:"sm"}):void 0,children:N?"Wysyanie...":"Wylij ponownie e-mail potwierdzajcy"})]})]}),g("form",{onSubmit:re,className:"space-y-6",children:[g("div",{children:[l("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres e-mail"}),g("div",{className:"relative",children:[l("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l(Yo,{className:"h-5 w-5 text-gray-400"})}),l("input",{id:"email",name:"email",type:"email",required:!0,placeholder:"twoj@email.pl",disabled:a||f,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-500"})]})]}),g("div",{children:[l("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Haso"}),g("div",{className:"relative",children:[l("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l(Xo,{className:"h-5 w-5 text-gray-400"})}),l("input",{id:"password",name:"password",type:I?"text":"password",required:!0,placeholder:"",disabled:a||f,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-500"}),l("button",{type:"button",onClick:()=>L(!I),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:I?l(Iu,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l(Du,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),l(ne,{variant:"primary",size:"lg",disabled:a||f,fullWidth:!0,onClick:()=>{},icon:f?l(Nt,{size:"sm"}):void 0,children:f?"Logowanie...":"Zaloguj si"})]}),l("div",{className:"mt-8 text-center",children:g("p",{className:"text-gray-600 text-sm",children:["Nie masz konta?"," ",l(ga,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Zarejestruj si"})]})})]})})})},ab=()=>{const{getFormData:s}=Qm(),r=yt(),[n,a]=R.useState(null),[o,u]=R.useState(null),[d,m]=R.useState(!1),[f,y]=R.useState(!1),[_,b]=R.useState(!1),v=async k=>{k.preventDefault(),a(null),u(null);const{email:N,password:x,confirmPassword:S,role:z}=s(k.currentTarget),I=Array.isArray(N)?N[0]:N,L=Array.isArray(x)?x[0]:x,D=Array.isArray(S)?S[0]:S,B=Array.isArray(z)?z[0]:z;if(L!==D){a("Hasa musz by takie same");return}if(L.length<6){a("Haso musi mie co najmniej 6 znakw");return}try{m(!0);const{data:V,error:re}=await ie.auth.signUp({email:I,password:L,options:{data:{role:B||"beneficiary"},emailRedirectTo:"http://localhost:3000/auth/callback"}});if(re)throw re;u("Konto utworzone pomylnie! Sprawd swoj skrzynk e-mail, aby potwierdzi rejestracj.")}catch(V){console.error("Registration error:",V),a(V.message||"Wystpi bd podczas rejestracji")}finally{m(!1)}};return o?l("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center p-4",children:l("div",{className:"w-full max-w-md",children:g(de,{className:"shadow-xl p-8 text-center",children:[l("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l(cr,{className:"w-8 h-8 text-green-600"})}),l("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Rejestracja zakoczona!"}),l(ke,{type:"success",title:"Sukces",message:o,className:"mb-6"}),l(ne,{variant:"primary",size:"lg",onClick:()=>r("/login"),fullWidth:!0,children:"Przejd do logowania"})]})})}):l("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:l("div",{className:"w-full max-w-md",children:g(de,{className:"shadow-xl p-8",children:[g("div",{className:"text-center mb-8",children:[l("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l(tb,{className:"w-8 h-8 text-blue-600"})}),l("h1",{className:"text-2xl font-bold text-gray-900",children:"Utwrz konto"}),l("p",{className:"text-gray-600 mt-2",children:"Zarejestruj si, aby rozpocz"})]}),n&&l("div",{className:"mb-6",children:l(ke,{type:"error",title:"Bd rejestracji",message:n})}),g("form",{onSubmit:v,className:"space-y-6",children:[g("div",{children:[l("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres e-mail *"}),g("div",{className:"relative",children:[l("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l(Yo,{className:"h-5 w-5 text-gray-400"})}),l("input",{id:"email",name:"email",type:"email",required:!0,placeholder:"twoj@email.pl",disabled:d,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-500"})]})]}),g("div",{children:[l("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Typ konta *"}),g("div",{className:"relative",children:[l("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l(sd,{className:"h-5 w-5 text-gray-400"})}),g("select",{id:"role",name:"role",required:!0,disabled:d,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-500 appearance-none bg-white",children:[l("option",{value:"",children:"Wybierz typ konta"}),l("option",{value:"beneficiary",children:"Beneficjent"}),l("option",{value:"auditor",children:"Audytor"})]}),l("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:l("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:l("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),l("p",{className:"mt-1 text-xs text-gray-500",children:"Beneficjent - osoba korzystajca z usug, Audytor - osoba przeprowadzajca audyty"})]}),g("div",{children:[l("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Haso *"}),g("div",{className:"relative",children:[l("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l(Xo,{className:"h-5 w-5 text-gray-400"})}),l("input",{id:"password",name:"password",type:f?"text":"password",required:!0,placeholder:"",disabled:d,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-500"}),l("button",{type:"button",onClick:()=>y(!f),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:f?l(Iu,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l(Du,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),l("p",{className:"mt-1 text-xs text-gray-500",children:"Minimum 6 znakw"})]}),g("div",{children:[l("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Powtrz haso *"}),g("div",{className:"relative",children:[l("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l(Xo,{className:"h-5 w-5 text-gray-400"})}),l("input",{id:"confirmPassword",name:"confirmPassword",type:_?"text":"password",required:!0,placeholder:"",disabled:d,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-500"}),l("button",{type:"button",onClick:()=>b(!_),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:_?l(Iu,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l(Du,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),l(ne,{variant:"primary",size:"lg",disabled:d,fullWidth:!0,onClick:()=>{},icon:d?l(Nt,{size:"sm"}):void 0,children:d?"Tworzenie konta...":"Utwrz konto"})]}),l("div",{className:"mt-8 text-center",children:g("p",{className:"text-gray-600 text-sm",children:["Masz ju konto?"," ",l(ga,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Zaloguj si"})]})})]})})})},ob=()=>{const s=yt(),[r,n]=R.useState("loading"),[a,o]=R.useState("");return R.useEffect(()=>{(async()=>{try{const d=new URLSearchParams(window.location.hash.substring(1)),m=new URLSearchParams(window.location.search),f=d.get("access_token")||m.get("access_token"),y=d.get("refresh_token")||m.get("refresh_token"),_=d.get("type")||m.get("type");if(_==="signup"&&f){const{data:b,error:v}=await ie.auth.getSession();if(v)throw v;if(b.session)n("success"),o("Email zosta pomylnie potwierdzony! Przekierowujemy Ci do panelu."),setTimeout(()=>{s("/dashboard")},2e3);else{const{error:k}=await ie.auth.setSession({access_token:f,refresh_token:y||""});if(k)throw k;n("success"),o("Email zosta pomylnie potwierdzony! Przekierowujemy Ci do panelu."),setTimeout(()=>{s("/dashboard")},2e3)}}else if(_==="recovery")n("success"),o("Link do resetowania hasa jest aktywny. Przekierowujemy Ci do formularza."),setTimeout(()=>{s("/reset-password")},2e3);else throw new Error("Nieprawidowy lub wygasy link aktywacyjny")}catch(d){console.error("Auth callback error:",d),n("error"),o(d.message||"Wystpi bd podczas potwierdzania konta"),setTimeout(()=>{s("/login")},3e3)}})()},[s]),l("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:l("div",{className:"w-full max-w-md",children:g(de,{className:"shadow-xl p-8 text-center",children:[r==="loading"&&g(kt,{children:[l("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l(Nt,{size:"lg"})}),l("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Potwierdzanie konta..."}),l("p",{className:"text-gray-600",children:"Prosz czeka, przetwarzamy Twoje danie."})]}),r==="success"&&g(kt,{children:[l("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l(cr,{className:"w-8 h-8 text-green-600"})}),l("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Sukces!"}),l(ke,{type:"success",title:"Konto potwierdzone",message:a,className:"mb-4"})]}),r==="error"&&g(kt,{children:[l("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l(Ws,{className:"w-8 h-8 text-red-600"})}),l("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Wystpi bd"}),l(ke,{type:"error",title:"Bd potwierdzenia",message:a,className:"mb-4"}),l("p",{className:"text-sm text-gray-500",children:"Przekierowujemy Ci do strony logowania..."})]})]})})})},lb=()=>g(kt,{children:[l(Re,{path:"/login",element:l(am,{})}),l(Re,{path:"/register",element:l(ab,{})}),l(Re,{path:"/auth/callback",element:l(ob,{})}),l(Re,{path:"/",element:l(am,{})})]}),cb=()=>{const{data:s,isLoading:r,error:n}=He({queryKey:["moderation_logs"],queryFn:async()=>{const{data:a,error:o}=await ie.from("moderation_logs").select("*, users!operator_id(name, email)");if(o)throw new Error(o.message);return a}});return console.log("System logs:",s),r?l("div",{className:"container mx-auto p-6",children:g("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[l("span",{className:"loading loading-spinner loading-lg text-primary"}),l("p",{className:"mt-4 text-lg",children:"adowanie logw systemowych..."})]})}):n?l("div",{className:"container mx-auto p-6",children:g("div",{className:"alert alert-error",children:[l("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),g("div",{children:[l("h3",{className:"font-bold",children:"Bd adowania logw!"}),l("div",{className:"text-xs",children:n.message})]})]})}):g("div",{className:"container mx-auto p-6",children:[g("div",{className:"mb-8",children:[l("h1",{className:"text-4xl font-bold text-base-content",children:"Logi Systemowe"}),l("p",{className:"text-base-content/70 mt-2",children:"Historia dziaa w systemie"})]}),l("div",{className:"stats shadow mb-6",children:g("div",{className:"stat",children:[l("div",{className:"stat-title",children:"czna liczba logw"}),l("div",{className:"stat-value text-primary",children:(s==null?void 0:s.length)||0})]})}),l("div",{className:"space-y-4",children:s&&s.length>0?s.map(a=>{var o;return l("div",{className:"card bg-base-100 shadow-md border border-base-300",children:l("div",{className:"card-body",children:g("div",{className:"flex justify-between items-start",children:[g("div",{className:"flex-1",children:[g("h3",{className:"card-title text-lg",children:[a.action,l("div",{className:"badge badge-primary badge-sm ml-2",children:a.severity||"INFO"})]}),l("p",{className:"text-base-content/70 mt-2",children:a.description}),a.users&&g("div",{className:"flex items-center gap-2 mt-3",children:[l("div",{className:"avatar placeholder",children:l("div",{className:"bg-neutral text-neutral-content rounded-full w-8",children:l("span",{className:"text-xs",children:(o=a.users.name)==null?void 0:o.charAt(0)})})}),g("div",{children:[l("p",{className:"font-medium text-sm",children:a.users.name}),l("p",{className:"text-xs text-base-content/50",children:a.users.email})]})]}),a.metadata&&l("div",{className:"mt-3",children:g("details",{className:"collapse collapse-arrow bg-base-200",children:[l("summary",{className:"collapse-title text-sm font-medium",children:"Szczegy techniczne"}),l("div",{className:"collapse-content",children:l("pre",{className:"text-xs bg-base-300 p-2 rounded mt-2 overflow-x-auto",children:JSON.stringify(a.metadata,null,2)})})]})})]}),g("div",{className:"text-right",children:[l("div",{className:"text-sm font-medium text-base-content",children:new Date(a.created_at).toLocaleDateString("pl-PL")}),l("div",{className:"text-xs text-base-content/50",children:new Date(a.created_at).toLocaleTimeString("pl-PL")})]})]})})},a.id)}):l("div",{className:"hero min-h-[200px]",children:l("div",{className:"hero-content text-center",children:g("div",{children:[l("div",{className:"text-6xl mb-4",children:""}),l("h3",{className:"text-xl font-bold",children:"Brak logw"}),l("p",{className:"text-base-content/70",children:"Nie znaleziono adnych logw systemowych do wywietlenia"})]})})})}),s&&s.length>10&&l("div",{className:"flex justify-center mt-8",children:g("div",{className:"join",children:[l("button",{className:"join-item btn",children:""}),l("button",{className:"join-item btn",children:"Strona 1"}),l("button",{className:"join-item btn",children:""})]})})]})},ub=()=>l("div",{className:"hero",children:l("h1",{className:"text-5xl",children:"Ustawienia Systemu"})}),db=()=>{const[s,r]=R.useState(0),[n,a]=R.useState(""),[o,u]=R.useState(""),d=10,{data:m,isLoading:f,error:y,refetch:_}=He({queryKey:["users",s,n,o],queryFn:async()=>{let N=ie.from("users").select(`
          *,
          user_points(balance)
        `,{count:"exact"});n&&(N=N.eq("role",n)),o&&(N=N.or(`name.ilike.%${o}%,email.ilike.%${o}%`));const x=s*d,S=x+d-1;N=N.range(x,S);const{data:z,error:I,count:L}=await N;if(I)throw new Error(I.message);return{users:z,totalCount:L}},staleTime:5*60*1e3,refetchOnWindowFocus:!1}),b=(m==null?void 0:m.users)||[],v=(m==null?void 0:m.totalCount)||0,k=Math.ceil(v/d);return f?g("div",{className:"hero",children:[l("h1",{className:"text-5xl",children:"Zarzdzanie Uytkownikami"}),l("div",{className:"loading",children:"adowanie uytkownikw..."})]}):y?g("div",{className:"hero",children:[l("h1",{className:"text-5xl",children:"Zarzdzanie Uytkownikami"}),g("div",{className:"error",children:["Bd podczas adowania: ",y.message,l("button",{onClick:()=>_(),className:"btn-retry",children:"Sprbuj ponownie"})]})]}):g("div",{className:"hero",children:[l("h1",{className:"text-5xl",children:"Zarzdzanie Uytkownikami"}),g("div",{className:"controls",children:[l("input",{type:"text",placeholder:"Szukaj po nazwie lub emailu...",value:o,onChange:N=>{u(N.target.value),r(0)},className:"search-input"}),g("select",{value:n,onChange:N=>{a(N.target.value),r(0)},className:"role-filter",children:[l("option",{value:"",children:"Wszystkie role"}),l("option",{value:"admin",children:"Admin"}),l("option",{value:"user",children:"Uytkownik"}),l("option",{value:"moderator",children:"Moderator"})]})]}),l("div",{className:"users-stats",children:g("p",{children:["Wywietlono ",b.length," z ",v," uytkownikw"]})}),l("div",{className:"users-table",children:g("table",{children:[l("thead",{children:g("tr",{children:[l("th",{children:"Nazwa"}),l("th",{children:"Email"}),l("th",{children:"Rola"}),l("th",{children:"Telefon"}),l("th",{children:"Miasto"}),l("th",{children:"Punkty"}),l("th",{children:"Data utworzenia"})]})}),l("tbody",{children:b.map(N=>{var x,S;return g("tr",{children:[l("td",{children:N.name}),l("td",{children:N.email}),l("td",{children:N.role}),l("td",{children:N.phone_number}),l("td",{children:N.city}),l("td",{children:((S=(x=N.user_points)==null?void 0:x[0])==null?void 0:S.balance)||0}),l("td",{children:new Date(N.created_at).toLocaleDateString("pl-PL")})]},N.id)})})]})}),g("div",{className:"pagination",children:[l("button",{onClick:()=>r(N=>Math.max(0,N-1)),disabled:s===0,className:"pagination-btn",children:"Poprzednia"}),g("span",{className:"page-info",children:["Strona ",s+1," z ",k]}),l("button",{onClick:()=>r(N=>Math.min(k-1,N+1)),disabled:s>=k-1,className:"pagination-btn",children:"Nastpna"})]})]})},Dr=({children:s})=>l(kt,{children:s}),hb=()=>g(kt,{children:[l(Re,{path:"/admin/users",element:l(Dr,{children:l(db,{})})}),l(Re,{path:"/admin/settings",element:l(Dr,{children:l(ub,{})})}),l(Re,{path:"/admin/logs",element:l(Dr,{children:l(cb,{})})})]}),fb=()=>l("div",{className:"hero",children:l("h1",{className:"text-5xl",children:"404"})}),pb=()=>{const{data:s=[],error:r,isLoading:n}=He({queryKey:["points_transactions"],queryFn:async()=>{const{data:a,error:o}=await ie.from("points_transactions").select("*");if(o)throw new Error(o.message);return a},staleTime:6e4,retry:!1});return n?l("div",{className:"flex items-center justify-center h-64",children:l("span",{className:"loading loading-spinner text-primary"})}):r?l("div",{className:"alert alert-error shadow-lg",children:l("div",{children:g("span",{children:["Bd: ",r.message]})})}):g("div",{className:"p-6",children:[l("h1",{className:"text-5xl mb-6",children:"Historia Punktw"}),l("div",{className:"overflow-x-auto",children:g("table",{className:"table w-full",children:[l("thead",{children:g("tr",{children:[l("th",{children:"ID"}),l("th",{children:"User ID"}),l("th",{children:"Balance"}),l("th",{children:"Data Aktualizacji"})]})}),l("tbody",{children:s.map(a=>g("tr",{children:[l("td",{children:a.id}),l("td",{children:a.user_id}),l("td",{children:a.balance}),l("td",{children:new Date(a.updated_at).toLocaleString("pl-PL",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]},a.id))})]})})]})},mb=()=>l("div",{className:"hero",children:l("h1",{className:"text-5xl",children:"Profil Uytkownika"})}),yb=()=>g(kt,{children:[l(Re,{path:"/profile",element:l(Dr,{children:l(mb,{})})}),l(Re,{path:"/points",element:l(Dr,{children:l(pb,{})})}),l(Re,{path:"*",element:l(fb,{})})]});function gb(){const[s,r]=R.useState(()=>localStorage.getItem("theme")||"newyork");return R.useEffect(()=>{document.documentElement.dataset.theme=s,localStorage.setItem("theme",s),console.log("[useTheme] Zastosowano motyw:",s),console.log("[useTheme] <html data-theme=>",document.documentElement.getAttribute("data-theme"));const a=getComputedStyle(document.documentElement);console.log("[useTheme] --p (primary):",a.getPropertyValue("--p")),console.log("[useTheme] --b1 (base-100):",a.getPropertyValue("--b1"))},[s]),{theme:s,toggle:()=>{const a=s==="newyork"?"light":"newyork";console.log("[useTheme] Zmieniam motyw na:",a),r(a)}}}function vb(){const{theme:s,toggle:r}=gb();return g("button",{className:"btn",onClick:r,children:["Motyw: ",s==="newyork"?" NewYork":" Light"]})}const Hn=({label:s,error:r,required:n,help:a,className:o="",children:u})=>g("div",{className:`space-y-1 ${o}`,children:[s&&g("label",{className:"block text-sm font-medium text-slate-700",children:[s,n&&l("span",{className:"text-red-500 ml-1",children:"*"})]}),u,r&&l("div",{className:"text-sm text-red-600",children:r}),a&&!r&&l("div",{className:"text-sm text-slate-500",children:a})]}),Fu=({icon:s,wrapperClassName:r="",className:n="",...a})=>{const o="w-full px-3 py-2 border border-slate-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent",u=s?"pl-10":"";return s?g("div",{className:`relative ${r}`,children:[l("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 pointer-events-none",children:s}),l("input",{className:`${o} ${u} ${n}`,...a})]}):l("input",{className:`${o} ${n}`,...a})},Uu=({showCount:s=!1,className:r="",maxLength:n,value:a,...o})=>{const u="w-full px-3 py-2 border border-slate-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent resize-vertical",d=typeof a=="string"?a.length:0;return g("div",{className:"space-y-1",children:[l("textarea",{className:`${u} ${r}`,value:a,maxLength:n,...o}),s&&n&&g("div",{className:"text-xs text-slate-500 text-right",children:[d,"/",n," znakw"]})]})},ci=({value:s,onChange:r,placeholder:n="Szukaj...",clearable:a=!0,name:o,className:u=""})=>g("div",{className:`relative ${u}`,children:[l(Dx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"}),l("input",{type:"text",name:o,value:s,onChange:d=>r==null?void 0:r(d.target.value),placeholder:n,className:"pl-10 pr-10 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent w-full"}),a&&s&&l("button",{type:"button",onClick:()=>r==null?void 0:r(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400 hover:text-slate-600",children:l(id,{className:"w-4 h-4"})})]}),qr=({options:s,value:r,onChange:n,placeholder:a="Wybierz...",multiple:o=!1,name:u,className:d=""})=>{const m=f=>{if(o){const y=Array.from(f.target.selectedOptions).map(_=>_.value);n==null||n(y)}else n==null||n(f.target.value)};return o?g("div",{className:`relative ${d}`,children:[l("select",{name:u,multiple:!0,value:Array.isArray(r)?r:[],onChange:m,className:"w-full px-3 py-2 border border-slate-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent min-h-[2.5rem] max-h-32",size:Math.min(s.length,6),children:s.map(f=>l("option",{value:f.value,children:f.label},f.value))}),l("div",{className:"absolute top-2 right-2 pointer-events-none",children:l(em,{className:"w-4 h-4 text-slate-400"})}),Array.isArray(r)&&r.length>0&&g("div",{className:"mt-1 text-xs text-slate-600",children:["Wybrano: ",r.length," ",r.length===1?"element":"elementw"]})]}):g("div",{className:`relative ${d}`,children:[g("select",{name:u,value:typeof r=="string"?r:"",onChange:m,className:"w-full px-3 py-2 border border-slate-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent appearance-none pr-10",children:[l("option",{value:"",children:a}),s.map(f=>l("option",{value:f.value,children:f.label},f.value))]}),l("div",{className:"absolute top-1/2 right-3 transform -translate-y-1/2 pointer-events-none",children:l(em,{className:"w-4 h-4 text-slate-400"})})]})},ts={async getServiceRequests(){const{data:s,error:r}=await ie.from("service_requests").select(`
        *,
        users(id, email, first_name, last_name)
      `).order("created_at",{ascending:!1});if(r)throw r;return s||[]},async getServiceRequestById(s){const{data:r,error:n}=await ie.from("service_requests").select(`
        *,
        users(id, email, first_name, last_name)
      `).eq("id",s).single();if(n)throw n;return r},async createServiceRequest(s){const{data:r,error:n}=await ie.from("service_requests").insert([s]).select(`
        *,
        users(id, email, first_name, last_name)
      `).single();if(n)throw n;return r},async updateServiceRequest(s,r){const{data:n,error:a}=await ie.from("service_requests").update(r).eq("id",s).select(`
        *,
        users(id, email, first_name, last_name)
      `).single();if(a)throw a;return n},async deleteServiceRequest(s){const{error:r}=await ie.from("service_requests").delete().eq("id",s);if(r)throw r},async getContractorOffers(s){const{data:r,error:n}=await ie.from("contractor_offers").select("*").eq("contractor_id",s).order("created_at",{ascending:!1});if(n)throw n;return r||[]},async createOffer(s){const{data:r,error:n}=await ie.from("contractor_offers").insert([s]).single();if(n)throw n;return r},async getPortfolio(s){const{data:r,error:n}=await ie.from("contractor_portfolios").select(`
        *,
        contractor_gallery(id, image_url, description)
      `).eq("contractor_id",s).single();if(n)throw n;return r},async createPortfolio(s){const{data:r,error:n}=await ie.from("contractor_portfolios").insert([s]).select(`
        *,
        contractor_gallery(id, image_url, description)
      `).single();if(n)throw n;return r},async updatePortfolio(s,r){const{data:n,error:a}=await ie.from("contractor_portfolios").update(r).eq("id",s).select(`
        *,
        contractor_gallery(id, image_url, description)
      `).single();if(a)throw a;return n}},Uo=({label:s,value:r,className:n=""})=>g("div",{className:`space-y-2 ${n}`,children:[l("label",{className:"text-sm font-medium text-slate-700",children:s}),l("div",{className:"text-slate-900 font-mono text-sm bg-slate-50 px-3 py-2 rounded border",children:r})]}),ze=({icon:s,title:r,value:n,subtitle:a,color:o="blue"})=>{const u={blue:["bg-blue-100","text-blue-600"],green:["bg-green-100","text-green-600"],purple:["bg-purple-100","text-purple-600"],red:["bg-red-100","text-red-600"],yellow:["bg-yellow-100","text-yellow-600"]},[d,m]=u[o]||u.blue;return l(de,{children:g("div",{className:"p-6",children:[g("div",{className:"flex items-center gap-3 mb-6",children:[l("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${d} ${m}`,children:s}),l("h2",{className:"text-lg font-semibold text-slate-900",children:r})]}),g("div",{className:"text-center space-y-2",children:[l("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${d} bg-opacity-20`,children:l("span",{className:`text-2xl font-bold ${m}`,children:n})}),a&&l("p",{className:"text-sm text-slate-600",children:a})]})]})})},wb=({children:s,variant:r="primary",className:n=""})=>{const a={primary:"bg-slate-100 text-slate-800",secondary:"bg-slate-200 text-slate-900",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"},o="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",u=a[r];return l("span",{className:`${o} ${u} ${n}`,children:s})},mt=({children:s})=>l("div",{className:"md:w-max max-w-6xl  mx-auto px-6",children:s}),Pn=({title:s,subtitle:r,center:n=!1})=>g("div",{className:n?"text-center":"",children:[l("h1",{className:"text-3xl font-bold text-slate-900",children:s}),r&&l("p",{className:"text-slate-600 mt-1",children:r})]}),_b=({children:s,colsMobile:r=1,colsDesktop:n=3,gap:a="gap-6"})=>l("div",{className:`grid ${a} grid-cols-${r} md:grid-cols-${n}`,children:s}),xb=({children:s})=>l(_b,{colsMobile:1,colsDesktop:2,gap:"gap-6",children:s}),ct=({children:s,bg:r=""})=>l("section",{className:`py-6 ${r}`,children:s}),bb=({error:s=!1,title:r="Wystpi bd",message:n="Sprbuj ponownie.",onRetry:a,children:o=null})=>s?l(ke,{type:"error",title:r,message:n,onRetry:a}):l(kt,{children:o}),gy=({icon:s,title:r,message:n,actionLabel:a,onAction:o})=>l(de,{children:g("div",{className:"p-12 text-center",children:[l("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s}),l("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:r}),l("p",{className:"text-slate-600 mb-4",children:n}),a&&o&&l(ne,{variant:"primary",onClick:o,children:a})]})}),ss=({loading:s=!0,size:r="md",children:n=null})=>s?l("div",{className:"flex items-center justify-center min-h-[20rem]",children:l(Nt,{size:r})}):l(kt,{children:n}),kb=({items:s,colsMobile:r=1,colsDesktop:n=3})=>l("div",{className:`grid gap-6 grid-cols-${r} md:grid-cols-${n}`,children:s.map((a,o)=>l(ze,{...a},o))}),Nb=({children:s})=>l("div",{className:"bg-white p-6 rounded-lg border border-slate-200 mb-6",children:l("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s})}),Sb=s=>{if(!s)return"Anonimowy";const{first_name:r,last_name:n,email:a}=s;return r&&n?`${r} ${n}`:r||n||a.split("@")[0]},Cb=({request:s,onOffer:r,onDetails:n})=>l(de,{children:g("div",{className:"p-6 flex flex-col h-full",children:[l("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:s.title||"Zlecenie bez tytuu"}),l("p",{className:"text-slate-600 text-sm mb-4 line-clamp-2",children:s.description||"Brak opisu"}),l("div",{className:"flex-1"}),g("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4",children:[g("div",{className:"flex items-center gap-1",children:[l(ur,{className:"w-4 h-4"}),l("span",{children:s.city||"Nie podano"})]}),g("div",{className:"flex items-center gap-1",children:[l(Ut,{className:"w-4 h-4"}),l("span",{children:Sb(s.users)})]}),g("div",{className:"flex items-center gap-1",children:[l(Lt,{className:"w-4 h-4"}),l("span",{children:new Date(s.created_at).toLocaleDateString("pl")})]})]}),g("div",{className:"flex gap-2 mt-auto",children:[l(ne,{variant:"primary",className:"flex-1",onClick:()=>r(s.id),children:"Z ofert"}),l(ne,{variant:"outline",onClick:()=>n(s.id),children:"Szczegy"})]})]})}),Eb=()=>{const s=yt(),[r,n]=R.useState(""),[a,o]=R.useState(""),[u,d]=R.useState(""),{data:m=[],isLoading:f,error:y,refetch:_}=He({queryKey:["service-requests"],queryFn:ts.getServiceRequests}),b=m.filter(x=>{var I,L,D,B;const S=!r||((I=x.title)==null?void 0:I.toLowerCase().includes(r.toLowerCase()))||((L=x.description)==null?void 0:L.toLowerCase().includes(r.toLowerCase())),z=!a||((D=x.city)==null?void 0:D.toLowerCase().includes(a.toLowerCase()))||((B=x.postal_code)==null?void 0:B.includes(a));return S&&z}),v=Array.from(new Set(m.map(x=>x.city).filter(Boolean))).map(x=>({value:x,label:x})),k=new Date().toDateString(),N=m.filter(x=>new Date(x.created_at).toDateString()===k).length;return f?l(ss,{size:"lg"}):y?l(bb,{title:"Bd adowania",message:"Nie udao si zaadowa zlece z marketplace",onRetry:()=>_()}):g(mt,{children:[l(Pn,{title:"Gieda Wykonawcw",subtitle:"Znajd zlecenia dopasowane do Twoich umiejtnoci"}),l(ct,{children:l(kb,{items:[{icon:l(Nn,{}),title:"Dostpne zlecenia",value:b.length,subtitle:"aktywnych ofert",color:"blue"},{icon:l(ur,{}),title:"Lokalizacje",value:v.length,subtitle:"rnych miast",color:"green"},{icon:l(Lt,{}),title:"Nowe dzisiaj",value:N,subtitle:"dodanych dzi",color:"purple"}],colsMobile:1,colsDesktop:3})}),l(ct,{children:g(Nb,{children:[l(ci,{value:r,onChange:n,placeholder:"Szukaj zlece..."}),l(qr,{options:v,value:a,onChange:x=>o(x),placeholder:"Wybierz miasto"}),l(qr,{options:[{value:"new",label:"Nowe"},{value:"urgent",label:"Pilne"},{value:"featured",label:"Wyrnione"}],value:u,onChange:x=>d(x),placeholder:"Status zlecenia"})]})}),l(ct,{children:b.length>0?l(xb,{children:b.map(x=>l(Cb,{request:x,onOffer:S=>s(`/contractor/offersform?requestId=${S}`),onDetails:S=>s(`/contractor/marketplace/${S}`)},x.id))}):l(gy,{icon:l(Nn,{}),title:"Brak zlece",message:"Nie znaleziono zlece speniajcych wybrane kryteria."})})]})},Pb=()=>{const s=yt(),r=br(),[n,a]=R.useState({request_id:"",price:"",scope:""}),[o,u]=R.useState({}),d="current-contractor-id",{data:m=[],isLoading:f,error:y}=He({queryKey:["service-requests"],queryFn:ts.getServiceRequests}),{mutate:_,isPending:b,error:v}=qt({mutationFn:x=>ts.createOffer(x),onSuccess:()=>{r.invalidateQueries({queryKey:["contractor-offers"]}),s("/contractor/offers")}}),k=()=>{const x={};n.request_id||(x.request_id="Wybierz zlecenie");const S=parseFloat(n.price);return(!n.price.trim()||isNaN(S)||S<=0)&&(x.price="Podaj poprawn cen"),n.scope.trim()||(x.scope="Opisz zakres prac"),u(x),Object.keys(x).length===0};return g(mt,{children:[l(Pn,{title:"Nowa Oferta",subtitle:"Z ofert na wybrane zlecenie"}),g(ct,{children:[v&&l(ke,{type:"error",title:"Bd",message:"Nie udao si zoy oferty."}),f?l(ss,{size:"lg"}):l(de,{children:g("form",{onSubmit:x=>{x.preventDefault(),k()&&_({...n,price:parseFloat(n.price),contractor_id:d})},className:"p-6 space-y-6",children:[g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:"Zlecenie"}),g("select",{value:n.request_id,onChange:x=>{a(S=>({...S,request_id:x.target.value})),u(S=>({...S,request_id:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${o.request_id?"border-red-500":"border-slate-300"}`,children:[l("option",{value:"",children:"Wybierz zlecenie..."}),m.map(x=>l("option",{value:x.id,children:x.title||x.id},x.id))]}),o.request_id&&l("p",{className:"text-red-500 text-sm mt-1",children:o.request_id})]}),g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[l(Zo,{className:"w-4 h-4"})," Cena (PLN)"]})}),l("input",{type:"number",min:"0",step:"0.01",value:n.price,onChange:x=>{a(S=>({...S,price:x.target.value})),u(S=>({...S,price:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${o.price?"border-red-500":"border-slate-300"}`,placeholder:"Wprowad cen..."}),o.price&&l("p",{className:"text-red-500 text-sm mt-1",children:o.price})]}),g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[l($t,{className:"w-4 h-4"})," Zakres prac"]})}),l("textarea",{rows:6,value:n.scope,onChange:x=>{a(S=>({...S,scope:x.target.value})),u(S=>({...S,scope:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 resize-none ${o.scope?"border-red-500":"border-slate-300"}`,placeholder:"Opisz zakres prac..."}),o.scope&&l("p",{className:"text-red-500 text-sm mt-1",children:o.scope})]}),g("div",{className:"flex gap-3 pt-4",children:[l(ne,{variant:"primary",disabled:b,className:"flex-1",children:b?"Wysyanie":"Z ofert"}),l(ne,{variant:"outline",onClick:()=>s("/contractor/marketplace"),children:"Anuluj"})]})]})})]})]})},jb=()=>{var v;yt();const s=br(),[r,n]=R.useState(!1),[a,o]=R.useState({}),u="current-contractor-id",{data:d,isLoading:m,error:f,refetch:y}=He({queryKey:["contractor-portfolio",u],queryFn:()=>ts.getPortfolio(u)}),{mutate:_,isPending:b}=qt({mutationFn:k=>d!=null&&d.id?ts.updatePortfolio(d.id,k):ts.createPortfolio({contractor_id:u,...k}),onSuccess:()=>{s.invalidateQueries({queryKey:["contractor-portfolio"]}),n(!1)}});return m?l(ss,{size:"lg"}):f?l(mt,{children:l(ct,{children:l(ke,{type:"error",title:"Bd",message:"Nie udao si zaadowa portfolio.",onRetry:()=>y()})})}):g(mt,{children:[l(Pn,{title:"Portfolio Wykonawcy",subtitle:"Zarzdzaj informacjami o firmie"}),g(ct,{children:[g("div",{className:"flex justify-between items-center mb-4",children:[l("h2",{className:"text-lg font-semibold",children:"Informacje o firmie"}),!r&&l(ne,{variant:"primary",icon:l(Mu,{}),onClick:()=>{o({company_name:d==null?void 0:d.company_name,nip:d==null?void 0:d.nip,company_address:d==null?void 0:d.company_address,description:d==null?void 0:d.description}),n(!0)},children:"Edytuj"})]}),l(de,{children:l("div",{className:"p-6",children:r?g("div",{className:"space-y-4",children:[g("div",{children:[l("label",{className:"block text-sm mb-1",children:"Nazwa firmy"}),l("input",{type:"text",value:a.company_name||"",onChange:k=>o(N=>({...N,company_name:k.target.value})),className:"w-full px-3 py-2 border rounded-md focus:outline-none"})]}),g("div",{children:[l("label",{className:"block text-sm mb-1",children:"NIP"}),l("input",{type:"text",value:a.nip||"",onChange:k=>o(N=>({...N,nip:k.target.value})),className:"w-full px-3 py-2 border rounded-md focus:outline-none"})]}),g("div",{children:[l("label",{className:"block text-sm mb-1",children:"Adres firmy"}),l("input",{type:"text",value:a.company_address||"",onChange:k=>o(N=>({...N,company_address:k.target.value})),className:"w-full px-3 py-2	border rounded-md focus:outline-none"})]}),g("div",{children:[l("label",{className:"block text-sm mb-1",children:"Opis firmy"}),l("textarea",{rows:4,value:a.description||"",onChange:k=>o(N=>({...N,description:k.target.value})),className:"w-full px-3 py-2 border rounded-md focus:outline-none resize-none"})]}),g("div",{className:"flex gap-3 pt-4",children:[l(ne,{variant:"primary",icon:l($x,{}),disabled:b,onClick:()=>_(a),children:b?"Zapisywanie":"Zapisz"}),l(ne,{variant:"outline",icon:l(id,{}),onClick:()=>n(!1),children:"Anuluj"})]})]}):g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l(Uo,{label:"Nazwa firmy",value:(d==null?void 0:d.company_name)||""}),l(Uo,{label:"NIP",value:(d==null?void 0:d.nip)||""}),l(Uo,{label:"Adres firmy",value:(d==null?void 0:d.company_address)||""}),l("div",{className:"md:col-span-2",children:l(Uo,{label:"Opis firmy",value:(d==null?void 0:d.description)||""})})]})})}),(v=d==null?void 0:d.contractor_gallery)!=null&&v.length?g(ct,{children:[g("div",{className:"flex items-center gap-2 mb-4",children:[l($t,{className:"w-5 h-5 text-green-600"}),l("h2",{className:"text-lg font-semibold",children:"Galeria prac"})]}),l(de,{children:l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-6",children:d.contractor_gallery.map(k=>g("div",{className:"bg-slate-50 rounded-lg p-4",children:[k.image_url?l("img",{src:k.image_url,alt:k.description,className:"w-full h-32 object-cover rounded-md mb-2"}):l("div",{className:"w-full h-32 bg-slate-200 rounded-md flex items-center justify-center mb-2",children:l($t,{className:"w-8 h-8 text-slate-400"})}),k.description&&l("p",{className:"text-sm text-slate-600",children:k.description})]},k.id))})})]}):null]})]})},Rb=({columns:s,data:r,onSort:n,sortColumn:a,sortDirection:o,selected:u=[],onSelect:d,loading:m=!1})=>m?g("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[l("div",{className:"bg-slate-50 px-6 py-3 border-b border-slate-200",children:l("div",{className:"flex items-center space-x-4",children:s.map((f,y)=>l("div",{className:"h-4 bg-slate-200 rounded animate-pulse flex-1"},y))})}),[...Array(5)].map((f,y)=>l("div",{className:"px-6 py-4 border-b border-slate-200 last:border-b-0",children:l("div",{className:"flex items-center space-x-4",children:s.map((_,b)=>l("div",{className:"h-4 bg-slate-100 rounded animate-pulse flex-1"},b))})},y))]}):l("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:g("table",{className:"w-full",children:[l("thead",{className:"bg-slate-50",children:g("tr",{children:[d&&l("th",{className:"w-12 px-6 py-3 text-left",children:l("input",{type:"checkbox",checked:u.length===r.length&&r.length>0,onChange:f=>d(f.target.checked?r.map(y=>y.id):[]),className:"rounded border-slate-300 text-slate-900 focus:ring-slate-500"})}),s.map(f=>l("th",{className:`px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider ${f.width||""}`,children:f.sortable?g("button",{onClick:()=>n(f.key),className:"flex items-center gap-1 hover:text-slate-700",children:[f.label,l(K_,{className:"w-3 h-3"})]}):f.label},f.key)),l("th",{className:"w-16 px-6 py-3"})]})}),l("tbody",{className:"bg-white divide-y divide-slate-200",children:r.map(f=>g("tr",{className:"hover:bg-slate-50",children:[d&&l("td",{className:"px-6 py-4",children:l("input",{type:"checkbox",checked:u.includes(f.id),onChange:y=>{y.target.checked?d([...u,f.id]):d(u.filter(_=>_!==f.id))},className:"rounded border-slate-300 text-slate-900 focus:ring-slate-500"})}),s.map(y=>l("td",{className:"px-6 py-4 text-sm",children:y.key==="status"?l("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f[y.key]==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f[y.key]}):y.key==="name"?g("div",{className:"flex items-center gap-3",children:[l("div",{className:"w-8 h-8 bg-slate-900 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:String(f.name).charAt(0)}),l("span",{className:"font-medium text-slate-900",children:f[y.key]})]}):l("span",{className:"text-slate-900",children:f[y.key]})},y.key)),l("td",{className:"px-6 py-4 text-right",children:l(ne,{variant:"outline",size:"sm",children:l(gx,{className:"w-4 h-4"})})})]},f.id))})]})}),zb=({currentPage:s,totalPages:r,totalItems:n,itemsPerPage:a,onPageChange:o,onItemsPerPageChange:u})=>{const d=(s-1)*a+1,m=Math.min(s*a,n);return g("div",{className:"flex items-center justify-between px-6 py-3 bg-white border-t border-slate-200",children:[g("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[l("span",{children:"Wywietl:"}),l("select",{value:a,onChange:f=>u(Number(f.target.value)),className:"border border-slate-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-slate-500",children:[5,10,25,50].map(f=>l("option",{value:f,children:f},f))}),g("span",{children:["z ",n," wynikw"]})]}),g("div",{className:"flex items-center gap-2",children:[g("span",{className:"text-sm text-slate-700",children:[d,"-",m," z ",n]}),g("div",{className:"flex gap-1",children:[l(ne,{variant:"outline",size:"sm",onClick:()=>o(s-1),disabled:s===1,children:"Poprzednia"}),[...Array(r)].map((f,y)=>{const _=y+1;return _===1||_===r||_>=s-1&&_<=s+1?l(ne,{variant:_===s?"primary":"outline",size:"sm",onClick:()=>o(_),children:_},_):_===s-2||_===s+2?l("span",{className:"px-2 text-slate-400",children:"..."},_):null}),l(ne,{variant:"outline",size:"sm",onClick:()=>o(s+1),disabled:s===r,children:"Nastpna"})]})]})]})},Ob=()=>{const s=yt(),[r,n]=R.useState(1),[a,o]=R.useState(10),[u,d]=R.useState("created_at"),[m,f]=R.useState("desc"),y="current-contractor-id",{data:_=[],isLoading:b,error:v,refetch:k}=He({queryKey:["contractor-offers",y],queryFn:()=>ts.getContractorOffers(y)});if(b)return l(ss,{size:"lg"});if(v)return l(mt,{children:l(ct,{children:l(ke,{type:"error",title:"Bd",message:"Nie udao si zaadowa ofert.",onRetry:()=>k()})})});const x=[..._].sort((D,B)=>{const V=D[u],re=B[u];return V<re?m==="asc"?-1:1:V>re?m==="asc"?1:-1:0}).slice((r-1)*a,r*a),S=Math.ceil(_.length/a),z={pending:_.filter(D=>D.status==="pending").length,accepted:_.filter(D=>D.status==="accepted").length,rejected:_.filter(D=>D.status==="rejected").length},I=[{key:"id",label:"ID",sortable:!0,width:"w-24"},{key:"price",label:"Cena",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"created_at",label:"Data",sortable:!0}],L=x.map(D=>({id:D.id,price:`${D.price.toLocaleString("pl")} z`,status:D.status,created_at:new Date(D.created_at).toLocaleDateString("pl")}));return g(mt,{children:[l(Pn,{title:"Moje Oferty",subtitle:"Zarzdzaj swoimi ofertami"}),l(ct,{children:g("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l(ze,{icon:l($t,{}),title:"Wszystkie",value:_.length}),l(ze,{icon:l(Lt,{}),title:"Oczekujce",value:z.pending,color:"yellow"}),l(ze,{icon:l(cr,{}),title:"Zaakceptowane",value:z.accepted,color:"green"}),l(ze,{icon:l(Ws,{}),title:"Odrzucone",value:z.rejected,color:"red"})]})}),l(ct,{children:g(de,{children:[l("div",{className:"flex justify-end mb-4",children:l(ne,{variant:"primary",icon:l(Nn,{}),onClick:()=>s("/contractor/offersform"),children:"Nowa oferta"})}),l(Rb,{columns:I,data:L,sortColumn:u,sortDirection:m,onSort:D=>{D===u?f(B=>B==="asc"?"desc":"asc"):(d(D),f("asc"))}}),l(zb,{currentPage:r,totalPages:S,totalItems:_.length,itemsPerPage:a,onPageChange:n,onItemsPerPageChange:o})]})})]})},Tb={operator:[{path:"/operator/contacts",label:"Kontakty Beneficjentw",icon:sd},{path:"/operator/moderation",label:"Panel Moderacji",icon:el},{path:"/operator/reports",label:"Raporty",icon:$t},{path:"/operator/requests",label:"Zapytania do Weryfikacji",icon:sm}],auditor:[{path:"/auditor/marketplace",label:"Marketplace",icon:im},{path:"/auditor/offer/new",label:"Nowa Oferta",icon:tm},{path:"/auditor/offers",label:"Moje Oferty",icon:Yp},{path:"/auditor/portfolio",label:"Portfolio",icon:nm}],beneficiary:[{path:"/beneficiary/audit-request",label:"Zapytanie o Audyt",icon:Yx},{path:"/beneficiary/my-requests",label:"Moje Zapytania",icon:ox},{path:"/beneficiary/operator-contact",label:"Kontakt z Operatorem",icon:Sn},{path:"/beneficiary/service-request",label:"Zapytanie o Usug",icon:sm}],contractor:[{path:"/contractor/marketplace",label:"Marketplace",icon:im},{path:"/contractor/offersform",label:"Formularz Oferty",icon:tm},{path:"/contractor/offers",label:"Moje Oferty",icon:Yp},{path:"/contractor/portfolio",label:"Portfolio",icon:nm}]},it=({children:s,userRole:r="operator"})=>{const n=Tb[r]||[];return g("div",{className:"flex min-h-screen bg-slate-50",children:[l("div",{className:"w-64 bg-white border-r border-slate-200 flex-shrink-0",children:g("div",{className:"p-6",children:[g("div",{className:"flex items-center gap-3 mb-8",children:[l("div",{className:"w-10 h-10 bg-slate-900 text-white rounded-lg flex items-center justify-center",children:l(Ut,{className:"w-6 h-6"})}),g("div",{children:[l("h2",{className:"font-semibold text-slate-900 capitalize",children:r}),l("p",{className:"text-sm text-slate-600",children:"Panel Uytkownika"})]})]}),l("nav",{className:"space-y-2",children:n.map(a=>{const o=a.icon;return g(qs,{to:a.path,className:({isActive:u})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${u?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:[l(o,{className:"w-5 h-5"}),a.label]},a.path)})})]})}),l("div",{className:"flex-1 flex flex-col",children:s})]})},Ab=()=>{const{user:s,logout:r,delegatedUser:n}=as(),a=yt(),o=()=>a("/login"),u=async()=>{await r(),a("/login")},d=()=>{console.log("Otwieranie profilu delegowanego uytkownika:",n)};if(!s)return l("button",{onClick:o,className:"btn btn-sm btn-primary",children:"Zaloguj"});const m=n||s,f=!!n;return g("div",{className:"dropdown dropdown-end",children:[l("label",{tabIndex:0,className:"avatar avatar-placeholder cursor-pointer",children:l("div",{className:"w-10 h-10 rounded-full bg-neutral-300 text-primary-content flex items-center justify-center font-semibold",children:m.email.charAt(0).toUpperCase()})}),g("ul",{tabIndex:0,className:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-64 mt-2",children:[f&&g(kt,{children:[l("li",{className:"menu-title",children:l("span",{className:"text-warning font-semibold",children:" Delegowany dostp"})}),l("li",{children:g("button",{onClick:d,className:"justify-between hover:bg-base-200",children:[g("div",{className:"flex flex-col items-start",children:[l("span",{className:"font-semibold break-words text-sm",children:n.email}),g("span",{className:"text-xs opacity-70",children:["Rola: ",n.role]})]}),l("span",{className:"text-xs",children:""})]})}),l("div",{className:"divider my-1"}),l("li",{className:"menu-title",children:l("span",{className:"text-xs opacity-60",children:"Twoje konto:"})})]}),l("li",{children:l("span",{className:"font-semibold break-words",children:f?s.email:m.email})}),l("li",{children:g("span",{children:["Rola: ",f?s.role:m.role]})}),l("div",{className:"divider my-1"}),l("li",{children:l("button",{onClick:u,className:"w-full text-left text-error",children:"Wyloguj"})})]})]})},at=()=>{const[s,r]=R.useState(!1),n=()=>{r(!s)},a=({isActive:o})=>o?"bg-slate-100 text-slate-900 rounded-lg":"text-slate-700 hover:bg-slate-50 rounded-lg";return g(kt,{children:[g("nav",{className:"bg-white border-b border-slate-200 p-3 px-6",children:[g("div",{className:"flex justify-between items-center h-16",children:[l("div",{className:"flex items-center",children:g(qs,{to:"/",className:"flex items-center gap-3",children:[l("div",{className:"min-w-8 w-8 h-8 bg-slate-900 text-white rounded-lg flex items-center justify-center",children:l("span",{className:"font-bold text-sm",children:"MA"})}),l("span",{className:"text-xl font-semibold text-slate-900",children:"eOperator"})]})}),g("div",{className:"flex items-center gap-3",children:[l(Ab,{}),l("div",{className:"lg:hidden",children:l(ne,{variant:"ghost",onClick:n,icon:s?l(id,{className:"w-5 h-5"}):l(jx,{className:"w-5 h-5"}),children:void 0})})]})]}),s&&l("div",{className:"lg:hidden border-t border-slate-200 bg-white",children:g("div",{className:"px-4 py-3 space-y-2",children:[g(qs,{to:"/beneficiary/my-requests",className:a,onClick:()=>r(!1),children:[l(Ut,{className:"w-4 h-4"}),"Beneficjent"]}),g(qs,{to:"/admin/users",className:a,onClick:()=>r(!1),children:[l(Fx,{className:"w-4 h-4"}),"Uytkownicy"]}),g(qs,{to:"/dashboard",className:a,onClick:()=>r(!1),children:[l(ex,{className:"w-4 h-4"}),"Dashboard"]})]})})]}),l("div",{className:"h-16"})]})},Lb=()=>g(kt,{children:[l(Re,{path:"/contractor/marketplace",element:l(Dr,{children:g(it,{userRole:"contractor",children:[l(at,{}),l(Eb,{})]})})}),l(Re,{path:"/contractor/offersform",element:l(Dr,{children:g(it,{userRole:"contractor",children:[l(at,{}),l(Pb,{})]})})}),l(Re,{path:"/contractor/offers",element:l(Dr,{children:g(it,{userRole:"contractor",children:[l(at,{}),l(Ob,{})]})})}),l(Re,{path:"/contractor/portfolio",element:l(Dr,{children:g(it,{userRole:"contractor",children:[l(at,{}),l(jb,{})]})})})]}),$b=()=>g(kt,{children:[l(Re,{path:"/operator/contacts",element:g(it,{userRole:"operator",children:[l(at,{}),l(Ib,{})]})}),l(Re,{path:"/operator/moderation",element:g(it,{userRole:"operator",children:[l(at,{}),l(Fb,{})]})}),l(Re,{path:"/operator/reports",element:g(it,{userRole:"operator",children:[l(at,{}),l(Ub,{})]})}),l(Re,{path:"/operator/requests",element:g(it,{userRole:"operator",children:[l(at,{}),l(qb,{})]})})]}),Hs={async getServiceRequestsForVerification(){const{data:s,error:r}=await ie.from("service_requests").select(`
        *,
        users!service_requests_beneficiary_id_fkey(
          id,
          email,
          name,
          phone_number
        ),
        contractor_offers(
          id,
          contractor_id,
          price,
          status
        )
      `).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching service requests:",r),r;return s||[]},async updateServiceRequestStatus(s,r,n,a){const{error:o}=await ie.from("service_requests").update({status:r,updated_at:new Date().toISOString()}).eq("id",s);if(o)throw console.error("Error updating service request status:",o),o;await this.createModerationLog({operator_id:n,target_table:"service_requests",target_id:s,action:`status_changed_to_${r}`,reason:a})},async getModerationLogs(){const{data:s,error:r}=await ie.from("moderation_logs").select(`
        *,
        users!moderation_logs_operator_id_fkey(
          id,
          name,
          email
        )
      `).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching moderation logs:",r),r;return s||[]},async createModerationLog(s){const{error:r}=await ie.from("moderation_logs").insert([s]);if(r)throw console.error("Error creating moderation log:",r),r},async getReports(){const{data:s,error:r}=await ie.from("reports").select("*").order("created_at",{ascending:!1});if(r)throw console.error("Error fetching reports:",r),r;return s||[]},async createReport(s){const{data:r,error:n}=await ie.from("reports").insert([s]).select().single();if(n)throw console.error("Error creating report:",n),n;return r},async getUserContacts(){const{data:s,error:r}=await ie.from("users").select(`
        id,
        email,
        name,
        phone_number,
        city,
        postal_code,
        role,
        created_at
      `).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching user contacts:",r),r;return s||[]},async getStats(){const[s,r,n,a]=await Promise.all([ie.from("service_requests").select("status",{count:"exact"}),ie.from("audit_requests").select("status",{count:"exact"}),ie.from("contractor_offers").select("status",{count:"exact"}),ie.from("auditor_offers").select("status",{count:"exact"})]);return{serviceRequests:s.data||[],serviceRequestsCount:s.count||0,auditRequests:r.data||[],auditRequestsCount:r.count||0,contractorOffers:n.data||[],contractorOffersCount:n.count||0,auditorOffers:a.data||[],auditorOffersCount:a.count||0}}},Ib=()=>{const[s,r]=R.useState(""),[n,a]=R.useState(""),[o,u]=R.useState(""),{data:d=[],isLoading:m,error:f,refetch:y}=He({queryKey:["operator-contacts"],queryFn:Hs.getUserContacts}),_=d.filter(v=>{var S,z,I,L;const k=!s||((S=v.name)==null?void 0:S.toLowerCase().includes(s.toLowerCase()))||v.email.toLowerCase().includes(s.toLowerCase())||((z=v.phone_number)==null?void 0:z.includes(s)),N=!n||v.role===n,x=!o||((I=v.city)==null?void 0:I.toLowerCase().includes(o.toLowerCase()))||((L=v.postal_code)==null?void 0:L.includes(o));return k&&N&&x}),b={total:d.length,beneficiaries:d.filter(v=>v.role==="beneficiary").length,contractors:d.filter(v=>v.role==="contractor").length,auditors:d.filter(v=>v.role==="auditor").length};return m?l("div",{className:"p-6",children:l("div",{className:"flex items-center justify-center min-h-96",children:l(Nt,{size:"lg"})})}):f?l("div",{className:"p-6",children:l(ke,{type:"error",title:"Bd adowania",message:"Nie udao si zaadowa kontaktw uytkownikw",onRetry:()=>y()})}):g("div",{className:"p-6 space-y-6",children:[g("div",{children:[l("h1",{className:"text-3xl font-bold text-slate-900",children:"Kontakty Uytkownikw"}),l("p",{className:"text-slate-600 mt-1",children:"Przegldaj i zarzdzaj kontaktami wszystkich uytkownikw"})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l(ze,{icon:l(Ut,{className:"w-5 h-5"}),title:"Wszyscy",value:b.total,subtitle:"uytkownikw",color:"blue"}),l(ze,{icon:l(Ut,{className:"w-5 h-5"}),title:"Beneficjenci",value:b.beneficiaries,subtitle:"zarejestrowanych",color:"green"}),l(ze,{icon:l(Ut,{className:"w-5 h-5"}),title:"Wykonawcy",value:b.contractors,subtitle:"aktywnych",color:"purple"}),l(ze,{icon:l(Ut,{className:"w-5 h-5"}),title:"Audytorzy",value:b.auditors,subtitle:"certyfikowanych"})]}),l(de,{children:g("div",{className:"p-6",children:[l("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Filtry"}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l(ci,{value:s,onChange:r,placeholder:"Szukaj po nazwie, email lub telefonie..."}),l(qr,{options:[{value:"beneficiary",label:"Beneficjenci"},{value:"contractor",label:"Wykonawcy"},{value:"auditor",label:"Audytorzy"},{value:"operator",label:"Operatorzy"},{value:"admin",label:"Administratorzy"}],value:n,onChange:v=>a(v),placeholder:"Rola"}),l(qr,{options:Array.from(new Set(d.map(v=>v.city).filter(Boolean))).map(v=>({value:v,label:v})),value:o,onChange:v=>u(v),placeholder:"Miasto"})]})]})}),l("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:_.map(v=>l(de,{children:g("div",{className:"p-6",children:[l("div",{className:"flex justify-between items-start mb-4",children:g("div",{className:"flex-1",children:[g("div",{className:"flex items-center gap-3 mb-2",children:[l("h3",{className:"text-lg font-semibold text-slate-900",children:v.name||"Nie podano"}),"TODO -BADGE"]}),g("div",{className:"space-y-2 text-sm text-slate-600",children:[g("div",{className:"flex items-center gap-2",children:[l(Yo,{className:"w-4 h-4"}),l("span",{children:v.email})]}),v.phone_number&&g("div",{className:"flex items-center gap-2",children:[l(Sn,{className:"w-4 h-4"}),l("span",{children:v.phone_number})]}),v.city&&g("div",{className:"flex items-center gap-2",children:[l(ur,{className:"w-4 h-4"}),g("span",{children:[v.city," ",v.postal_code]})]}),g("div",{className:"flex items-center gap-2",children:[l(es,{className:"w-4 h-4"}),g("span",{children:["Doczy:"," ",new Date(v.created_at).toLocaleDateString("pl")]})]})]})]})}),g("div",{className:"flex gap-2 pt-4 border-t",children:[g(ne,{variant:"outline",size:"sm",onClick:()=>window.open(`mailto:${v.email}`),className:"flex items-center gap-2",children:[l(Yo,{className:"w-4 h-4"}),"Email"]}),v.phone_number&&g(ne,{variant:"outline",size:"sm",onClick:()=>window.open(`tel:${v.phone_number}`),className:"flex items-center gap-2",children:[l(Sn,{className:"w-4 h-4"}),"Telefon"]})]})]})},v.id))}),_.length===0&&l(de,{children:g("div",{className:"p-12 text-center",children:[l("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l(Ut,{className:"w-8 h-8 text-slate-400"})}),l("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Brak kontaktw"}),l("p",{className:"text-slate-600",children:"Nie znaleziono kontaktw speniajcych wybrane kryteria."})]})})]})},Db={status_changed_to_verified:"Zweryfikowano",status_changed_to_rejected:"Odrzucono",status_changed_to_pending:"Przywrcono do oczekujcych",created:"Utworzono",updated:"Zaktualizowano",deleted:"Usunito"},Mb={service_requests:"Zapytania o usugi",audit_requests:"Zapytania o audyt",contractor_offers:"Oferty wykonawcw",auditor_offers:"Oferty audytorw"},Fb=()=>{const[s,r]=R.useState(""),[n,a]=R.useState(""),[o,u]=R.useState(""),{data:d=[],isLoading:m,error:f,refetch:y}=He({queryKey:["operator-moderation-logs"],queryFn:Hs.getModerationLogs}),_=d.filter(v=>{var S,z,I;const k=!s||v.action.toLowerCase().includes(s.toLowerCase())||((z=(S=v.users)==null?void 0:S.name)==null?void 0:z.toLowerCase().includes(s.toLowerCase()))||((I=v.reason)==null?void 0:I.toLowerCase().includes(s.toLowerCase())),N=!n||v.action.includes(n),x=!o||v.target_table===o;return k&&N&&x}),b={total:d.length,today:d.filter(v=>{const k=new Date().toDateString();return new Date(v.created_at).toDateString()===k}).length,thisWeek:d.filter(v=>{const k=new Date;return k.setDate(k.getDate()-7),new Date(v.created_at)>=k}).length};return m?l("div",{className:"p-6",children:l("div",{className:"flex items-center justify-center min-h-96",children:l(Nt,{size:"lg"})})}):f?l("div",{className:"p-6",children:l(ke,{type:"error",title:"Bd adowania",message:"Nie udao si zaadowa logw moderacji",onRetry:()=>y()})}):g("div",{className:"p-6 space-y-6",children:[g("div",{children:[l("h1",{className:"text-3xl font-bold text-slate-900",children:"Panel Moderacji"}),l("p",{className:"text-slate-600 mt-1",children:"Historia dziaa moderacyjnych w systemie"})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l(ze,{icon:l(el,{className:"w-5 h-5"}),title:"Wszystkie akcje",value:b.total,subtitle:"wykonanych",color:"blue"}),l(ze,{icon:l(Lt,{className:"w-5 h-5"}),title:"Dzisiaj",value:b.today,subtitle:"akcji",color:"green"}),l(ze,{icon:l(Lt,{className:"w-5 h-5"}),title:"Ten tydzie",value:b.thisWeek,subtitle:"akcji",color:"purple"})]}),l(de,{children:g("div",{className:"p-6",children:[l("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Filtry"}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l(ci,{value:s,onChange:r,placeholder:"Szukaj po akcji, operatorze lub powodzie..."}),l(qr,{options:[{value:"status_changed_to_verified",label:"Zweryfikowano"},{value:"status_changed_to_rejected",label:"Odrzucono"},{value:"created",label:"Utworzono"},{value:"updated",label:"Zaktualizowano"},{value:"deleted",label:"Usunito"}],value:n,onChange:v=>a(v),placeholder:"Typ akcji"}),l(qr,{options:[{value:"service_requests",label:"Zapytania o usugi"},{value:"audit_requests",label:"Zapytania o audyt"},{value:"contractor_offers",label:"Oferty wykonawcw"},{value:"auditor_offers",label:"Oferty audytorw"}],value:o,onChange:v=>u(v),placeholder:"Tabela"})]})]})}),l("div",{className:"space-y-4",children:_.map(v=>{var k,N;return l(de,{children:l("div",{className:"p-6",children:l("div",{className:"flex justify-between items-start",children:g("div",{className:"flex-1",children:[g("div",{className:"flex items-center gap-3 mb-2",children:[l("h3",{className:"text-lg font-semibold text-slate-900",children:Db[v.action]||v.action}),l(wb,{variant:"secondary",children:Mb[v.target_table]||v.target_table})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-slate-600",children:[g("div",{className:"space-y-1",children:[g("div",{className:"flex items-center gap-2",children:[l(Ut,{className:"w-4 h-4"}),g("span",{children:["Operator: ",((k=v.users)==null?void 0:k.name)||((N=v.users)==null?void 0:N.email)||"Nieznany"]})]}),g("div",{className:"flex items-center gap-2",children:[l(ux,{className:"w-4 h-4"}),g("span",{children:["ID obiektu: ",v.target_id.slice(0,8),"..."]})]})]}),g("div",{className:"space-y-1",children:[g("div",{className:"flex items-center gap-2",children:[l(Lt,{className:"w-4 h-4"}),l("span",{children:new Date(v.created_at).toLocaleString("pl")})]}),v.reason&&g("div",{className:"text-sm",children:[l("strong",{children:"Powd:"})," ",v.reason]})]})]})]})})})},v.id)})}),_.length===0&&l(de,{children:g("div",{className:"p-12 text-center",children:[l("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l(el,{className:"w-8 h-8 text-slate-400"})}),l("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Brak logw"}),l("p",{className:"text-slate-600",children:"Nie znaleziono logw moderacji speniajcych wybrane kryteria."})]})})]})},Ub=()=>{const[s,r]=R.useState(""),[n,a]=R.useState(!1),o=br(),{data:u=[],isLoading:d,error:m,refetch:f}=He({queryKey:["operator-reports"],queryFn:Hs.getReports}),{data:y,isLoading:_}=He({queryKey:["operator-stats"],queryFn:Hs.getStats}),b=qt({mutationFn:x=>Hs.createReport({operator_id:"current-operator-id",...x}),onSuccess:()=>{o.invalidateQueries({queryKey:["operator-reports"]}),a(!1)}}),v=u.filter(x=>!s||x.title.toLowerCase().includes(s.toLowerCase())),k=async()=>{if(!y)return;const x={title:`Raport systemowy - ${new Date().toLocaleDateString("pl")}`,payload:{generatedAt:new Date().toISOString(),summary:{totalServiceRequests:y.serviceRequestsCount,totalAuditRequests:y.auditRequestsCount,totalContractorOffers:y.contractorOffersCount,totalAuditorOffers:y.auditorOffersCount},serviceRequests:{byStatus:y.serviceRequests.reduce((S,z)=>(S[z.status]=(S[z.status]||0)+1,S),{})},auditRequests:{byStatus:y.auditRequests.reduce((S,z)=>(S[z.status]=(S[z.status]||0)+1,S),{})},offers:{contractorOffers:{byStatus:y.contractorOffers.reduce((S,z)=>(S[z.status]=(S[z.status]||0)+1,S),{})},auditorOffers:{byStatus:y.auditorOffers.reduce((S,z)=>(S[z.status]=(S[z.status]||0)+1,S),{})}}}};b.mutate(x)},N=x=>{const S=JSON.stringify(x.payload,null,2),z=new Blob([S],{type:"application/json"}),I=URL.createObjectURL(z),L=document.createElement("a");L.href=I,L.download=`${x.title}.json`,L.click(),URL.revokeObjectURL(I)};return d||_?l("div",{className:"p-6",children:l("div",{className:"flex items-center justify-center min-h-96",children:l(Nt,{size:"lg"})})}):m?l("div",{className:"p-6",children:l(ke,{type:"error",title:"Bd adowania",message:"Nie udao si zaadowa raportw",onRetry:()=>f()})}):g("div",{className:"p-6 space-y-6",children:[g("div",{className:"flex justify-between items-center",children:[g("div",{children:[l("h1",{className:"text-3xl font-bold text-slate-900",children:"Raporty"}),l("p",{className:"text-slate-600 mt-1",children:"Generuj i przegldaj raporty systemowe"})]}),g(ne,{variant:"primary",onClick:k,disabled:b.isPending,className:"flex items-center gap-2",children:[l(Nn,{className:"w-4 h-4"}),"Generuj raport"]})]}),y&&g("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l(ze,{icon:l($t,{className:"w-5 h-5"}),title:"Zapytania usugowe",value:y.serviceRequestsCount,subtitle:"wszystkich",color:"blue"}),l(ze,{icon:l(Jx,{className:"w-5 h-5"}),title:"Zapytania audytowe",value:y.auditRequestsCount,subtitle:"wszystkich",color:"green"}),l(ze,{icon:l(J_,{className:"w-5 h-5"}),title:"Oferty wykonawcw",value:y.contractorOffersCount,subtitle:"zoonych",color:"purple"}),l(ze,{icon:l(sd,{className:"w-5 h-5"}),title:"Oferty audytorw",value:y.auditorOffersCount,subtitle:"zoonych",color:"yellow"})]}),l(de,{children:l("div",{className:"p-6",children:l(ci,{value:s,onChange:r,placeholder:"Szukaj raportw..."})})}),l("div",{className:"space-y-4",children:v.map(x=>l(de,{children:g("div",{className:"p-6",children:[l("div",{className:"flex justify-between items-start",children:g("div",{className:"flex-1",children:[l("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:x.title}),g("div",{className:"flex items-center gap-4 text-sm text-slate-600 mb-4",children:[g("div",{className:"flex items-center gap-1",children:[l(es,{className:"w-4 h-4"}),l("span",{children:new Date(x.created_at).toLocaleDateString("pl")})]}),g("div",{className:"flex items-center gap-1",children:[l($t,{className:"w-4 h-4"}),g("span",{children:["ID: ",x.id.slice(0,8)]})]})]}),g("div",{className:"bg-slate-50 rounded-lg p-4",children:[l("h4",{className:"font-medium text-slate-900 mb-2",children:"Podsumowanie danych:"}),l("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:x.payload.summary&&Object.entries(x.payload.summary).map(([S,z])=>g("div",{className:"text-center",children:[l("div",{className:"font-medium text-slate-900",children:z}),l("div",{className:"text-slate-600 text-xs",children:S})]},S))})]})]})}),l("div",{className:"flex gap-2 pt-4 border-t",children:g(ne,{variant:"outline",size:"sm",onClick:()=>N(x),className:"flex items-center gap-2",children:[l(mx,{className:"w-4 h-4"}),"Pobierz JSON"]})})]})},x.id))}),v.length===0&&l(de,{children:g("div",{className:"p-12 text-center",children:[l("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l($t,{className:"w-8 h-8 text-slate-400"})}),l("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Brak raportw"}),l("p",{className:"text-slate-600 mb-4",children:"Nie znaleziono raportw speniajcych wybrane kryteria."}),g(ne,{variant:"primary",onClick:k,disabled:b.isPending,className:"flex items-center gap-2",children:[l(Nn,{className:"w-4 h-4"}),"Wygeneruj pierwszy raport"]})]})})]})},qb=()=>{const{data:s=[],isLoading:r,error:n,refetch:a}=He({queryKey:["operator-service-requests"],queryFn:Hs.getServiceRequestsForVerification}),o={total:s.length,pending:s.filter(u=>u.status==="pending").length,verified:s.filter(u=>u.status==="verified").length,rejected:s.filter(u=>u.status==="rejected").length};return r?l("div",{className:"p-6",children:l("div",{className:"flex items-center justify-center min-h-96",children:l(Nt,{size:"lg"})})}):n?l("div",{className:"p-6",children:l(ke,{type:"error",title:"Bd adowania",message:"Nie udao si zaadowa zapyta",onRetry:()=>a()})}):g("div",{className:"p-6 space-y-6",children:[g("div",{children:[l("h1",{className:"text-3xl font-bold text-slate-900",children:"Zapytania do Weryfikacji"}),l("p",{className:"text-slate-600 mt-1",children:"Przegldaj zapytania oczekujce na weryfikacj"})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l(ze,{icon:l($t,{className:"w-5 h-5"}),title:"Wszystkie",value:o.total,color:"blue"}),l(ze,{icon:l(Lt,{className:"w-5 h-5"}),title:"Oczekujce",value:o.pending,color:"yellow"}),l(ze,{icon:l(cr,{className:"w-5 h-5"}),title:"Zweryfikowane",value:o.verified,color:"green"}),l(ze,{icon:l(Ws,{className:"w-5 h-5"}),title:"Odrzucone",value:o.rejected,color:"red"})]}),l("div",{className:"space-y-4",children:s.map(u=>{var d,m;return l(de,{children:g("div",{className:"p-6",children:[g("div",{className:"flex justify-between items-start mb-4",children:[g("div",{children:[g("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:[u.city||"Nie podano",", ",u.street_address]}),l("p",{className:"text-sm text-slate-600",children:((d=u.users)==null?void 0:d.name)||((m=u.users)==null?void 0:m.email)||"Anonimowy"})]}),l("span",{className:`px-2 py-1 rounded text-xs font-medium ${u.status==="pending"?"bg-yellow-100 text-yellow-800":u.status==="verified"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.status==="pending"?"Oczekujce":u.status==="verified"?"Zweryfikowane":"Odrzucone"})]}),l("div",{className:"flex gap-2 pt-4 border-t",children:l(ne,{variant:"outline",size:"sm",children:"Szczegy"})})]})},u.id)})}),s.length===0&&l(de,{children:g("div",{className:"p-12 text-center",children:[l($t,{className:"w-8 h-8 text-slate-400 mx-auto mb-4"}),l("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Brak zapyta"}),l("p",{className:"text-slate-600",children:"Nie znaleziono zapyta do weryfikacji."})]})})]})},Bb=()=>g(kt,{children:[l(Re,{path:"/auditor/marketplace",element:g(it,{userRole:"auditor",children:[l(at,{}),l(Hb,{})]})}),l(Re,{path:"/auditor/offer/new",element:g(it,{userRole:"auditor",children:[l(at,{}),l(Kb,{})]})}),l(Re,{path:"/auditor/offers",element:g(it,{userRole:"auditor",children:[l(at,{}),l(Vb,{})]})}),l(Re,{path:"/auditor/portfolio",element:g(it,{userRole:"auditor",children:[l(at,{}),l(Qb,{})]})}),l(Re,{path:"/auditor/marketplace/:id",element:g(it,{userRole:"auditor",children:[l(at,{}),l(Gb,{})]})})]}),xr={async getAuditRequests(){const{data:s,error:r}=await ie.from("audit_requests").select(`
        *,
        users!beneficiary_id(
          id,
          email,
          first_name,
          last_name
        )
      `).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching audit requests:",r),r;return s||[]},async getAuditRequestById(s){const{data:r,error:n}=await ie.from("audit_requests").select(`
        *,
        users!beneficiary_id(
          id,
          email,
          first_name,
          last_name
        )
      `).eq("id",s).single();if(n)throw console.error("Error fetching audit request:",n),n;return r},async getAuditorOffers(){const{data:s,error:r}=await ie.from("auditor_offers").select(`
        *,
        audit_requests(
          id,
          postal_code,
          city,
          street_address,
          status
        )
      `).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching auditor offers:",r),r;return s||[]},async createAuditorOffer(s){const{data:r,error:n}=await ie.from("auditor_offers").insert([s]).select(`
        *,
        audit_requests(
          id,
          postal_code,
          city,
          street_address,
          status
        )
      `).single();if(n)throw console.error("Error creating auditor offer:",n),n;return r},async updateAuditorOffer(s,r){const{data:n,error:a}=await ie.from("auditor_offers").update(r).eq("id",s).select(`
        *,
        audit_requests(
          id,
          postal_code,
          city,
          street_address,
          status
        )
      `).single();if(a)throw console.error("Error updating auditor offer:",a),a;return n},async getAuditorPortfolios(){const{data:s,error:r}=await ie.from("auditor_portfolios").select("*").order("created_at",{ascending:!1});if(r)throw console.error("Error fetching auditor portfolios:",r),r;return s||[]},async createAuditorPortfolio(s){const{data:r,error:n}=await ie.from("auditor_portfolios").insert([s]).select("*").single();if(n)throw console.error("Error creating auditor portfolio:",n),n;return r},async updateAuditorPortfolio(s,r){const{data:n,error:a}=await ie.from("auditor_portfolios").update(r).eq("id",s).select("*").single();if(a)throw console.error("Error updating auditor portfolio:",a),a;return n},async deleteAuditorPortfolio(s){const{error:r}=await ie.from("auditor_portfolios").delete().eq("id",s);if(r)throw console.error("Error deleting auditor portfolio:",r),r}},Wb=s=>s!=null&&s.first_name&&(s!=null&&s.last_name)?`${s.first_name} ${s.last_name}`:s!=null&&s.first_name?s.first_name:s!=null&&s.last_name?s.last_name:s!=null&&s.email?s.email.split("@")[0]:"Anonimowy",Hb=()=>{const s=yt(),[r,n]=R.useState(""),[a,o]=R.useState(""),[u,d]=R.useState(""),{data:m=[],isLoading:f,error:y,refetch:_}=He({queryKey:["audit-requests"],queryFn:xr.getAuditRequests}),b=m.filter(N=>{var I,L,D,B;const x=!r||((I=N.city)==null?void 0:I.toLowerCase().includes(r.toLowerCase()))||((L=N.street_address)==null?void 0:L.toLowerCase().includes(r.toLowerCase())),S=!a||((D=N.city)==null?void 0:D.toLowerCase().includes(a.toLowerCase()))||((B=N.postal_code)==null?void 0:B.includes(a)),z=!u||N.status===u;return x&&S&&z}),v=Array.from(new Set(m.map(N=>N.city).filter(Boolean))).map(N=>({value:N,label:N})),k=Array.from(new Set(m.map(N=>N.status).filter(Boolean))).map(N=>({value:N,label:N}));return f?l("div",{className:"p-6",children:l("div",{className:"flex items-center justify-center min-h-96",children:l(Nt,{size:"lg"})})}):y?l("div",{className:"p-6",children:l(ke,{type:"error",title:"Bd adowania",message:"Nie udao si zaadowa da audytu z marketplace",onRetry:()=>_()})}):g("div",{className:"p-6 space-y-6",children:[l("div",{className:"flex justify-between items-center",children:g("div",{children:[l("h1",{className:"text-3xl font-bold text-slate-900",children:"Gieda Audytorw"}),l("p",{className:"text-slate-600 mt-1",children:"Znajd zlecenia audytu dopasowane do Twoich kompetencji"})]})}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l(ze,{icon:l(la,{className:"w-5 h-5"}),title:"Dostpne audyty",value:b.length,subtitle:"aktywnych zlece",color:"blue"}),l(ze,{icon:l(ur,{className:"w-5 h-5"}),title:"Lokalizacje",value:v.length,subtitle:"rnych miast",color:"green"}),l(ze,{icon:l(Lt,{className:"w-5 h-5"}),title:"Nowe dzisiaj",value:m.filter(N=>{const x=new Date().toDateString();return new Date(N.created_at).toDateString()===x}).length,subtitle:"dodanych dzi",color:"purple"})]}),l(de,{children:g("div",{className:"p-6",children:[l("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Filtry"}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l(ci,{value:r,onChange:n,placeholder:"Szukaj audytw..."}),l(qr,{options:v,value:a,onChange:N=>o(N),placeholder:"Wybierz miasto"}),l(qr,{options:k,value:u,onChange:N=>d(N),placeholder:"Status zlecenia"})]})]})}),l("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:b.map(N=>l(de,{children:g("div",{className:"p-6",children:[l("div",{className:"flex justify-between items-start mb-4",children:g("div",{className:"flex-1",children:[g("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:["Audyt w ",N.city||"Nie podano miasta"]}),l("p",{className:"text-slate-600 text-sm mb-3",children:N.street_address||"Adres do uzgodnienia"}),N.status&&l("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${N.status==="active"?"bg-green-100 text-green-800":N.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:N.status})]})}),g("div",{className:"grid grid-cols-1 gap-2 text-sm text-slate-500 mb-4 sm:grid-cols-2",children:[g("div",{className:"flex items-center gap-1 min-w-0",children:[l(ur,{className:"w-4 h-4"}),g("span",{className:"truncate",children:[N.postal_code||""," ",N.city||"Nie podano"]})]}),g("div",{className:"flex items-center gap-1 min-w-0",children:[l(Ut,{className:"w-4 h-4"}),l("span",{className:"truncate",children:Wb(N.users)})]}),N.phone_number&&g("div",{className:"hidden sm:flex items-center gap-1 min-w-0",children:[l(Sn,{className:"w-4 h-4"}),l("span",{className:"truncate",children:N.phone_number})]}),g("div",{className:"flex items-center gap-1",children:[l(Lt,{className:"w-4 h-4"}),l("span",{className:"whitespace-nowrap",children:new Date(N.created_at).toLocaleDateString("pl")})]})]}),g("div",{className:"flex gap-2",children:[l(ne,{variant:"primary",className:"flex-1",onClick:()=>s(`/auditor/offer/new?requestId=${N.id}`),children:"Z ofert"}),l(ne,{variant:"outline",onClick:()=>s(`/auditor/marketplace/${N.id}`),children:"Szczegy"})]})]})},N.id))}),b.length===0&&l(de,{children:g("div",{className:"p-12 text-center",children:[l("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l(la,{className:"w-8 h-8 text-slate-400"})}),l("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Brak zlece audytu"}),l("p",{className:"text-slate-600",children:"Nie znaleziono zlece speniajcych wybrane kryteria."})]})})]})},Kb=()=>{const{user:s,delegatedUser:r}=as(),n=r||s,a=n==null?void 0:n.id,[o]=Sw(),u=o.get("requestId")||"",d=br(),[m,f]=R.useState({request_id:u,price:"",duration_days:"",description:""}),[y,_]=R.useState({});R.useEffect(()=>{u&&f(H=>({...H,request_id:u}))},[u]);const b=He({queryKey:["audit-requests"],queryFn:xr.getAuditRequests}),v=He({queryKey:["auditor-offers",a],queryFn:()=>xr.getAuditorOffers(),enabled:!!a}),k=qt({mutationFn:H=>xr.createAuditorOffer(H),onSuccess:()=>{d.invalidateQueries({queryKey:["auditor-offers"]}),f({request_id:u,price:"",duration_days:"",description:""}),_({})},onError:H=>{(H==null?void 0:H.code)==="23505"&&_({request_id:"Oferta na to zlecenie ju istnieje."})}});if(!n||!a)return l("div",{className:"p-6",children:l(ke,{type:"error",title:"Bd autoryzacji",message:"Zaloguj si ponownie, aby skada oferty."})});const{data:N=[],isLoading:x,error:S}=b,{data:z=[],isLoading:I,error:L}=v;if(x||I)return l("div",{className:"p-6 flex justify-center",children:l(Nt,{size:"lg"})});if(S||L)return l("div",{className:"p-6",children:l(ke,{type:"error",title:"Bd",message:"Nie mona pobra danych."})});const D=N.filter(H=>H.beneficiary_id!==a&&!z.some(K=>K.request_id===H.id));if(!u&&D.length===0)return l("div",{className:"p-6",children:l(ke,{type:"info",title:"Brak zlece",message:"Brak dostpnych zlece audytu."})});const B=(H,K)=>{f(we=>({...we,[H]:K})),y[H]&&_(we=>({...we,[H]:""}))},V=()=>{const H={};m.request_id||(H.request_id="Wybierz zlecenie audytu.");const K=Number(m.price);(!m.price||isNaN(K)||K<=0)&&(H.price="Podaj cen wiksz ni 0.");const we=Number(m.duration_days);return(!m.duration_days||isNaN(we)||we<=0||!Number.isInteger(we))&&(H.duration_days="Podaj liczb dni wiksz ni 0."),_(H),Object.keys(H).length===0},re=H=>{H.preventDefault(),V()&&k.mutate({request_id:m.request_id,auditor_id:a,price:Number(m.price),duration_days:Number(m.duration_days),description:m.description.trim()||void 0,status:"pending"})},he=N.find(H=>H.id===m.request_id);return g("div",{className:"p-6 space-y-6",children:[l("h1",{className:"text-3xl font-bold",children:"Nowa Oferta Audytu"}),k.isError&&l(ke,{type:"error",title:"Bd",message:"Nie udao si zoy oferty."}),k.isSuccess&&l(ke,{type:"success",title:"Sukces",message:"Oferta zostaa zoona."}),g("form",{onSubmit:re,className:"space-y-6",children:[l(Hn,{label:"Zlecenie audytu",error:y.request_id,required:!0,children:u&&he?g(de,{className:"p-4",children:[g("p",{children:[l("strong",{children:"Miasto:"})," ",he.city||""]}),g("p",{children:[l("strong",{children:"Adres:"})," ",he.street_address||""]}),l("input",{type:"hidden",name:"request_id",value:he.id})]}):g("select",{name:"request_id",value:m.request_id,onChange:H=>B("request_id",H.target.value),className:"w-full border p-2 rounded",children:[l("option",{value:"",children:"Wybierz zlecenie..."}),D.map(H=>g("option",{value:H.id,children:[H.city||"","  ",H.street_address||""]},H.id))]})}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l(Hn,{label:"Cena (PLN)",error:y.price,required:!0,children:l(Fu,{type:"number",name:"price",value:m.price,onChange:H=>B("price",H.target.value),placeholder:"np. 2500",min:"1",step:"0.01",icon:l(Zo,{className:"w-4 h-4"})})}),l(Hn,{label:"Czas realizacji (dni)",error:y.duration_days,required:!0,children:l(Fu,{type:"number",name:"duration_days",value:m.duration_days,onChange:H=>B("duration_days",H.target.value),placeholder:"np. 14",min:"1",step:"1",icon:l(es,{className:"w-4 h-4"})})})]}),l(Hn,{label:"Uwagi (opcjonalne)",children:l(Uu,{name:"description",value:m.description,onChange:H=>B("description",H.target.value),rows:4,placeholder:"Opis..."})}),g("div",{className:"flex gap-4",children:[g(ne,{type:"submit",variant:"primary",disabled:k.isPending,className:"flex items-center gap-2",children:[l(la,{className:"w-4 h-4"}),k.isPending?"Wysyanie...":"Z ofert"]}),l(ne,{type:"button",variant:"outline",onClick:()=>f({request_id:u,price:"",duration_days:"",description:""}),disabled:k.isPending,children:"Anuluj"})]})]})]})},Vb=()=>{const[s,r]=R.useState(""),[n,a]=R.useState(""),{data:o=[],isLoading:u,error:d,refetch:m}=He({queryKey:["auditor-offers"],queryFn:xr.getAuditorOffers}),f=o.filter(x=>{var I,L,D,B;const S=!s||((L=(I=x.audit_requests)==null?void 0:I.city)==null?void 0:L.toLowerCase().includes(s.toLowerCase()))||((B=(D=x.audit_requests)==null?void 0:D.street_address)==null?void 0:B.toLowerCase().includes(s.toLowerCase())),z=!n||x.status===n;return S&&z}),y=Array.from(new Set(o.map(x=>x.status).filter(Boolean))).map(x=>({value:x,label:x})),_=x=>{switch(x){case"accepted":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},b=x=>{switch(x){case"accepted":return"Zaakceptowana";case"rejected":return"Odrzucona";case"pending":return"Oczekujca";default:return x||"Nieznany"}};if(u)return l("div",{className:"p-6",children:l("div",{className:"flex items-center justify-center min-h-96",children:l(Nt,{size:"lg"})})});if(d)return l("div",{className:"p-6",children:l(ke,{type:"error",title:"Bd adowania",message:"Nie udao si zaadowa Twoich ofert",onRetry:()=>m()})});const v=o.filter(x=>x.status==="accepted"),k=o.filter(x=>x.status==="pending"),N=v.reduce((x,S)=>x+(S.price||0),0);return g("div",{className:"p-6 space-y-6",children:[l("div",{className:"flex justify-between items-center",children:g("div",{children:[l("h1",{className:"text-3xl font-bold text-slate-900",children:"Moje Oferty Audytu"}),l("p",{className:"text-slate-600 mt-1",children:"Zarzdzaj swoimi ofertami i led ich status"})]})}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l(ze,{icon:l(la,{className:"w-5 h-5"}),title:"Wszystkie oferty",value:o.length,subtitle:"zoonych ofert",color:"blue"}),l(ze,{icon:l(Lt,{className:"w-5 h-5"}),title:"Oczekujce",value:k.length,subtitle:"do rozpatrzenia",color:"yellow"}),l(ze,{icon:l(Zo,{className:"w-5 h-5"}),title:"Warto zaakceptowanych",value:`${N.toLocaleString("pl")} PLN`,subtitle:"czna warto",color:"green"})]}),l(de,{children:g("div",{className:"p-6",children:[l("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Filtry"}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l(ci,{value:s,onChange:r,placeholder:"Szukaj ofert..."}),l(qr,{options:y,value:n,onChange:x=>a(x),placeholder:"Status oferty"})]})]})}),l("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:f.map(x=>{var S,z,I,L,D;return l(de,{children:g("div",{className:"p-6",children:[l("div",{className:"flex justify-between items-start mb-4",children:g("div",{className:"flex-1",children:[g("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:["Audyt w ",((S=x.audit_requests)==null?void 0:S.city)||"Nie podano miasta"]}),l("p",{className:"text-slate-600 text-sm mb-3",children:((z=x.audit_requests)==null?void 0:z.street_address)||"Adres do uzgodnienia"}),l("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${_(x.status)}`,children:b(x.status)})]})}),g("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[g("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[l(Zo,{className:"w-4 h-4"}),g("span",{children:[((I=x.price)==null?void 0:I.toLocaleString("pl"))||"0"," PLN"]})]}),g("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[l(es,{className:"w-4 h-4"}),g("span",{children:[x.duration_days||0," dni"]})]})]}),g("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4",children:[g("div",{className:"flex items-center gap-1",children:[l(ur,{className:"w-4 h-4"}),g("span",{children:[((L=x.audit_requests)==null?void 0:L.postal_code)||""," ",((D=x.audit_requests)==null?void 0:D.city)||"Nie podano"]})]}),g("div",{className:"flex items-center gap-1",children:[l(Lt,{className:"w-4 h-4"}),l("span",{children:new Date(x.created_at).toLocaleDateString("pl")})]})]}),g("div",{className:"flex gap-2",children:[l(ne,{variant:"outline",className:"flex-1",children:"Szczegy"}),x.status==="pending"&&l(ne,{variant:"secondary",children:"Edytuj"})]})]})},x.id)})}),f.length===0&&l(de,{children:g("div",{className:"p-12 text-center",children:[l("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l(la,{className:"w-8 h-8 text-slate-400"})}),l("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Brak ofert"}),l("p",{className:"text-slate-600",children:"Nie znaleziono ofert speniajcych wybrane kryteria."})]})})]})},Qb=()=>{const{user:s,delegatedUser:r}=as(),n=r||s,a=n==null?void 0:n.id,[o,u]=R.useState(!1),[d,m]=R.useState(null),[f,y]=R.useState({name_or_company:"",certificate_data:"",description:""}),[_,b]=R.useState({}),v=br();if(!n||!a)return l("div",{className:"p-6",children:l(ke,{type:"error",title:"Bd",message:"Nie mona zaadowa danych uytkownika. Zaloguj si ponownie."})});const{data:k=[],isLoading:N,error:x,refetch:S}=He({queryKey:["auditor-portfolios",a],queryFn:xr.getAuditorPortfolios}),z=qt({mutationFn:G=>xr.createAuditorPortfolio(G),onSuccess:()=>{v.invalidateQueries({queryKey:["auditor-portfolios"]}),D()},onError:G=>{console.error("Error creating portfolio item:",G)}}),I=qt({mutationFn:({id:G,data:Pe})=>xr.updateAuditorPortfolio(G,Pe),onSuccess:()=>{v.invalidateQueries({queryKey:["auditor-portfolios"]}),D()},onError:G=>{console.error("Error updating portfolio item:",G)}}),L=qt({mutationFn:G=>xr.deleteAuditorPortfolio(G),onSuccess:()=>{v.invalidateQueries({queryKey:["auditor-portfolios"]})},onError:G=>{console.error("Error deleting portfolio item:",G)}}),D=()=>{y({name_or_company:"",certificate_data:"",description:""}),b({}),u(!1),m(null)},B=(G,Pe)=>{y(Xe=>({...Xe,[G]:Pe})),_[G]&&b(Xe=>({...Xe,[G]:""}))},V=()=>{const G={};return f.name_or_company.trim()||(G.name_or_company="Nazwa lub firma jest wymagana"),f.description.trim()||(G.description="Opis jest wymagany"),b(G),Object.keys(G).length===0},re=G=>{if(G.preventDefault(),!V())return;const Pe={auditor_id:a,name_or_company:f.name_or_company.trim(),certificate_data:f.certificate_data.trim(),description:f.description.trim()};d?I.mutate({id:d.id,data:Pe}):z.mutate(Pe)},he=G=>{m(G),y({name_or_company:G.name_or_company||"",certificate_data:G.certificate_data||"",description:G.description||""}),u(!0)},H=G=>{window.confirm("Czy na pewno chcesz usun ten element portfolio?")&&L.mutate(G)},K=z.isPending||I.isPending,we=z.isError||I.isError;return N?l("div",{className:"p-6",children:l("div",{className:"flex items-center justify-center min-h-96",children:l(Nt,{size:"lg"})})}):x?l("div",{className:"p-6",children:l(ke,{type:"error",title:"Bd adowania",message:"Nie udao si zaadowa portfolio",onRetry:()=>S()})}):g("div",{className:"p-6 space-y-6",children:[g("div",{className:"flex justify-between items-center",children:[g("div",{children:[l("h1",{className:"text-3xl font-bold text-slate-900",children:"Portfolio Audytora"}),l("p",{className:"text-slate-600 mt-1",children:"Zarzdzaj swoim dowiadczeniem i certyfikatami"})]}),g(ne,{variant:"primary",onClick:()=>u(!0),className:"flex items-center gap-2",children:[l(Nn,{className:"w-4 h-4"}),"Dodaj pozycj"]})]}),we&&l(ke,{type:"error",title:"Bd",message:"Nie udao si zapisa zmian. Sprbuj ponownie."}),(z.isSuccess||I.isSuccess)&&l(ke,{type:"success",title:"Sukces",message:d?"Portfolio zostao zaktualizowane!":"Nowa pozycja zostaa dodana do portfolio!"}),o&&l(de,{children:g("div",{className:"p-6",children:[g("div",{className:"flex justify-between items-center mb-6",children:[l("h2",{className:"text-lg font-semibold text-slate-900",children:d?"Edytuj pozycj":"Dodaj now pozycj"}),l(ne,{variant:"outline",onClick:D,children:"Anuluj"})]}),g("form",{onSubmit:re,className:"space-y-6",children:[l(Hn,{label:"Nazwa lub firma",error:_.name_or_company,required:!0,children:l(Fu,{value:f.name_or_company,onChange:G=>B("name_or_company",G.target.value),placeholder:"np. Certyfikowany Audytor Energetyczny",icon:l(Ut,{className:"w-4 h-4"})})}),l(Hn,{label:"Certyfikaty i uprawnienia",error:_.certificate_data,children:l(Uu,{value:f.certificate_data,onChange:G=>B("certificate_data",G.target.value),placeholder:"Opisz swoje certyfikaty, uprawnienia, licencje...",rows:3})}),l(Hn,{label:"Opis dowiadczenia",error:_.description,required:!0,children:l(Uu,{value:f.description,onChange:G=>B("description",G.target.value),placeholder:"Opisz swoje dowiadczenie, realizowane projekty, specjalizacje...",rows:4})}),g("div",{className:"flex gap-4",children:[g(ne,{variant:"primary",disabled:K,className:"flex items-center gap-2",children:[K?l(Nt,{size:"sm"}):d?l(Mu,{className:"w-4 h-4"}):l(Nn,{className:"w-4 h-4"}),K?"Zapisywanie...":d?"Zaktualizuj":"Dodaj pozycj"]}),l(ne,{variant:"outline",onClick:D,children:"Anuluj"})]})]})]})}),l("div",{className:"grid grid-cols-1 gap-6",children:k.map(G=>l(de,{children:g("div",{className:"p-6",children:[g("div",{className:"flex justify-between items-start mb-4",children:[g("div",{className:"flex-1",children:[g("div",{className:"flex items-center gap-2 mb-2",children:[l(Ut,{className:"w-5 h-5 text-slate-500"}),l("h3",{className:"text-lg font-semibold text-slate-900",children:G.name_or_company})]}),G.certificate_data&&g("div",{className:"mb-3",children:[g("div",{className:"flex items-center gap-2 mb-1",children:[l(Q_,{className:"w-4 h-4 text-slate-500"}),l("span",{className:"text-sm font-medium text-slate-700",children:"Certyfikaty:"})]}),l("p",{className:"text-slate-600 text-sm pl-6",children:G.certificate_data})]}),g("div",{className:"mb-3",children:[g("div",{className:"flex items-center gap-2 mb-1",children:[l($t,{className:"w-4 h-4 text-slate-500"}),l("span",{className:"text-sm font-medium text-slate-700",children:"Opis:"})]}),l("p",{className:"text-slate-600 text-sm pl-6",children:G.description})]})]}),g("div",{className:"flex gap-2",children:[l(ne,{variant:"outline",size:"sm",onClick:()=>he(G),children:l(Mu,{className:"w-4 h-4"})}),l(ne,{variant:"outline",size:"sm",onClick:()=>H(G.id),disabled:L.isPending,children:l(Gx,{className:"w-4 h-4"})})]})]}),g("div",{className:"text-xs text-slate-500",children:["Dodano: ",new Date(G.created_at).toLocaleDateString("pl"),G.updated_at&&G.updated_at!==G.created_at&&g("span",{className:"ml-2",children:[" Zaktualizowano: ",new Date(G.updated_at).toLocaleDateString("pl")]})]})]})},G.id))}),k.length===0&&!o&&l(de,{children:g("div",{className:"p-12 text-center",children:[l("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l(Ut,{className:"w-8 h-8 text-slate-400"})}),l("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Brak pozycji w portfolio"}),l("p",{className:"text-slate-600 mb-4",children:"Dodaj swoje dowiadczenie, certyfikaty i kompetencje."}),g(ne,{variant:"primary",onClick:()=>u(!0),className:"flex items-center gap-2",children:[l(Nn,{className:"w-4 h-4"}),"Dodaj pierwsz pozycj"]})]})})]})},Gb=()=>{var d,m;const{id:s}=Fm(),r=yt(),{data:n,isLoading:a,error:o,refetch:u}=He({queryKey:["audit-request",s],queryFn:()=>xr.getAuditRequestById(s),enabled:!!s});return a?l("div",{className:"p-6 flex justify-center",children:l(Nt,{size:"lg"})}):o||!n?l("div",{className:"p-6",children:l(ke,{type:"error",title:"Bd adowania",message:"Nie udao si zaadowa szczegw zlecenia.",onRetry:()=>u()})}):l("div",{className:"p-6",children:l(de,{children:g("div",{className:"p-6 space-y-4",children:[g("h2",{className:"text-xl font-bold",children:["Audyt w ",n.city||""]}),g("p",{children:[l("strong",{children:"Adres:"})," ",n.street_address||""]}),g("p",{children:[l("strong",{children:"Kod pocztowy:"})," ",n.postal_code||""]}),g("p",{children:[l("strong",{children:"Status:"})," ",n.status||""]}),g("p",{children:[l("strong",{children:"Zleceniodawca:"})," ",((d=n.users)==null?void 0:d.first_name)||((m=n.users)==null?void 0:m.email)||""]}),g("div",{className:"flex gap-4 pt-4",children:[l(ne,{variant:"primary",onClick:()=>r(`/auditor/offer/new?requestId=${n.id}`),children:"Z ofert"}),l(ne,{variant:"outline",onClick:()=>r(-1),children:"Wr"})]})]})})})},Zb=()=>g(kt,{children:[l(Re,{path:"/beneficiary/audit-request",element:g(it,{userRole:"beneficiary",children:[l(at,{}),l(Jb,{})]})}),l(Re,{path:"/beneficiary/my-requests",element:g(it,{userRole:"beneficiary",children:[l(at,{}),l(Xb,{})]})}),l(Re,{path:"/beneficiary/operator-contact",element:g(it,{userRole:"beneficiary",children:[l(at,{}),l(Yb,{})]})}),l(Re,{path:"/beneficiary/requests/:id",element:g(it,{userRole:"beneficiary",children:[l(at,{}),l(ek,{})]})}),l(Re,{path:"/beneficiary/service-request",element:g(it,{userRole:"beneficiary",children:[l(at,{}),l(tk,{})]})})]}),_r={async getServiceRequests(s){const{data:r,error:n}=await ie.from("service_requests").select(`
        *,
        contractor_offers(*)
      `).eq("beneficiary_id",s).order("created_at",{ascending:!1});if(n)throw n;return r||[]},async getServiceRequestById(s){const{data:r,error:n}=await ie.from("service_requests").select(`
        *,
        contractor_offers(*)
      `).eq("id",s).single();if(n)throw n;return r},async createServiceRequest(s){const{data:r,error:n}=await ie.from("service_requests").insert([{...s,status:"pending"}]).select().single();if(n)throw n;return r},async updateServiceRequest(s,r){const{data:n,error:a}=await ie.from("service_requests").update(r).eq("id",s).select().single();if(a)throw a;return n},async deleteServiceRequest(s){const{error:r}=await ie.from("service_requests").delete().eq("id",s);if(r)throw r},async getAuditRequests(s){const{data:r,error:n}=await ie.from("audit_requests").select(`
        *,
        auditor_offers(*)
      `).eq("beneficiary_id",s).order("created_at",{ascending:!1});if(n)throw n;return r||[]},async createAuditRequest(s){const{data:r,error:n}=await ie.from("audit_requests").insert([{...s,status:"pending"}]).select().single();if(n)throw n;return r},async acceptContractorOffer(s){const{error:r}=await ie.from("contractor_offers").update({status:"accepted"}).eq("id",s);if(r)throw r},async rejectContractorOffer(s){const{error:r}=await ie.from("contractor_offers").update({status:"rejected"}).eq("id",s);if(r)throw r},async acceptAuditorOffer(s){const{error:r}=await ie.from("auditor_offers").update({status:"accepted"}).eq("id",s);if(r)throw r},async rejectAuditorOffer(s){const{error:r}=await ie.from("auditor_offers").update({status:"rejected"}).eq("id",s);if(r)throw r}},Jb=()=>{const s=yt(),r=br(),{user:n,delegatedUser:a}=as(),o=a||n,u=o==null?void 0:o.id;if(!o||!u)return l(mt,{children:l(ke,{type:"error",title:"Bd",message:"Nie mona zaadowa danych uytkownika. Zaloguj si ponownie."})});const[d,m]=R.useState({postal_code:"",city:"",street_address:"",phone_number:""}),[f,y]=R.useState({}),{mutate:_,isPending:b,error:v}=qt({mutationFn:async x=>{console.log("Sending audit request with data:",{...x,beneficiary_id:u});try{const S=await _r.createAuditRequest({...x,beneficiary_id:u});return console.log("Audit request created successfully:",S),S}catch(S){throw console.error("Error creating audit request:",S),S}},onSuccess:()=>{r.invalidateQueries({queryKey:["audit-requests"]}),s("/beneficiary/my-requests")},onError:x=>{console.error("Mutation error:",x)}}),k=()=>{const x={};return d.postal_code.trim()||(x.postal_code="Kod pocztowy jest wymagany"),d.city.trim()||(x.city="Miasto jest wymagane"),d.street_address.trim()||(x.street_address="Adres jest wymagany"),d.phone_number.trim()||(x.phone_number="Telefon jest wymagany"),y(x),Object.keys(x).length===0};return g(mt,{children:[l(Pn,{title:"Nowe Zlecenie Audytora",subtitle:"Zamw audyt energetyczny"}),g(ct,{children:[v&&l(ke,{type:"error",title:"Bd",message:"Nie udao si utworzy zlecenia audytu."}),l(de,{children:g("form",{onSubmit:x=>{x.preventDefault(),k()&&_(d)},className:"p-6 space-y-6",children:[g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[l(ur,{className:"w-4 h-4"})," Kod pocztowy"]})}),l("input",{type:"text",value:d.postal_code,onChange:x=>{m(S=>({...S,postal_code:x.target.value})),y(S=>({...S,postal_code:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${f.postal_code?"border-red-500":"border-slate-300"}`,placeholder:"XX-XXX"}),f.postal_code&&l("p",{className:"text-red-500 text-sm mt-1",children:f.postal_code})]}),g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:"Miasto"}),l("input",{type:"text",value:d.city,onChange:x=>{m(S=>({...S,city:x.target.value})),y(S=>({...S,city:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${f.city?"border-red-500":"border-slate-300"}`,placeholder:"Nazwa miasta"}),f.city&&l("p",{className:"text-red-500 text-sm mt-1",children:f.city})]})]}),g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[l(Jo,{className:"w-4 h-4"})," Adres"]})}),l("input",{type:"text",value:d.street_address,onChange:x=>{m(S=>({...S,street_address:x.target.value})),y(S=>({...S,street_address:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${f.street_address?"border-red-500":"border-slate-300"}`,placeholder:"Ulica i numer domu"}),f.street_address&&l("p",{className:"text-red-500 text-sm mt-1",children:f.street_address})]}),g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[l(Sn,{className:"w-4 h-4"})," Telefon"]})}),l("input",{type:"tel",value:d.phone_number,onChange:x=>{m(S=>({...S,phone_number:x.target.value})),y(S=>({...S,phone_number:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${f.phone_number?"border-red-500":"border-slate-300"}`,placeholder:"XXX XXX XXX"}),f.phone_number&&l("p",{className:"text-red-500 text-sm mt-1",children:f.phone_number})]}),g("div",{className:"flex gap-3 pt-4",children:[l(ne,{variant:"primary",disabled:b,className:"flex-1",children:b?"Tworzenie":"Zamw audyt"}),l(ne,{variant:"outline",onClick:()=>s("/beneficiary/my-requests"),children:"Anuluj"})]})]})})]})]})},Xb=()=>{const s=yt(),{user:r,delegatedUser:n,loading:a}=as(),o=n||r,u=o==null?void 0:o.id,{data:d=[],isLoading:m,error:f}=He({queryKey:["service-requests",u],queryFn:()=>_r.getServiceRequests(u),enabled:!!u}),{data:y=[],isLoading:_,error:b}=He({queryKey:["audit-requests",u],queryFn:()=>_r.getAuditRequests(u),enabled:!!u}),v=m||_,k=f||b;if(a)return l(ss,{size:"lg"});if(!o||!u)return l(mt,{children:l(ke,{type:"error",title:"Bd",message:"Nie mona zaadowa danych uytkownika. Zaloguj si ponownie."})});if(v)return l(ss,{size:"lg"});if(k)return l(mt,{children:l(ct,{children:l(ke,{type:"error",title:"Bd",message:"Nie udao si zaadowa zlece."})})});const N=[...d.map(x=>({...x,type:"service"})),...y.map(x=>({...x,type:"audit"}))].sort((x,S)=>new Date(S.created_at).getTime()-new Date(x.created_at).getTime());return g(mt,{children:[l(Pn,{title:"Moje Zlecenia",subtitle:"Zarzdzaj swoimi zleceniami"}),l(ct,{children:g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l(ze,{icon:l($t,{}),title:"Wszystkie",value:N.length}),l(ze,{icon:l(Lt,{}),title:"Oczekujce",value:N.filter(x=>x.status==="pending").length,color:"yellow"}),l(ze,{icon:l(cr,{}),title:"Zweryfikowane",value:N.filter(x=>x.status==="verified").length,color:"green"})]})}),g(ct,{children:[g("div",{className:"flex justify-between items-center mb-4",children:[l("h2",{className:"text-lg font-semibold",children:"Lista zlece"}),g("div",{className:"flex gap-2",children:[l(ne,{variant:"outline",onClick:()=>s("/beneficiary/service-request"),children:"Nowe zlecenie wykonawcy"}),l(ne,{variant:"primary",onClick:()=>s("/beneficiary/audit-request"),children:"Nowe zlecenie audytora"})]})]}),N.length>0?l("div",{className:"space-y-4",children:N.map(x=>{var S,z;return l(de,{children:g("div",{className:"p-6",children:[g("div",{className:"flex justify-between items-start mb-4",children:[g("div",{children:[g("div",{className:"flex items-center gap-2 mb-2",children:[l("span",{className:`px-2 py-1 rounded text-xs font-medium ${x.type==="service"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:x.type==="service"?"Wykonawca":"Audytor"}),l("span",{className:`px-2 py-1 rounded text-xs font-medium ${x.status==="pending"?"bg-yellow-100 text-yellow-800":x.status==="verified"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.status==="pending"?"Oczekujce":x.status==="verified"?"Zweryfikowane":"Odrzucone"})]}),g("h3",{className:"font-medium text-lg",children:[x.city,", ",x.street_address]}),l("p",{className:"text-slate-600",children:x.postal_code})]}),l(ne,{variant:"outline",onClick:()=>s(`/beneficiary/requests/${x.id}`),children:"Szczegy"})]}),g("div",{className:"text-sm text-slate-500",children:["Utworzone: ",new Date(x.created_at).toLocaleDateString("pl")]}),x.type==="service"&&((S=x.contractor_offers)==null?void 0:S.length)>0&&l("div",{className:"mt-3 text-sm",children:g("span",{className:"text-green-600 font-medium",children:[x.contractor_offers.length," ofert"]})}),x.type==="audit"&&((z=x.auditor_offers)==null?void 0:z.length)>0&&l("div",{className:"mt-3 text-sm",children:g("span",{className:"text-green-600 font-medium",children:[x.auditor_offers.length," ofert"]})})]})},`${x.type}-${x.id}`)})}):l(gy,{icon:l($t,{}),title:"Brak zlece",message:"Nie masz jeszcze adnych zlece."})]})]})},Yb=()=>{const[s,r]=R.useState({subject:"",message:"",priority:"medium"}),[n,a]=R.useState({}),[o,u]=R.useState(!1),d=()=>{const f={};return s.subject.trim()||(f.subject="Temat jest wymagany"),s.message.trim()||(f.message="Wiadomo jest wymagana"),a(f),Object.keys(f).length===0};return g(mt,{children:[l(Pn,{title:"Kontakt z Operatorem",subtitle:"Skontaktuj si z naszym zespoem wsparcia"}),g(ct,{children:[o&&l(ke,{type:"success",title:"Wiadomo wysana",message:"Twoja wiadomo zostaa wysana. Skontaktujemy si z Tob wkrtce."}),g("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l("div",{className:"lg:col-span-2",children:l(de,{children:g("form",{onSubmit:f=>{f.preventDefault(),d()&&(console.log("Wysyanie wiadomoci:",s),u(!0),r({subject:"",message:"",priority:"medium"}))},className:"p-6 space-y-6",children:[g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:"Temat"}),l("input",{type:"text",value:s.subject,onChange:f=>{r(y=>({...y,subject:f.target.value})),a(y=>({...y,subject:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${n.subject?"border-red-500":"border-slate-300"}`,placeholder:"Krtko opisz problem lub pytanie"}),n.subject&&l("p",{className:"text-red-500 text-sm mt-1",children:n.subject})]}),g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:"Priorytet"}),g("select",{value:s.priority,onChange:f=>r(y=>({...y,priority:f.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2",children:[l("option",{value:"low",children:"Niski"}),l("option",{value:"medium",children:"redni"}),l("option",{value:"high",children:"Wysoki"})]})]}),g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:"Wiadomo"}),l("textarea",{rows:8,value:s.message,onChange:f=>{r(y=>({...y,message:f.target.value})),a(y=>({...y,message:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 resize-none ${n.message?"border-red-500":"border-slate-300"}`,placeholder:"Opisz szczegowo swoje pytanie lub problem..."}),n.message&&l("p",{className:"text-red-500 text-sm mt-1",children:n.message})]}),l(ne,{variant:"primary",className:"w-full",children:"Wylij wiadomo"})]})})}),g("div",{children:[l(de,{children:g("div",{className:"p-6",children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Informacje kontaktowe"}),g("div",{className:"space-y-4",children:[g("div",{children:[g("div",{className:"flex items-center gap-2 mb-2",children:[l(Sn,{className:"w-4 h-4 text-blue-600"}),l("span",{className:"font-medium",children:"Telefon"})]}),l("p",{className:"text-slate-600",children:"+48 800 123 456"}),l("p",{className:"text-sm text-slate-500",children:"Pon-Pt 8:00-16:00"})]}),g("div",{children:[g("div",{className:"flex items-center gap-2 mb-2",children:[l($t,{className:"w-4 h-4 text-blue-600"}),l("span",{className:"font-medium",children:"Email"})]}),l("p",{className:"text-slate-600",children:"pomoc@e-operator.pl"})]}),g("div",{children:[g("div",{className:"flex items-center gap-2 mb-2",children:[l(Lt,{className:"w-4 h-4 text-blue-600"}),l("span",{className:"font-medium",children:"Czas odpowiedzi"})]}),l("p",{className:"text-slate-600",children:"Do 24 godzin"})]})]})]})}),l(de,{className:"mt-6",children:g("div",{className:"p-6",children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Najczstsze pytania"}),g("div",{className:"space-y-3",children:[g("details",{className:"group",children:[l("summary",{className:"cursor-pointer font-medium",children:"Jak dugo trwa weryfikacja zlecenia?"}),l("p",{className:"text-sm text-slate-600 mt-2",children:"Weryfikacja zlecenia zwykle trwa 1-2 dni robocze."})]}),g("details",{className:"group",children:[l("summary",{className:"cursor-pointer font-medium",children:"Czy mog anulowa zlecenie?"}),l("p",{className:"text-sm text-slate-600 mt-2",children:"Tak, zlecenia mona anulowa przed ich weryfikacj."})]}),g("details",{className:"group",children:[l("summary",{className:"cursor-pointer font-medium",children:"Jak wybra najlepsz ofert?"}),l("p",{className:"text-sm text-slate-600 mt-2",children:"Porwnaj ceny, zakres prac i opinie innych klientw."})]})]})]})})]})]})]})]})},ek=()=>{const{id:s}=Fm(),r=yt(),n=br(),{user:a,delegatedUser:o}=as(),u=o||a,d=u==null?void 0:u.id;if(!u||!d)return l(mt,{children:l(ke,{type:"error",title:"Bd",message:"Nie mona zaadowa danych uytkownika. Zaloguj si ponownie."})});const{data:m,isLoading:f,error:y}=He({queryKey:["service-request",s],queryFn:()=>_r.getServiceRequestById(s),enabled:!!s,retry:!1}),{data:_,isLoading:b,error:v}=He({queryKey:["audit-requests",d],queryFn:()=>_r.getAuditRequests(d),enabled:!!s&&!m&&!f}),k=_==null?void 0:_.find(K=>K.id===s),N=f||b,x=m||k,S=m?"service":k?"audit":null,{mutate:z}=qt({mutationFn:_r.acceptContractorOffer,onSuccess:()=>{n.invalidateQueries({queryKey:["service-request",s]})}}),{mutate:I}=qt({mutationFn:_r.rejectContractorOffer,onSuccess:()=>{n.invalidateQueries({queryKey:["service-request",s]})}}),{mutate:L}=qt({mutationFn:_r.acceptAuditorOffer,onSuccess:()=>{n.invalidateQueries({queryKey:["audit-requests",d]})}}),{mutate:D}=qt({mutationFn:_r.rejectAuditorOffer,onSuccess:()=>{n.invalidateQueries({queryKey:["audit-requests",d]})}}),B=K=>{switch(K){case"pending":return l(yy,{className:"w-4 h-4 text-yellow-600"});case"verified":return l(cr,{className:"w-4 h-4 text-green-600"});case"accepted":return l(cr,{className:"w-4 h-4 text-green-600"});default:return l(Ws,{className:"w-4 h-4 text-red-600"})}},V=K=>{switch(K){case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"verified":return"bg-green-50 text-green-700 border-green-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";default:return"bg-red-50 text-red-700 border-red-200"}},re=K=>{switch(K){case"pending":return"Oczekujce";case"verified":return"Zweryfikowane";case"accepted":return"Zaakceptowane";default:return"Odrzucone"}},he=K=>l(Vx,{className:"w-4 h-4 text-orange-600"}),H=K=>{switch(K){case"pompa_ciepla":return"Pompa ciepa";case"piec_pellet":return"Piec na pellet";default:return"Piec zgazowujcy"}};return N?l(ss,{size:"lg"}):x?g(mt,{children:[g("div",{className:"mb-6",children:[g(ne,{variant:"outline",size:"sm",onClick:()=>r("/beneficiary/my-requests"),className:"mb-4 inline-flex items-center gap-2",children:[l(q_,{className:"w-4 h-4"}),"Powrt do listy"]}),g("div",{children:[g("div",{className:"flex items-center gap-3 mb-2",children:[l("h1",{className:"text-3xl font-bold text-slate-900",children:"Szczegy Zlecenia"}),l("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${S==="service"?"bg-blue-50 text-blue-700 border-blue-200":"bg-purple-50 text-purple-700 border-purple-200"}`,children:S==="service"?"Wykonawca":"Audytor"})]}),g("div",{className:"flex items-center gap-2 text-slate-600",children:[l(ur,{className:"w-4 h-4"}),g("span",{children:[x.city,", ",x.street_address]})]})]})]}),g("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[g("div",{className:"xl:col-span-3 space-y-6",children:[l(de,{children:g("div",{className:"p-6",children:[g("div",{className:"flex items-center justify-between mb-6",children:[l("h3",{className:"text-xl font-semibold text-slate-900",children:"Informacje podstawowe"}),g("div",{className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg border font-medium ${V(x.status)}`,children:[B(x.status),l("span",{children:re(x.status)})]})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g("div",{className:"flex items-start gap-3",children:[l(ur,{className:"w-5 h-5 text-slate-400 mt-0.5"}),g("div",{children:[l("div",{className:"text-sm text-slate-500",children:"Kod pocztowy"}),l("div",{className:"font-medium",children:x.postal_code})]})]}),g("div",{className:"flex items-start gap-3",children:[l(Jo,{className:"w-5 h-5 text-slate-400 mt-0.5"}),g("div",{children:[l("div",{className:"text-sm text-slate-500",children:"Miasto"}),l("div",{className:"font-medium",children:x.city})]})]}),g("div",{className:"flex items-start gap-3",children:[l(ur,{className:"w-5 h-5 text-slate-400 mt-0.5"}),g("div",{children:[l("div",{className:"text-sm text-slate-500",children:"Adres"}),l("div",{className:"font-medium",children:x.street_address})]})]}),g("div",{className:"flex items-start gap-3",children:[l(Sn,{className:"w-5 h-5 text-slate-400 mt-0.5"}),g("div",{children:[l("div",{className:"text-sm text-slate-500",children:"Telefon"}),l("div",{className:"font-medium",children:x.phone_number})]})]}),g("div",{className:"flex items-start gap-3",children:[l(es,{className:"w-5 h-5 text-slate-400 mt-0.5"}),g("div",{children:[l("div",{className:"text-sm text-slate-500",children:"Data utworzenia"}),l("div",{className:"font-medium",children:new Date(x.created_at).toLocaleDateString("pl")})]})]})]})]})}),S==="service"&&m&&(m.heat_source||m.windows_count||m.doors_count||m.wall_insulation_m2||m.attic_insulation_m2)&&l(de,{children:g("div",{className:"p-6",children:[l("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Parametry techniczne"}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.heat_source&&g("div",{className:"flex items-start gap-3 p-4 bg-orange-50 rounded-lg border border-orange-100",children:[he(m.heat_source),g("div",{children:[l("div",{className:"text-sm text-orange-600 font-medium",children:"rdo ciepa"}),l("div",{className:"font-semibold text-orange-800",children:H(m.heat_source)})]})]}),m.windows_count&&g("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[l(Wx,{className:"w-5 h-5 text-blue-600 mt-0.5"}),g("div",{children:[l("div",{className:"text-sm text-blue-600 font-medium",children:"Liczba okien"}),l("div",{className:"font-semibold text-blue-800",children:m.windows_count})]})]}),m.doors_count&&g("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border border-green-100",children:[l(fx,{className:"w-5 h-5 text-green-600 mt-0.5"}),g("div",{children:[l("div",{className:"text-sm text-green-600 font-medium",children:"Liczba drzwi"}),l("div",{className:"font-semibold text-green-800",children:m.doors_count})]})]}),m.wall_insulation_m2&&g("div",{className:"flex items-start gap-3 p-4 bg-purple-50 rounded-lg border border-purple-100",children:[l(el,{className:"w-5 h-5 text-purple-600 mt-0.5"}),g("div",{children:[l("div",{className:"text-sm text-purple-600 font-medium",children:"Izolacja cian"}),g("div",{className:"font-semibold text-purple-800",children:[m.wall_insulation_m2," m"]})]})]}),m.attic_insulation_m2&&g("div",{className:"flex items-start gap-3 p-4 bg-indigo-50 rounded-lg border border-indigo-100",children:[l(Jo,{className:"w-5 h-5 text-indigo-600 mt-0.5"}),g("div",{children:[l("div",{className:"text-sm text-indigo-600 font-medium",children:"Izolacja poddasza"}),g("div",{className:"font-semibold text-indigo-800",children:[m.attic_insulation_m2," m"]})]})]})]})]})}),S==="service"&&(m==null?void 0:m.contractor_offers)&&m.contractor_offers.length>0&&l(de,{children:g("div",{className:"p-6",children:[g("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:["Oferty wykonawcw (",m.contractor_offers.length,")"]}),l("div",{className:"space-y-4",children:m.contractor_offers.map(K=>l("div",{className:"border border-slate-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:g("div",{className:"flex justify-between items-start",children:[g("div",{className:"flex-1",children:[g("div",{className:"flex items-center gap-3 mb-3",children:[g("div",{className:"flex items-center gap-2",children:[l(rm,{className:"w-5 h-5 text-green-600"}),g("span",{className:"font-bold text-2xl text-green-700",children:[K.price.toLocaleString("pl")," z"]})]}),g("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium border ${V(K.status)}`,children:[B(K.status),l("span",{children:re(K.status)})]})]}),g("div",{className:"bg-slate-50 rounded-lg p-4 mb-3",children:[l("div",{className:"text-sm text-slate-600 font-medium mb-1",children:"Zakres prac:"}),l("p",{className:"text-slate-700",children:K.scope})]}),g("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[l(es,{className:"w-4 h-4"}),g("span",{children:["Zoona: ",new Date(K.created_at).toLocaleDateString("pl")]})]})]}),K.status==="pending"&&g("div",{className:"flex gap-2 ml-6",children:[g(ne,{variant:"primary",size:"sm",onClick:()=>z(K.id),className:"inline-flex items-center gap-2",children:[l(cr,{className:"w-4 h-4"}),"Akceptuj"]}),g(ne,{variant:"outline",size:"sm",onClick:()=>I(K.id),className:"inline-flex items-center gap-2",children:[l(Ws,{className:"w-4 h-4"}),"Odrzu"]})]})]})},K.id))})]})}),S==="audit"&&(k==null?void 0:k.auditor_offers)&&k.auditor_offers.length>0&&l(de,{children:g("div",{className:"p-6",children:[g("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:["Oferty audytorw (",k.auditor_offers.length,")"]}),l("div",{className:"space-y-4",children:k.auditor_offers.map(K=>l("div",{className:"border border-slate-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:g("div",{className:"flex justify-between items-start",children:[g("div",{className:"flex-1",children:[g("div",{className:"flex items-center gap-3 mb-3",children:[g("div",{className:"flex items-center gap-2",children:[l(rm,{className:"w-5 h-5 text-purple-600"}),g("span",{className:"font-bold text-2xl text-purple-700",children:[K.price.toLocaleString("pl")," z"]})]}),g("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium border ${V(K.status)}`,children:[B(K.status),l("span",{children:re(K.status)})]})]}),l("div",{className:"bg-purple-50 rounded-lg p-4 mb-3",children:g("div",{className:"flex items-center gap-2 text-purple-700",children:[l(Lt,{className:"w-4 h-4"}),g("span",{className:"font-medium",children:["Czas realizacji: ",K.duration_days," dni"]})]})}),g("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[l(es,{className:"w-4 h-4"}),g("span",{children:["Zoona: ",new Date(K.created_at).toLocaleDateString("pl")]})]})]}),K.status==="pending"&&g("div",{className:"flex gap-2 ml-6",children:[g(ne,{variant:"primary",size:"sm",onClick:()=>L(K.id),className:"inline-flex items-center gap-2",children:[l(cr,{className:"w-4 h-4"}),"Akceptuj"]}),g(ne,{variant:"outline",size:"sm",onClick:()=>D(K.id),className:"inline-flex items-center gap-2",children:[l(Ws,{className:"w-4 h-4"}),"Odrzu"]})]})]})},K.id))})]})})]}),l("div",{className:"xl:col-span-1",children:g("div",{className:"sticky top-6 space-y-6",children:[l(de,{children:g("div",{className:"p-6",children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Szybkie akcje"}),g("div",{className:"space-y-3",children:[x.status==="pending"&&g(ne,{variant:"primary",className:"w-full inline-flex items-center gap-2",children:[l(Ox,{className:"w-4 h-4"}),"Edytuj zlecenie"]}),l(ne,{variant:"outline",className:"w-full",onClick:()=>r("/beneficiary/operator-contact"),children:"Kontakt z operatorem"})]})]})}),l(de,{children:g("div",{className:"p-6",children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Informacje"}),g("div",{className:"space-y-4 text-sm",children:[g("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[l("div",{className:"font-medium text-blue-800 mb-1",children:"Status zlecenia"}),g("div",{className:"text-blue-700",children:[x.status==="pending"&&"Zlecenie oczekuje na weryfikacj przez operatora.",x.status==="verified"&&"Zlecenie zostao zweryfikowane i jest dostpne dla wykonawcw.",x.status==="rejected"&&"Zlecenie zostao odrzucone. Skontaktuj si z operatorem."]})]}),S==="service"&&(m==null?void 0:m.contractor_offers)&&m.contractor_offers.length>0&&g("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[l("div",{className:"font-medium text-green-800 mb-1",children:"Otrzymane oferty"}),g("div",{className:"text-green-700",children:["Masz ",m.contractor_offers.length," ofert od wykonawcw. Porwnaj je i wybierz najlepsz."]})]})]})]})})]})})]})]}):l(mt,{children:l(ct,{children:l(ke,{type:"error",title:"Bd",message:"Nie udao si zaadowa szczegw zlecenia."})})})},tk=()=>{const s=yt(),r=br(),n="current-beneficiary-id",[a,o]=R.useState({postal_code:"",city:"",street_address:"",phone_number:"",heat_source:void 0,windows_count:void 0,doors_count:void 0,wall_insulation_m2:void 0,attic_insulation_m2:void 0}),[u,d]=R.useState({}),{mutate:m,isPending:f,error:y}=qt({mutationFn:v=>_r.createServiceRequest({...v,beneficiary_id:n}),onSuccess:()=>{r.invalidateQueries({queryKey:["service-requests"]}),s("/beneficiary/my-requests")}}),_=()=>{const v={};return a.postal_code.trim()||(v.postal_code="Kod pocztowy jest wymagany"),a.city.trim()||(v.city="Miasto jest wymagane"),a.street_address.trim()||(v.street_address="Adres jest wymagany"),a.phone_number.trim()||(v.phone_number="Telefon jest wymagany"),d(v),Object.keys(v).length===0};return g(mt,{children:[l(Pn,{title:"Nowe Zlecenie Wykonawcy",subtitle:"Utwrz zlecenie dla wykonawcw"}),g(ct,{children:[y&&l(ke,{type:"error",title:"Bd",message:"Nie udao si utworzy zlecenia."}),l(de,{children:g("form",{onSubmit:v=>{v.preventDefault(),_()&&m(a)},className:"p-6 space-y-6",children:[g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[l(ur,{className:"w-4 h-4"})," Kod pocztowy"]})}),l("input",{type:"text",value:a.postal_code,onChange:v=>{o(k=>({...k,postal_code:v.target.value})),d(k=>({...k,postal_code:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${u.postal_code?"border-red-500":"border-slate-300"}`,placeholder:"XX-XXX"}),u.postal_code&&l("p",{className:"text-red-500 text-sm mt-1",children:u.postal_code})]}),g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:"Miasto"}),l("input",{type:"text",value:a.city,onChange:v=>{o(k=>({...k,city:v.target.value})),d(k=>({...k,city:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${u.city?"border-red-500":"border-slate-300"}`,placeholder:"Nazwa miasta"}),u.city&&l("p",{className:"text-red-500 text-sm mt-1",children:u.city})]})]}),g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[l(Jo,{className:"w-4 h-4"})," Adres"]})}),l("input",{type:"text",value:a.street_address,onChange:v=>{o(k=>({...k,street_address:v.target.value})),d(k=>({...k,street_address:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${u.street_address?"border-red-500":"border-slate-300"}`,placeholder:"Ulica i numer domu"}),u.street_address&&l("p",{className:"text-red-500 text-sm mt-1",children:u.street_address})]}),g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[l(Sn,{className:"w-4 h-4"})," Telefon"]})}),l("input",{type:"tel",value:a.phone_number,onChange:v=>{o(k=>({...k,phone_number:v.target.value})),d(k=>({...k,phone_number:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${u.phone_number?"border-red-500":"border-slate-300"}`,placeholder:"XXX XXX XXX"}),u.phone_number&&l("p",{className:"text-red-500 text-sm mt-1",children:u.phone_number})]}),g("div",{className:"border-t pt-6",children:[l("h3",{className:"text-lg font-medium mb-4",children:"Parametry techniczne (opcjonalne)"}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:"rdo ciepa"}),g("select",{value:a.heat_source||"",onChange:v=>o(k=>({...k,heat_source:v.target.value||void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2",children:[l("option",{value:"",children:"Wybierz..."}),l("option",{value:"pompa_ciepla",children:"Pompa ciepa"}),l("option",{value:"piec_pellet",children:"Piec na pellet"}),l("option",{value:"piec_zgazowujacy",children:"Piec zgazowujcy"})]})]}),g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:"Liczba okien"}),l("input",{type:"number",min:"0",value:a.windows_count||"",onChange:v=>o(k=>({...k,windows_count:v.target.value?Number(v.target.value):void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2",placeholder:"0"})]}),g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:"Liczba drzwi"}),l("input",{type:"number",min:"0",value:a.doors_count||"",onChange:v=>o(k=>({...k,doors_count:v.target.value?Number(v.target.value):void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2",placeholder:"0"})]}),g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:"Izolacja cian (m)"}),l("input",{type:"number",min:"0",value:a.wall_insulation_m2||"",onChange:v=>o(k=>({...k,wall_insulation_m2:v.target.value?Number(v.target.value):void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2",placeholder:"0"})]}),g("div",{children:[l("label",{className:"block text-sm font-medium mb-2",children:"Izolacja poddasza (m)"}),l("input",{type:"number",min:"0",value:a.attic_insulation_m2||"",onChange:v=>o(k=>({...k,attic_insulation_m2:v.target.value?Number(v.target.value):void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2",placeholder:"0"})]})]})]}),g("div",{className:"flex gap-3 pt-4",children:[l(ne,{variant:"primary",disabled:f,className:"flex-1",children:f?"Tworzenie":"Utwrz zlecenie"}),l(ne,{variant:"outline",onClick:()=>s("/beneficiary/my-requests"),children:"Anuluj"})]})]})})]})]})},rk=new U0({});function nk(){return g(Q0,{client:rk,children:[l(L_,{children:l(xw,{children:g("main",{className:" min-h-screen",children:[g(Zv,{children:[lb(),hb(),yb(),Zb(),$b(),Lb(),Bb()]}),l("div",{className:"fixed bottom-4 right-4 z-40",children:l(vb,{})})]})})}),l(zw,{})]})}const sk=document.getElementById("root"),ik=k0.createRoot(sk);ik.render(l(g0.StrictMode,{children:l(nk,{})}));export{gm as a,m0 as g};
