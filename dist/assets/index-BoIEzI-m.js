var Yf=s=>{throw TypeError(s)};var Qc=(s,r,n)=>r.has(s)||Yf("Cannot "+n);var E=(s,r,n)=>(Qc(s,r,"read from private field"),n?n.call(s):r.get(s)),se=(s,r,n)=>r.has(s)?Yf("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(s):r.set(s,n),J=(s,r,n,a)=>(Qc(s,r,"write to private field"),a?a.call(s,n):r.set(s,n),n),me=(s,r,n)=>(Qc(s,r,"access private method"),n);var Ro=(s,r,n,a)=>({set _(o){J(s,r,o,n)},get _(){return E(s,r,a)}});(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function fm(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function dv(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var r=s.default;if(typeof r=="function"){var n=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(a){var o=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return s[a]}})}),n}var Gc={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function hv(){if(ep)return ge;ep=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function N(j,U,ne){this.props=j,this.context=U,this.refs=x,this.updater=ne||k}N.prototype.isReactComponent={},N.prototype.setState=function(j,U){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,U,"setState")},N.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function z(){}z.prototype=N.prototype;function I(j,U,ne){this.props=j,this.context=U,this.refs=x,this.updater=ne||k}var L=I.prototype=new z;L.constructor=I,S(L,N.prototype),L.isPureReactComponent=!0;var D=Array.isArray,M=Object.prototype.hasOwnProperty,G={current:null},re={key:!0,ref:!0,__self:!0,__source:!0};function fe(j,U,ne){var xe,ye={},Ae=null,Ne=null;if(U!=null)for(xe in U.ref!==void 0&&(Ne=U.ref),U.key!==void 0&&(Ae=""+U.key),U)M.call(U,xe)&&!re.hasOwnProperty(xe)&&(ye[xe]=U[xe]);var Oe=arguments.length-2;if(Oe===1)ye.children=ne;else if(1<Oe){for(var Ee=Array(Oe),bt=0;bt<Oe;bt++)Ee[bt]=arguments[bt+2];ye.children=Ee}if(j&&j.defaultProps)for(xe in Oe=j.defaultProps,Oe)ye[xe]===void 0&&(ye[xe]=Oe[xe]);return{$$typeof:s,type:j,key:Ae,ref:Ne,props:ye,_owner:G.current}}function W(j,U){return{$$typeof:s,type:j.type,key:U,ref:j.ref,props:j.props,_owner:j._owner}}function te(j){return typeof j=="object"&&j!==null&&j.$$typeof===s}function we(j){var U={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ne){return U[ne]})}var V=/\/+/g;function be(j,U){return typeof j=="object"&&j!==null&&j.key!=null?we(""+j.key):U.toString(36)}function Ye(j,U,ne,xe,ye){var Ae=typeof j;(Ae==="undefined"||Ae==="boolean")&&(j=null);var Ne=!1;if(j===null)Ne=!0;else switch(Ae){case"string":case"number":Ne=!0;break;case"object":switch(j.$$typeof){case s:case r:Ne=!0}}if(Ne)return Ne=j,ye=ye(Ne),j=xe===""?"."+be(Ne,0):xe,D(ye)?(ne="",j!=null&&(ne=j.replace(V,"$&/")+"/"),Ye(ye,U,ne,"",function(bt){return bt})):ye!=null&&(te(ye)&&(ye=W(ye,ne+(!ye.key||Ne&&Ne.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+j)),U.push(ye)),1;if(Ne=0,xe=xe===""?".":xe+":",D(j))for(var Oe=0;Oe<j.length;Oe++){Ae=j[Oe];var Ee=xe+be(Ae,Oe);Ne+=Ye(Ae,U,ne,Ee,ye)}else if(Ee=w(j),typeof Ee=="function")for(j=Ee.call(j),Oe=0;!(Ae=j.next()).done;)Ae=Ae.value,Ee=xe+be(Ae,Oe++),Ne+=Ye(Ae,U,ne,Ee,ye);else if(Ae==="object")throw U=String(j),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Ne}function qt(j,U,ne){if(j==null)return j;var xe=[],ye=0;return Ye(j,xe,"","",function(Ae){return U.call(ne,Ae,ye++)}),xe}function et(j){if(j._status===-1){var U=j._result;U=U(),U.then(function(ne){(j._status===0||j._status===-1)&&(j._status=1,j._result=ne)},function(ne){(j._status===0||j._status===-1)&&(j._status=2,j._result=ne)}),j._status===-1&&(j._status=0,j._result=U)}if(j._status===1)return j._result.default;throw j._result}var Te={current:null},K={transition:null},ce={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:K,ReactCurrentOwner:G};return ge.Children={map:qt,forEach:function(j,U,ne){qt(j,function(){U.apply(this,arguments)},ne)},count:function(j){var U=0;return qt(j,function(){U++}),U},toArray:function(j){return qt(j,function(U){return U})||[]},only:function(j){if(!te(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},ge.Component=N,ge.Fragment=n,ge.Profiler=o,ge.PureComponent=I,ge.StrictMode=a,ge.Suspense=p,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,ge.cloneElement=function(j,U,ne){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var xe=S({},j.props),ye=j.key,Ae=j.ref,Ne=j._owner;if(U!=null){if(U.ref!==void 0&&(Ae=U.ref,Ne=G.current),U.key!==void 0&&(ye=""+U.key),j.type&&j.type.defaultProps)var Oe=j.type.defaultProps;for(Ee in U)M.call(U,Ee)&&!re.hasOwnProperty(Ee)&&(xe[Ee]=U[Ee]===void 0&&Oe!==void 0?Oe[Ee]:U[Ee])}var Ee=arguments.length-2;if(Ee===1)xe.children=ne;else if(1<Ee){Oe=Array(Ee);for(var bt=0;bt<Ee;bt++)Oe[bt]=arguments[bt+2];xe.children=Oe}return{$$typeof:s,type:j.type,key:ye,ref:Ae,props:xe,_owner:Ne}},ge.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:u,_context:j},j.Consumer=j},ge.createElement=fe,ge.createFactory=function(j){var U=fe.bind(null,j);return U.type=j,U},ge.createRef=function(){return{current:null}},ge.forwardRef=function(j){return{$$typeof:m,render:j}},ge.isValidElement=te,ge.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:et}},ge.memo=function(j,U){return{$$typeof:y,type:j,compare:U===void 0?null:U}},ge.startTransition=function(j){var U=K.transition;K.transition={};try{j()}finally{K.transition=U}},ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},ge.useCallback=function(j,U){return Te.current.useCallback(j,U)},ge.useContext=function(j){return Te.current.useContext(j)},ge.useDebugValue=function(){},ge.useDeferredValue=function(j){return Te.current.useDeferredValue(j)},ge.useEffect=function(j,U){return Te.current.useEffect(j,U)},ge.useId=function(){return Te.current.useId()},ge.useImperativeHandle=function(j,U,ne){return Te.current.useImperativeHandle(j,U,ne)},ge.useInsertionEffect=function(j,U){return Te.current.useInsertionEffect(j,U)},ge.useLayoutEffect=function(j,U){return Te.current.useLayoutEffect(j,U)},ge.useMemo=function(j,U){return Te.current.useMemo(j,U)},ge.useReducer=function(j,U,ne){return Te.current.useReducer(j,U,ne)},ge.useRef=function(j){return Te.current.useRef(j)},ge.useState=function(j){return Te.current.useState(j)},ge.useSyncExternalStore=function(j,U,ne){return Te.current.useSyncExternalStore(j,U,ne)},ge.useTransition=function(){return Te.current.useTransition()},ge.version="18.2.0",ge}var tp;function Mu(){return tp||(tp=1,Gc.exports=hv()),Gc.exports}var R=Mu();const fv=fm(R);var Oo={},Jc={exports:{}},jt={},Zc={exports:{}},Xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function pv(){return rp||(rp=1,function(s){function r(K,ce){var j=K.length;K.push(ce);e:for(;0<j;){var U=j-1>>>1,ne=K[U];if(0<o(ne,ce))K[U]=ce,K[j]=ne,j=U;else break e}}function n(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var ce=K[0],j=K.pop();if(j!==ce){K[0]=j;e:for(var U=0,ne=K.length,xe=ne>>>1;U<xe;){var ye=2*(U+1)-1,Ae=K[ye],Ne=ye+1,Oe=K[Ne];if(0>o(Ae,j))Ne<ne&&0>o(Oe,Ae)?(K[U]=Oe,K[Ne]=j,U=Ne):(K[U]=Ae,K[ye]=j,U=ye);else if(Ne<ne&&0>o(Oe,j))K[U]=Oe,K[Ne]=j,U=Ne;else break e}}return ce}function o(K,ce){var j=K.sortIndex-ce.sortIndex;return j!==0?j:K.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],y=[],_=1,b=null,w=3,k=!1,S=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(K){for(var ce=n(y);ce!==null;){if(ce.callback===null)a(y);else if(ce.startTime<=K)a(y),ce.sortIndex=ce.expirationTime,r(p,ce);else break;ce=n(y)}}function D(K){if(x=!1,L(K),!S)if(n(p)!==null)S=!0,et(M);else{var ce=n(y);ce!==null&&Te(D,ce.startTime-K)}}function M(K,ce){S=!1,x&&(x=!1,z(fe),fe=-1),k=!0;var j=w;try{for(L(ce),b=n(p);b!==null&&(!(b.expirationTime>ce)||K&&!we());){var U=b.callback;if(typeof U=="function"){b.callback=null,w=b.priorityLevel;var ne=U(b.expirationTime<=ce);ce=s.unstable_now(),typeof ne=="function"?b.callback=ne:b===n(p)&&a(p),L(ce)}else a(p);b=n(p)}if(b!==null)var xe=!0;else{var ye=n(y);ye!==null&&Te(D,ye.startTime-ce),xe=!1}return xe}finally{b=null,w=j,k=!1}}var G=!1,re=null,fe=-1,W=5,te=-1;function we(){return!(s.unstable_now()-te<W)}function V(){if(re!==null){var K=s.unstable_now();te=K;var ce=!0;try{ce=re(!0,K)}finally{ce?be():(G=!1,re=null)}}else G=!1}var be;if(typeof I=="function")be=function(){I(V)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,qt=Ye.port2;Ye.port1.onmessage=V,be=function(){qt.postMessage(null)}}else be=function(){N(V,0)};function et(K){re=K,G||(G=!0,be())}function Te(K,ce){fe=N(function(){K(s.unstable_now())},ce)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_continueExecution=function(){S||k||(S=!0,et(M))},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(K){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var j=w;w=ce;try{return K()}finally{w=j}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(K,ce){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var j=w;w=K;try{return ce()}finally{w=j}},s.unstable_scheduleCallback=function(K,ce,j){var U=s.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?U+j:U):j=U,K){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=j+ne,K={id:_++,callback:ce,priorityLevel:K,startTime:j,expirationTime:ne,sortIndex:-1},j>U?(K.sortIndex=j,r(y,K),n(p)===null&&K===n(y)&&(x?(z(fe),fe=-1):x=!0,Te(D,j-U))):(K.sortIndex=ne,r(p,K),S||k||(S=!0,et(M))),K},s.unstable_shouldYield=we,s.unstable_wrapCallback=function(K){var ce=w;return function(){var j=w;w=ce;try{return K.apply(this,arguments)}finally{w=j}}}}(Xc)),Xc}var np;function mv(){return np||(np=1,Zc.exports=pv()),Zc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function yv(){if(sp)return jt;sp=1;var s=Mu(),r=mv();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function u(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},b={};function w(e){return p.call(b,e)?!0:p.call(_,e)?!1:y.test(e)?b[e]=!0:(_[e]=!0,!1)}function k(e,t,i,l){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,t,i,l){if(t===null||typeof t>"u"||k(e,t,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function x(e,t,i,l,d,f,v){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=v}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){N[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];N[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){N[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){N[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){N[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){N[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){N[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){N[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){N[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z,I);N[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z,I);N[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z,I);N[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){N[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),N.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){N[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});function L(e,t,i,l){var d=N.hasOwnProperty(t)?N[t]:null;(d!==null?d.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(S(t,i,d,l)&&(i=null),l||d===null?w(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(t=d.attributeName,l=d.attributeNamespace,i===null?e.removeAttribute(t):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,l?e.setAttributeNS(l,t,i):e.setAttribute(t,i))))}var D=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),G=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),we=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),qt=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),K=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var j=Object.assign,U;function ne(e){if(U===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return`
`+U+e}var xe=!1;function ye(e,t){if(!e||xe)return"";xe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch($){var l=$}Reflect.construct(e,[],t)}else{try{t.call()}catch($){l=$}e.call(t.prototype)}else{try{throw Error()}catch($){l=$}e()}}catch($){if($&&l&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),f=l.stack.split(`
`),v=d.length-1,C=f.length-1;1<=v&&0<=C&&d[v]!==f[C];)C--;for(;1<=v&&0<=C;v--,C--)if(d[v]!==f[C]){if(v!==1||C!==1)do if(v--,C--,0>C||d[v]!==f[C]){var P=`
`+d[v].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=v&&0<=C);break}}}finally{xe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?ne(e):""}function Ae(e){switch(e.tag){case 5:return ne(e.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return e=ye(e.type,!1),e;case 11:return e=ye(e.type.render,!1),e;case 1:return e=ye(e.type,!0),e;default:return""}}function Ne(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case re:return"Fragment";case G:return"Portal";case W:return"Profiler";case fe:return"StrictMode";case be:return"Suspense";case Ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case we:return(e.displayName||"Context")+".Consumer";case te:return(e._context.displayName||"Context")+".Provider";case V:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qt:return t=e.displayName||null,t!==null?t:Ne(e.type)||"Memo";case et:t=e._payload,e=e._init;try{return Ne(e(t))}catch{}}return null}function Oe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(t);case 8:return t===fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ee(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function py(e){var t=bt(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wa(e){e._valueTracker||(e._valueTracker=py(e))}function nd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=bt(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function _a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tl(e,t){var i=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function sd(e,t){var i=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;i=Ee(t.value!=null?t.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function id(e,t){t=t.checked,t!=null&&L(e,"checked",t,!1)}function rl(e,t){id(e,t);var i=Ee(t.value),l=t.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nl(e,t.type,i):t.hasOwnProperty("defaultValue")&&nl(e,t.type,Ee(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ad(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function nl(e,t,i){(t!=="number"||_a(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var ci=Array.isArray;function is(e,t,i,l){if(e=e.options,t){t={};for(var d=0;d<i.length;d++)t["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=t.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Ee(i),t=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function sl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function od(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(ci(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Ee(i)}}function ld(e,t){var i=Ee(t.value),l=Ee(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function cd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ud(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function il(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ud(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xa,dd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,l,d){MSApp.execUnsafeLocalFunction(function(){return e(t,i,l,d)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xa=xa||document.createElement("div"),xa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ui(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},my=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(e){my.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),di[t]=di[e]})});function hd(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||di.hasOwnProperty(e)&&di[e]?(""+t).trim():t+"px"}function fd(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var l=i.indexOf("--")===0,d=hd(i,t[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,d):e[i]=d}}var yy=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function al(e,t){if(t){if(yy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function ol(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ll=null;function cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ul=null,as=null,os=null;function pd(e){if(e=Ti(e)){if(typeof ul!="function")throw Error(n(280));var t=e.stateNode;t&&(t=Wa(t),ul(e.stateNode,e.type,t))}}function md(e){as?os?os.push(e):os=[e]:as=e}function yd(){if(as){var e=as,t=os;if(os=as=null,pd(e),t)for(e=0;e<t.length;e++)pd(t[e])}}function gd(e,t){return e(t)}function vd(){}var dl=!1;function wd(e,t,i){if(dl)return e(t,i);dl=!0;try{return gd(e,t,i)}finally{dl=!1,(as!==null||os!==null)&&(vd(),yd())}}function hi(e,t){var i=e.stateNode;if(i===null)return null;var l=Wa(i);if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var hl=!1;if(m)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){hl=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{hl=!1}function gy(e,t,i,l,d,f,v,C,P){var $=Array.prototype.slice.call(arguments,3);try{t.apply(i,$)}catch(q){this.onError(q)}}var pi=!1,ka=null,ba=!1,fl=null,vy={onError:function(e){pi=!0,ka=e}};function wy(e,t,i,l,d,f,v,C,P){pi=!1,ka=null,gy.apply(vy,arguments)}function _y(e,t,i,l,d,f,v,C,P){if(wy.apply(this,arguments),pi){if(pi){var $=ka;pi=!1,ka=null}else throw Error(n(198));ba||(ba=!0,fl=$)}}function En(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function _d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xd(e){if(En(e)!==e)throw Error(n(188))}function xy(e){var t=e.alternate;if(!t){if(t=En(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,l=t;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return xd(d),e;if(f===l)return xd(d),t;f=f.sibling}throw Error(n(188))}if(i.return!==l.return)i=d,l=f;else{for(var v=!1,C=d.child;C;){if(C===i){v=!0,i=d,l=f;break}if(C===l){v=!0,l=d,i=f;break}C=C.sibling}if(!v){for(C=f.child;C;){if(C===i){v=!0,i=f,l=d;break}if(C===l){v=!0,l=f,i=d;break}C=C.sibling}if(!v)throw Error(n(189))}}if(i.alternate!==l)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function kd(e){return e=xy(e),e!==null?bd(e):null}function bd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bd(e);if(t!==null)return t;e=e.sibling}return null}var Sd=r.unstable_scheduleCallback,Nd=r.unstable_cancelCallback,ky=r.unstable_shouldYield,by=r.unstable_requestPaint,He=r.unstable_now,Sy=r.unstable_getCurrentPriorityLevel,pl=r.unstable_ImmediatePriority,Cd=r.unstable_UserBlockingPriority,Sa=r.unstable_NormalPriority,Ny=r.unstable_LowPriority,Ed=r.unstable_IdlePriority,Na=null,ur=null;function Cy(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Na,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:jy,Ey=Math.log,Py=Math.LN2;function jy(e){return e>>>=0,e===0?32:31-(Ey(e)/Py|0)|0}var Ca=64,Ea=4194304;function mi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pa(e,t){var i=e.pendingLanes;if(i===0)return 0;var l=0,d=e.suspendedLanes,f=e.pingedLanes,v=i&268435455;if(v!==0){var C=v&~d;C!==0?l=mi(C):(f&=v,f!==0&&(l=mi(f)))}else v=i&~d,v!==0?l=mi(v):f!==0&&(l=mi(f));if(l===0)return 0;if(t!==0&&t!==l&&(t&d)===0&&(d=l&-l,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((l&4)!==0&&(l|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)i=31-Xt(t),d=1<<i,l|=e[i],t&=~d;return l}function Ry(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oy(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var v=31-Xt(f),C=1<<v,P=d[v];P===-1?((C&i)===0||(C&l)!==0)&&(d[v]=Ry(C,t)):P<=t&&(e.expiredLanes|=C),f&=~C}}function ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pd(){var e=Ca;return Ca<<=1,(Ca&4194240)===0&&(Ca=64),e}function yl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function yi(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=i}function zy(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-Xt(i),f=1<<d;t[d]=0,l[d]=-1,e[d]=-1,i&=~f}}function gl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-Xt(i),d=1<<l;d&t|e[l]&t&&(e[l]|=t),i&=~d}}var je=0;function jd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Rd,vl,Od,zd,Td,wl=!1,ja=[],Br=null,Wr=null,Hr=null,gi=new Map,vi=new Map,Kr=[],Ty="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ad(e,t){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":gi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(t.pointerId)}}function wi(e,t,i,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},t!==null&&(t=Ti(t),t!==null&&vl(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Ay(e,t,i,l,d){switch(t){case"focusin":return Br=wi(Br,e,t,i,l,d),!0;case"dragenter":return Wr=wi(Wr,e,t,i,l,d),!0;case"mouseover":return Hr=wi(Hr,e,t,i,l,d),!0;case"pointerover":var f=d.pointerId;return gi.set(f,wi(gi.get(f)||null,e,t,i,l,d)),!0;case"gotpointercapture":return f=d.pointerId,vi.set(f,wi(vi.get(f)||null,e,t,i,l,d)),!0}return!1}function Ld(e){var t=Pn(e.target);if(t!==null){var i=En(t);if(i!==null){if(t=i.tag,t===13){if(t=_d(i),t!==null){e.blockedOn=t,Td(e.priority,function(){Od(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ra(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=xl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);ll=l,i.target.dispatchEvent(l),ll=null}else return t=Ti(i),t!==null&&vl(t),e.blockedOn=i,!1;t.shift()}return!0}function $d(e,t,i){Ra(e)&&i.delete(t)}function Ly(){wl=!1,Br!==null&&Ra(Br)&&(Br=null),Wr!==null&&Ra(Wr)&&(Wr=null),Hr!==null&&Ra(Hr)&&(Hr=null),gi.forEach($d),vi.forEach($d)}function _i(e,t){e.blockedOn===t&&(e.blockedOn=null,wl||(wl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ly)))}function xi(e){function t(d){return _i(d,e)}if(0<ja.length){_i(ja[0],e);for(var i=1;i<ja.length;i++){var l=ja[i];l.blockedOn===e&&(l.blockedOn=null)}}for(Br!==null&&_i(Br,e),Wr!==null&&_i(Wr,e),Hr!==null&&_i(Hr,e),gi.forEach(t),vi.forEach(t),i=0;i<Kr.length;i++)l=Kr[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<Kr.length&&(i=Kr[0],i.blockedOn===null);)Ld(i),i.blockedOn===null&&Kr.shift()}var ls=D.ReactCurrentBatchConfig,Oa=!0;function $y(e,t,i,l){var d=je,f=ls.transition;ls.transition=null;try{je=1,_l(e,t,i,l)}finally{je=d,ls.transition=f}}function Iy(e,t,i,l){var d=je,f=ls.transition;ls.transition=null;try{je=4,_l(e,t,i,l)}finally{je=d,ls.transition=f}}function _l(e,t,i,l){if(Oa){var d=xl(e,t,i,l);if(d===null)Dl(e,t,l,za,i),Ad(e,l);else if(Ay(d,e,t,i,l))l.stopPropagation();else if(Ad(e,l),t&4&&-1<Ty.indexOf(e)){for(;d!==null;){var f=Ti(d);if(f!==null&&Rd(f),f=xl(e,t,i,l),f===null&&Dl(e,t,l,za,i),f===d)break;d=f}d!==null&&l.stopPropagation()}else Dl(e,t,l,null,i)}}var za=null;function xl(e,t,i,l){if(za=null,e=cl(l),e=Pn(e),e!==null)if(t=En(e),t===null)e=null;else if(i=t.tag,i===13){if(e=_d(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return za=e,null}function Id(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sy()){case pl:return 1;case Cd:return 4;case Sa:case Ny:return 16;case Ed:return 536870912;default:return 16}default:return 16}}var Vr=null,kl=null,Ta=null;function Dd(){if(Ta)return Ta;var e,t=kl,i=t.length,l,d="value"in Vr?Vr.value:Vr.textContent,f=d.length;for(e=0;e<i&&t[e]===d[e];e++);var v=i-e;for(l=1;l<=v&&t[i-l]===d[f-l];l++);return Ta=d.slice(e,1<l?1-l:void 0)}function Aa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function La(){return!0}function Md(){return!1}function Lt(e){function t(i,l,d,f,v){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(i=e[C],this[C]=i?i(f):f[C]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?La:Md,this.isPropagationStopped=Md,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),t}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=Lt(cs),ki=j({},cs,{view:0,detail:0}),Dy=Lt(ki),Sl,Nl,bi,$a=j({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:El,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(Sl=e.screenX-bi.screenX,Nl=e.screenY-bi.screenY):Nl=Sl=0,bi=e),Sl)},movementY:function(e){return"movementY"in e?e.movementY:Nl}}),Fd=Lt($a),My=j({},$a,{dataTransfer:0}),Fy=Lt(My),Uy=j({},ki,{relatedTarget:0}),Cl=Lt(Uy),qy=j({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),By=Lt(qy),Wy=j({},cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hy=Lt(Wy),Ky=j({},cs,{data:0}),Ud=Lt(Ky),Vy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gy[e])?!!t[e]:!1}function El(){return Jy}var Zy=j({},ki,{key:function(e){if(e.key){var t=Vy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:El,charCode:function(e){return e.type==="keypress"?Aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xy=Lt(Zy),Yy=j({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qd=Lt(Yy),eg=j({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:El}),tg=Lt(eg),rg=j({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ng=Lt(rg),sg=j({},$a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ig=Lt(sg),ag=[9,13,27,32],Pl=m&&"CompositionEvent"in window,Si=null;m&&"documentMode"in document&&(Si=document.documentMode);var og=m&&"TextEvent"in window&&!Si,Bd=m&&(!Pl||Si&&8<Si&&11>=Si),Wd=" ",Hd=!1;function Kd(e,t){switch(e){case"keyup":return ag.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var us=!1;function lg(e,t){switch(e){case"compositionend":return Vd(t);case"keypress":return t.which!==32?null:(Hd=!0,Wd);case"textInput":return e=t.data,e===Wd&&Hd?null:e;default:return null}}function cg(e,t){if(us)return e==="compositionend"||!Pl&&Kd(e,t)?(e=Dd(),Ta=kl=Vr=null,us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bd&&t.locale!=="ko"?null:t.data;default:return null}}var ug={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ug[e.type]:t==="textarea"}function Gd(e,t,i,l){md(l),t=Ua(t,"onChange"),0<t.length&&(i=new bl("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var Ni=null,Ci=null;function dg(e){fh(e,0)}function Ia(e){var t=ms(e);if(nd(t))return e}function hg(e,t){if(e==="change")return t}var Jd=!1;if(m){var jl;if(m){var Rl="oninput"in document;if(!Rl){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),Rl=typeof Zd.oninput=="function"}jl=Rl}else jl=!1;Jd=jl&&(!document.documentMode||9<document.documentMode)}function Xd(){Ni&&(Ni.detachEvent("onpropertychange",Yd),Ci=Ni=null)}function Yd(e){if(e.propertyName==="value"&&Ia(Ci)){var t=[];Gd(t,Ci,e,cl(e)),wd(dg,t)}}function fg(e,t,i){e==="focusin"?(Xd(),Ni=t,Ci=i,Ni.attachEvent("onpropertychange",Yd)):e==="focusout"&&Xd()}function pg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ia(Ci)}function mg(e,t){if(e==="click")return Ia(t)}function yg(e,t){if(e==="input"||e==="change")return Ia(t)}function gg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:gg;function Ei(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!p.call(t,d)||!Yt(e[d],t[d]))return!1}return!0}function eh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function th(e,t){var i=eh(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=eh(i)}}function rh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nh(){for(var e=window,t=_a();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=_a(e.document)}return t}function Ol(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vg(e){var t=nh(),i=e.focusedElem,l=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&rh(i.ownerDocument.documentElement,i)){if(l!==null&&Ol(i)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,f=Math.min(l.start,d);l=l.end===void 0?f:Math.min(l.end,d),!e.extend&&f>l&&(d=l,l=f,f=d),d=th(i,f);var v=th(i,l);d&&v&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>l?(e.addRange(t),e.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wg=m&&"documentMode"in document&&11>=document.documentMode,ds=null,zl=null,Pi=null,Tl=!1;function sh(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Tl||ds==null||ds!==_a(l)||(l=ds,"selectionStart"in l&&Ol(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pi&&Ei(Pi,l)||(Pi=l,l=Ua(zl,"onSelect"),0<l.length&&(t=new bl("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=ds)))}function Da(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var hs={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionend:Da("Transition","TransitionEnd")},Al={},ih={};m&&(ih=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Ma(e){if(Al[e])return Al[e];if(!hs[e])return e;var t=hs[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ih)return Al[e]=t[i];return e}var ah=Ma("animationend"),oh=Ma("animationiteration"),lh=Ma("animationstart"),ch=Ma("transitionend"),uh=new Map,dh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,t){uh.set(e,t),u(t,[e])}for(var Ll=0;Ll<dh.length;Ll++){var $l=dh[Ll],_g=$l.toLowerCase(),xg=$l[0].toUpperCase()+$l.slice(1);Qr(_g,"on"+xg)}Qr(ah,"onAnimationEnd"),Qr(oh,"onAnimationIteration"),Qr(lh,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(ch,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function hh(e,t,i){var l=e.type||"unknown-event";e.currentTarget=i,_y(l,t,void 0,e),e.currentTarget=null}function fh(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],d=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var v=l.length-1;0<=v;v--){var C=l[v],P=C.instance,$=C.currentTarget;if(C=C.listener,P!==f&&d.isPropagationStopped())break e;hh(d,C,$),f=P}else for(v=0;v<l.length;v++){if(C=l[v],P=C.instance,$=C.currentTarget,C=C.listener,P!==f&&d.isPropagationStopped())break e;hh(d,C,$),f=P}}}if(ba)throw e=fl,ba=!1,fl=null,e}function Ie(e,t){var i=t[Wl];i===void 0&&(i=t[Wl]=new Set);var l=e+"__bubble";i.has(l)||(ph(t,e,2,!1),i.add(l))}function Il(e,t,i){var l=0;t&&(l|=4),ph(i,e,l,t)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function Ri(e){if(!e[Fa]){e[Fa]=!0,a.forEach(function(i){i!=="selectionchange"&&(kg.has(i)||Il(i,!1,e),Il(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fa]||(t[Fa]=!0,Il("selectionchange",!1,t))}}function ph(e,t,i,l){switch(Id(t)){case 1:var d=$y;break;case 4:d=Iy;break;default:d=_l}i=d.bind(null,t,i,e),d=void 0,!hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(t,i,{capture:!0,passive:d}):e.addEventListener(t,i,!0):d!==void 0?e.addEventListener(t,i,{passive:d}):e.addEventListener(t,i,!1)}function Dl(e,t,i,l,d){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var C=l.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(v===4)for(v=l.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;v=v.return}for(;C!==null;){if(v=Pn(C),v===null)return;if(P=v.tag,P===5||P===6){l=f=v;continue e}C=C.parentNode}}l=l.return}wd(function(){var $=f,q=cl(i),B=[];e:{var F=uh.get(e);if(F!==void 0){var Q=bl,X=e;switch(e){case"keypress":if(Aa(i)===0)break e;case"keydown":case"keyup":Q=Xy;break;case"focusin":X="focus",Q=Cl;break;case"focusout":X="blur",Q=Cl;break;case"beforeblur":case"afterblur":Q=Cl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=tg;break;case ah:case oh:case lh:Q=By;break;case ch:Q=ng;break;case"scroll":Q=Dy;break;case"wheel":Q=ig;break;case"copy":case"cut":case"paste":Q=Hy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=qd}var Y=(t&4)!==0,Ke=!Y&&e==="scroll",T=Y?F!==null?F+"Capture":null:F;Y=[];for(var O=$,A;O!==null;){A=O;var H=A.stateNode;if(A.tag===5&&H!==null&&(A=H,T!==null&&(H=hi(O,T),H!=null&&Y.push(Oi(O,H,A)))),Ke)break;O=O.return}0<Y.length&&(F=new Q(F,X,null,i,q),B.push({event:F,listeners:Y}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",F&&i!==ll&&(X=i.relatedTarget||i.fromElement)&&(Pn(X)||X[Sr]))break e;if((Q||F)&&(F=q.window===q?q:(F=q.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(X=i.relatedTarget||i.toElement,Q=$,X=X?Pn(X):null,X!==null&&(Ke=En(X),X!==Ke||X.tag!==5&&X.tag!==6)&&(X=null)):(Q=null,X=$),Q!==X)){if(Y=Fd,H="onMouseLeave",T="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Y=qd,H="onPointerLeave",T="onPointerEnter",O="pointer"),Ke=Q==null?F:ms(Q),A=X==null?F:ms(X),F=new Y(H,O+"leave",Q,i,q),F.target=Ke,F.relatedTarget=A,H=null,Pn(q)===$&&(Y=new Y(T,O+"enter",X,i,q),Y.target=A,Y.relatedTarget=Ke,H=Y),Ke=H,Q&&X)t:{for(Y=Q,T=X,O=0,A=Y;A;A=fs(A))O++;for(A=0,H=T;H;H=fs(H))A++;for(;0<O-A;)Y=fs(Y),O--;for(;0<A-O;)T=fs(T),A--;for(;O--;){if(Y===T||T!==null&&Y===T.alternate)break t;Y=fs(Y),T=fs(T)}Y=null}else Y=null;Q!==null&&mh(B,F,Q,Y,!1),X!==null&&Ke!==null&&mh(B,Ke,X,Y,!0)}}e:{if(F=$?ms($):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var ee=hg;else if(Qd(F))if(Jd)ee=yg;else{ee=pg;var oe=fg}else(Q=F.nodeName)&&Q.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(ee=mg);if(ee&&(ee=ee(e,$))){Gd(B,ee,i,q);break e}oe&&oe(e,F,$),e==="focusout"&&(oe=F._wrapperState)&&oe.controlled&&F.type==="number"&&nl(F,"number",F.value)}switch(oe=$?ms($):window,e){case"focusin":(Qd(oe)||oe.contentEditable==="true")&&(ds=oe,zl=$,Pi=null);break;case"focusout":Pi=zl=ds=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,sh(B,i,q);break;case"selectionchange":if(wg)break;case"keydown":case"keyup":sh(B,i,q)}var le;if(Pl)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else us?Kd(e,i)&&(ue="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ue="onCompositionStart");ue&&(Bd&&i.locale!=="ko"&&(us||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&us&&(le=Dd()):(Vr=q,kl="value"in Vr?Vr.value:Vr.textContent,us=!0)),oe=Ua($,ue),0<oe.length&&(ue=new Ud(ue,e,null,i,q),B.push({event:ue,listeners:oe}),le?ue.data=le:(le=Vd(i),le!==null&&(ue.data=le)))),(le=og?lg(e,i):cg(e,i))&&($=Ua($,"onBeforeInput"),0<$.length&&(q=new Ud("onBeforeInput","beforeinput",null,i,q),B.push({event:q,listeners:$}),q.data=le))}fh(B,t)})}function Oi(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ua(e,t){for(var i=t+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=hi(e,i),f!=null&&l.unshift(Oi(e,f,d)),f=hi(e,t),f!=null&&l.push(Oi(e,f,d))),e=e.return}return l}function fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mh(e,t,i,l,d){for(var f=t._reactName,v=[];i!==null&&i!==l;){var C=i,P=C.alternate,$=C.stateNode;if(P!==null&&P===l)break;C.tag===5&&$!==null&&(C=$,d?(P=hi(i,f),P!=null&&v.unshift(Oi(i,P,C))):d||(P=hi(i,f),P!=null&&v.push(Oi(i,P,C)))),i=i.return}v.length!==0&&e.push({event:t,listeners:v})}var bg=/\r\n?/g,Sg=/\u0000|\uFFFD/g;function yh(e){return(typeof e=="string"?e:""+e).replace(bg,`
`).replace(Sg,"")}function qa(e,t,i){if(t=yh(t),yh(e)!==t&&i)throw Error(n(425))}function Ba(){}var Ml=null,Fl=null;function Ul(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,Ng=typeof clearTimeout=="function"?clearTimeout:void 0,gh=typeof Promise=="function"?Promise:void 0,Cg=typeof queueMicrotask=="function"?queueMicrotask:typeof gh<"u"?function(e){return gh.resolve(null).then(e).catch(Eg)}:ql;function Eg(e){setTimeout(function(){throw e})}function Bl(e,t){var i=t,l=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(l===0){e.removeChild(d),xi(t);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=d}while(i);xi(t)}function Gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var ps=Math.random().toString(36).slice(2),dr="__reactFiber$"+ps,zi="__reactProps$"+ps,Sr="__reactContainer$"+ps,Wl="__reactEvents$"+ps,Pg="__reactListeners$"+ps,jg="__reactHandles$"+ps;function Pn(e){var t=e[dr];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Sr]||i[dr]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=vh(e);e!==null;){if(i=e[dr])return i;e=vh(e)}return t}e=i,i=e.parentNode}return null}function Ti(e){return e=e[dr]||e[Sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ms(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Wa(e){return e[zi]||null}var Hl=[],ys=-1;function Jr(e){return{current:e}}function De(e){0>ys||(e.current=Hl[ys],Hl[ys]=null,ys--)}function Le(e,t){ys++,Hl[ys]=e.current,e.current=t}var Zr={},lt=Jr(Zr),St=Jr(!1),jn=Zr;function gs(e,t){var i=e.type.contextTypes;if(!i)return Zr;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in i)d[f]=t[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Nt(e){return e=e.childContextTypes,e!=null}function Ha(){De(St),De(lt)}function wh(e,t,i){if(lt.current!==Zr)throw Error(n(168));Le(lt,t),Le(St,i)}function _h(e,t,i){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var d in l)if(!(d in t))throw Error(n(108,Oe(e)||"Unknown",d));return j({},i,l)}function Ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zr,jn=lt.current,Le(lt,e),Le(St,St.current),!0}function xh(e,t,i){var l=e.stateNode;if(!l)throw Error(n(169));i?(e=_h(e,t,jn),l.__reactInternalMemoizedMergedChildContext=e,De(St),De(lt),Le(lt,e)):De(St),Le(St,i)}var Nr=null,Va=!1,Kl=!1;function kh(e){Nr===null?Nr=[e]:Nr.push(e)}function Rg(e){Va=!0,kh(e)}function Xr(){if(!Kl&&Nr!==null){Kl=!0;var e=0,t=je;try{var i=Nr;for(je=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}Nr=null,Va=!1}catch(d){throw Nr!==null&&(Nr=Nr.slice(e+1)),Sd(pl,Xr),d}finally{je=t,Kl=!1}}return null}var vs=[],ws=0,Qa=null,Ga=0,Bt=[],Wt=0,Rn=null,Cr=1,Er="";function On(e,t){vs[ws++]=Ga,vs[ws++]=Qa,Qa=e,Ga=t}function bh(e,t,i){Bt[Wt++]=Cr,Bt[Wt++]=Er,Bt[Wt++]=Rn,Rn=e;var l=Cr;e=Er;var d=32-Xt(l)-1;l&=~(1<<d),i+=1;var f=32-Xt(t)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Cr=1<<32-Xt(t)+d|i<<d|l,Er=f+e}else Cr=1<<f|i<<d|l,Er=e}function Vl(e){e.return!==null&&(On(e,1),bh(e,1,0))}function Ql(e){for(;e===Qa;)Qa=vs[--ws],vs[ws]=null,Ga=vs[--ws],vs[ws]=null;for(;e===Rn;)Rn=Bt[--Wt],Bt[Wt]=null,Er=Bt[--Wt],Bt[Wt]=null,Cr=Bt[--Wt],Bt[Wt]=null}var $t=null,It=null,Me=!1,er=null;function Sh(e,t){var i=Qt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Nh(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,It=Gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,It=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Rn!==null?{id:Cr,overflow:Er}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Qt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,$t=e,It=null,!0):!1;default:return!1}}function Gl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jl(e){if(Me){var t=It;if(t){var i=t;if(!Nh(e,t)){if(Gl(e))throw Error(n(418));t=Gr(i.nextSibling);var l=$t;t&&Nh(e,t)?Sh(l,i):(e.flags=e.flags&-4097|2,Me=!1,$t=e)}}else{if(Gl(e))throw Error(n(418));e.flags=e.flags&-4097|2,Me=!1,$t=e}}}function Ch(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function Ja(e){if(e!==$t)return!1;if(!Me)return Ch(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ul(e.type,e.memoizedProps)),t&&(t=It)){if(Gl(e))throw Eh(),Error(n(418));for(;t;)Sh(e,t),t=Gr(t.nextSibling)}if(Ch(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){It=Gr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}It=null}}else It=$t?Gr(e.stateNode.nextSibling):null;return!0}function Eh(){for(var e=It;e;)e=Gr(e.nextSibling)}function _s(){It=$t=null,Me=!1}function Zl(e){er===null?er=[e]:er.push(e)}var Og=D.ReactCurrentBatchConfig;function tr(e,t){if(e&&e.defaultProps){t=j({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var Za=Jr(null),Xa=null,xs=null,Xl=null;function Yl(){Xl=xs=Xa=null}function ec(e){var t=Za.current;De(Za),e._currentValue=t}function tc(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function ks(e,t){Xa=e,Xl=xs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ct=!0),e.firstContext=null)}function Ht(e){var t=e._currentValue;if(Xl!==e)if(e={context:e,memoizedValue:t,next:null},xs===null){if(Xa===null)throw Error(n(308));xs=e,Xa.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var zn=null;function rc(e){zn===null?zn=[e]:zn.push(e)}function Ph(e,t,i,l){var d=t.interleaved;return d===null?(i.next=i,rc(t)):(i.next=d.next,d.next=i),t.interleaved=i,Pr(e,l)}function Pr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Yr=!1;function nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ke&2)!==0){var d=l.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),l.pending=t,Pr(e,i)}return d=l.interleaved,d===null?(t.next=t,rc(l)):(t.next=d.next,d.next=t),l.interleaved=t,Pr(e,i)}function Ya(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,gl(e,i)}}function Rh(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var v={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?d=f=v:f=f.next=v,i=i.next}while(i!==null);f===null?d=f=t:f=f.next=t}else d=f=t;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function eo(e,t,i,l){var d=e.updateQueue;Yr=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var P=C,$=P.next;P.next=null,v===null?f=$:v.next=$,v=P;var q=e.alternate;q!==null&&(q=q.updateQueue,C=q.lastBaseUpdate,C!==v&&(C===null?q.firstBaseUpdate=$:C.next=$,q.lastBaseUpdate=P))}if(f!==null){var B=d.baseState;v=0,q=$=P=null,C=f;do{var F=C.lane,Q=C.eventTime;if((l&F)===F){q!==null&&(q=q.next={eventTime:Q,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var X=e,Y=C;switch(F=t,Q=i,Y.tag){case 1:if(X=Y.payload,typeof X=="function"){B=X.call(Q,B,F);break e}B=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=Y.payload,F=typeof X=="function"?X.call(Q,B,F):X,F==null)break e;B=j({},B,F);break e;case 2:Yr=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,F=d.effects,F===null?d.effects=[C]:F.push(C))}else Q={eventTime:Q,lane:F,tag:C.tag,payload:C.payload,callback:C.callback,next:null},q===null?($=q=Q,P=B):q=q.next=Q,v|=F;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;F=C,C=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);if(q===null&&(P=B),d.baseState=P,d.firstBaseUpdate=$,d.lastBaseUpdate=q,t=d.shared.interleaved,t!==null){d=t;do v|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);Ln|=v,e.lanes=v,e.memoizedState=B}}function Oh(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],d=l.callback;if(d!==null){if(l.callback=null,l=i,typeof d!="function")throw Error(n(191,d));d.call(l)}}}var zh=new s.Component().refs;function sc(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:j({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var to={isMounted:function(e){return(e=e._reactInternals)?En(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var l=gt(),d=sn(e),f=jr(l,d);f.payload=t,i!=null&&(f.callback=i),t=en(e,f,d),t!==null&&(sr(t,e,d,l),Ya(t,e,d))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=gt(),d=sn(e),f=jr(l,d);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=en(e,f,d),t!==null&&(sr(t,e,d,l),Ya(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=gt(),l=sn(e),d=jr(i,l);d.tag=2,t!=null&&(d.callback=t),t=en(e,d,l),t!==null&&(sr(t,e,l,i),Ya(t,e,l))}};function Th(e,t,i,l,d,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):t.prototype&&t.prototype.isPureReactComponent?!Ei(i,l)||!Ei(d,f):!0}function Ah(e,t,i){var l=!1,d=Zr,f=t.contextType;return typeof f=="object"&&f!==null?f=Ht(f):(d=Nt(t)?jn:lt.current,l=t.contextTypes,f=(l=l!=null)?gs(e,d):Zr),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=to,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function Lh(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&to.enqueueReplaceState(t,t.state,null)}function ic(e,t,i,l){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs=zh,nc(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=Ht(f):(f=Nt(t)?jn:lt.current,d.context=gs(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(sc(e,t,f,i),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&to.enqueueReplaceState(d,d.state,null),eo(e,i,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Ai(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var l=i.stateNode}if(!l)throw Error(n(147,e));var d=l,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(v){var C=d.refs;C===zh&&(C=d.refs={}),v===null?delete C[f]:C[f]=v},t._stringRef=f,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function ro(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $h(e){var t=e._init;return t(e._payload)}function Ih(e){function t(T,O){if(e){var A=T.deletions;A===null?(T.deletions=[O],T.flags|=16):A.push(O)}}function i(T,O){if(!e)return null;for(;O!==null;)t(T,O),O=O.sibling;return null}function l(T,O){for(T=new Map;O!==null;)O.key!==null?T.set(O.key,O):T.set(O.index,O),O=O.sibling;return T}function d(T,O){return T=on(T,O),T.index=0,T.sibling=null,T}function f(T,O,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<O?(T.flags|=2,O):A):(T.flags|=2,O)):(T.flags|=1048576,O)}function v(T){return e&&T.alternate===null&&(T.flags|=2),T}function C(T,O,A,H){return O===null||O.tag!==6?(O=qc(A,T.mode,H),O.return=T,O):(O=d(O,A),O.return=T,O)}function P(T,O,A,H){var ee=A.type;return ee===re?q(T,O,A.props.children,H,A.key):O!==null&&(O.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===et&&$h(ee)===O.type)?(H=d(O,A.props),H.ref=Ai(T,O,A),H.return=T,H):(H=ko(A.type,A.key,A.props,null,T.mode,H),H.ref=Ai(T,O,A),H.return=T,H)}function $(T,O,A,H){return O===null||O.tag!==4||O.stateNode.containerInfo!==A.containerInfo||O.stateNode.implementation!==A.implementation?(O=Bc(A,T.mode,H),O.return=T,O):(O=d(O,A.children||[]),O.return=T,O)}function q(T,O,A,H,ee){return O===null||O.tag!==7?(O=Mn(A,T.mode,H,ee),O.return=T,O):(O=d(O,A),O.return=T,O)}function B(T,O,A){if(typeof O=="string"&&O!==""||typeof O=="number")return O=qc(""+O,T.mode,A),O.return=T,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case M:return A=ko(O.type,O.key,O.props,null,T.mode,A),A.ref=Ai(T,null,O),A.return=T,A;case G:return O=Bc(O,T.mode,A),O.return=T,O;case et:var H=O._init;return B(T,H(O._payload),A)}if(ci(O)||ce(O))return O=Mn(O,T.mode,A,null),O.return=T,O;ro(T,O)}return null}function F(T,O,A,H){var ee=O!==null?O.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return ee!==null?null:C(T,O,""+A,H);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case M:return A.key===ee?P(T,O,A,H):null;case G:return A.key===ee?$(T,O,A,H):null;case et:return ee=A._init,F(T,O,ee(A._payload),H)}if(ci(A)||ce(A))return ee!==null?null:q(T,O,A,H,null);ro(T,A)}return null}function Q(T,O,A,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number")return T=T.get(A)||null,C(O,T,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return T=T.get(H.key===null?A:H.key)||null,P(O,T,H,ee);case G:return T=T.get(H.key===null?A:H.key)||null,$(O,T,H,ee);case et:var oe=H._init;return Q(T,O,A,oe(H._payload),ee)}if(ci(H)||ce(H))return T=T.get(A)||null,q(O,T,H,ee,null);ro(O,H)}return null}function X(T,O,A,H){for(var ee=null,oe=null,le=O,ue=O=0,nt=null;le!==null&&ue<A.length;ue++){le.index>ue?(nt=le,le=null):nt=le.sibling;var Se=F(T,le,A[ue],H);if(Se===null){le===null&&(le=nt);break}e&&le&&Se.alternate===null&&t(T,le),O=f(Se,O,ue),oe===null?ee=Se:oe.sibling=Se,oe=Se,le=nt}if(ue===A.length)return i(T,le),Me&&On(T,ue),ee;if(le===null){for(;ue<A.length;ue++)le=B(T,A[ue],H),le!==null&&(O=f(le,O,ue),oe===null?ee=le:oe.sibling=le,oe=le);return Me&&On(T,ue),ee}for(le=l(T,le);ue<A.length;ue++)nt=Q(le,T,ue,A[ue],H),nt!==null&&(e&&nt.alternate!==null&&le.delete(nt.key===null?ue:nt.key),O=f(nt,O,ue),oe===null?ee=nt:oe.sibling=nt,oe=nt);return e&&le.forEach(function(ln){return t(T,ln)}),Me&&On(T,ue),ee}function Y(T,O,A,H){var ee=ce(A);if(typeof ee!="function")throw Error(n(150));if(A=ee.call(A),A==null)throw Error(n(151));for(var oe=ee=null,le=O,ue=O=0,nt=null,Se=A.next();le!==null&&!Se.done;ue++,Se=A.next()){le.index>ue?(nt=le,le=null):nt=le.sibling;var ln=F(T,le,Se.value,H);if(ln===null){le===null&&(le=nt);break}e&&le&&ln.alternate===null&&t(T,le),O=f(ln,O,ue),oe===null?ee=ln:oe.sibling=ln,oe=ln,le=nt}if(Se.done)return i(T,le),Me&&On(T,ue),ee;if(le===null){for(;!Se.done;ue++,Se=A.next())Se=B(T,Se.value,H),Se!==null&&(O=f(Se,O,ue),oe===null?ee=Se:oe.sibling=Se,oe=Se);return Me&&On(T,ue),ee}for(le=l(T,le);!Se.done;ue++,Se=A.next())Se=Q(le,T,ue,Se.value,H),Se!==null&&(e&&Se.alternate!==null&&le.delete(Se.key===null?ue:Se.key),O=f(Se,O,ue),oe===null?ee=Se:oe.sibling=Se,oe=Se);return e&&le.forEach(function(uv){return t(T,uv)}),Me&&On(T,ue),ee}function Ke(T,O,A,H){if(typeof A=="object"&&A!==null&&A.type===re&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case M:e:{for(var ee=A.key,oe=O;oe!==null;){if(oe.key===ee){if(ee=A.type,ee===re){if(oe.tag===7){i(T,oe.sibling),O=d(oe,A.props.children),O.return=T,T=O;break e}}else if(oe.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===et&&$h(ee)===oe.type){i(T,oe.sibling),O=d(oe,A.props),O.ref=Ai(T,oe,A),O.return=T,T=O;break e}i(T,oe);break}else t(T,oe);oe=oe.sibling}A.type===re?(O=Mn(A.props.children,T.mode,H,A.key),O.return=T,T=O):(H=ko(A.type,A.key,A.props,null,T.mode,H),H.ref=Ai(T,O,A),H.return=T,T=H)}return v(T);case G:e:{for(oe=A.key;O!==null;){if(O.key===oe)if(O.tag===4&&O.stateNode.containerInfo===A.containerInfo&&O.stateNode.implementation===A.implementation){i(T,O.sibling),O=d(O,A.children||[]),O.return=T,T=O;break e}else{i(T,O);break}else t(T,O);O=O.sibling}O=Bc(A,T.mode,H),O.return=T,T=O}return v(T);case et:return oe=A._init,Ke(T,O,oe(A._payload),H)}if(ci(A))return X(T,O,A,H);if(ce(A))return Y(T,O,A,H);ro(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,O!==null&&O.tag===6?(i(T,O.sibling),O=d(O,A),O.return=T,T=O):(i(T,O),O=qc(A,T.mode,H),O.return=T,T=O),v(T)):i(T,O)}return Ke}var bs=Ih(!0),Dh=Ih(!1),Li={},hr=Jr(Li),$i=Jr(Li),Ii=Jr(Li);function Tn(e){if(e===Li)throw Error(n(174));return e}function ac(e,t){switch(Le(Ii,t),Le($i,e),Le(hr,Li),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:il(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=il(t,e)}De(hr),Le(hr,t)}function Ss(){De(hr),De($i),De(Ii)}function Mh(e){Tn(Ii.current);var t=Tn(hr.current),i=il(t,e.type);t!==i&&(Le($i,e),Le(hr,i))}function oc(e){$i.current===e&&(De(hr),De($i))}var Fe=Jr(0);function no(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lc=[];function cc(){for(var e=0;e<lc.length;e++)lc[e]._workInProgressVersionPrimary=null;lc.length=0}var so=D.ReactCurrentDispatcher,uc=D.ReactCurrentBatchConfig,An=0,Ue=null,Je=null,tt=null,io=!1,Di=!1,Mi=0,zg=0;function ct(){throw Error(n(321))}function dc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Yt(e[i],t[i]))return!1;return!0}function hc(e,t,i,l,d,f){if(An=f,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=e===null||e.memoizedState===null?$g:Ig,e=i(l,d),Di){f=0;do{if(Di=!1,Mi=0,25<=f)throw Error(n(301));f+=1,tt=Je=null,t.updateQueue=null,so.current=Dg,e=i(l,d)}while(Di)}if(so.current=lo,t=Je!==null&&Je.next!==null,An=0,tt=Je=Ue=null,io=!1,t)throw Error(n(300));return e}function fc(){var e=Mi!==0;return Mi=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ue.memoizedState=tt=e:tt=tt.next=e,tt}function Kt(){if(Je===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=tt===null?Ue.memoizedState:tt.next;if(t!==null)tt=t,Je=e;else{if(e===null)throw Error(n(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},tt===null?Ue.memoizedState=tt=e:tt=tt.next=e}return tt}function Fi(e,t){return typeof t=="function"?t(e):t}function pc(e){var t=Kt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var l=Je,d=l.baseQueue,f=i.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}l.baseQueue=d=f,i.pending=null}if(d!==null){f=d.next,l=l.baseState;var C=v=null,P=null,$=f;do{var q=$.lane;if((An&q)===q)P!==null&&(P=P.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),l=$.hasEagerState?$.eagerState:e(l,$.action);else{var B={lane:q,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};P===null?(C=P=B,v=l):P=P.next=B,Ue.lanes|=q,Ln|=q}$=$.next}while($!==null&&$!==f);P===null?v=l:P.next=C,Yt(l,t.memoizedState)||(Ct=!0),t.memoizedState=l,t.baseState=v,t.baseQueue=P,i.lastRenderedState=l}if(e=i.interleaved,e!==null){d=e;do f=d.lane,Ue.lanes|=f,Ln|=f,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function mc(e){var t=Kt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var l=i.dispatch,d=i.pending,f=t.memoizedState;if(d!==null){i.pending=null;var v=d=d.next;do f=e(f,v.action),v=v.next;while(v!==d);Yt(f,t.memoizedState)||(Ct=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,l]}function Fh(){}function Uh(e,t){var i=Ue,l=Kt(),d=t(),f=!Yt(l.memoizedState,d);if(f&&(l.memoizedState=d,Ct=!0),l=l.queue,yc(Wh.bind(null,i,l,e),[e]),l.getSnapshot!==t||f||tt!==null&&tt.memoizedState.tag&1){if(i.flags|=2048,Ui(9,Bh.bind(null,i,l,d,t),void 0,null),rt===null)throw Error(n(349));(An&30)!==0||qh(i,t,d)}return d}function qh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Bh(e,t,i,l){t.value=i,t.getSnapshot=l,Hh(t)&&Kh(e)}function Wh(e,t,i){return i(function(){Hh(t)&&Kh(e)})}function Hh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Yt(e,i)}catch{return!0}}function Kh(e){var t=Pr(e,1);t!==null&&sr(t,e,1,-1)}function Vh(e){var t=fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:e},t.queue=e,e=e.dispatch=Lg.bind(null,Ue,e),[t.memoizedState,e]}function Ui(e,t,i,l){return e={tag:e,create:t,destroy:i,deps:l,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e)),e}function Qh(){return Kt().memoizedState}function ao(e,t,i,l){var d=fr();Ue.flags|=e,d.memoizedState=Ui(1|t,i,void 0,l===void 0?null:l)}function oo(e,t,i,l){var d=Kt();l=l===void 0?null:l;var f=void 0;if(Je!==null){var v=Je.memoizedState;if(f=v.destroy,l!==null&&dc(l,v.deps)){d.memoizedState=Ui(t,i,f,l);return}}Ue.flags|=e,d.memoizedState=Ui(1|t,i,f,l)}function Gh(e,t){return ao(8390656,8,e,t)}function yc(e,t){return oo(2048,8,e,t)}function Jh(e,t){return oo(4,2,e,t)}function Zh(e,t){return oo(4,4,e,t)}function Xh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yh(e,t,i){return i=i!=null?i.concat([e]):null,oo(4,4,Xh.bind(null,t,e),i)}function gc(){}function ef(e,t){var i=Kt();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&dc(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function tf(e,t){var i=Kt();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&dc(t,l[1])?l[0]:(e=e(),i.memoizedState=[e,t],e)}function rf(e,t,i){return(An&21)===0?(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=i):(Yt(i,t)||(i=Pd(),Ue.lanes|=i,Ln|=i,e.baseState=!0),t)}function Tg(e,t){var i=je;je=i!==0&&4>i?i:4,e(!0);var l=uc.transition;uc.transition={};try{e(!1),t()}finally{je=i,uc.transition=l}}function nf(){return Kt().memoizedState}function Ag(e,t,i){var l=sn(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},sf(e))af(t,i);else if(i=Ph(e,t,i,l),i!==null){var d=gt();sr(i,e,l,d),of(i,t,l)}}function Lg(e,t,i){var l=sn(e),d={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(sf(e))af(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var v=t.lastRenderedState,C=f(v,i);if(d.hasEagerState=!0,d.eagerState=C,Yt(C,v)){var P=t.interleaved;P===null?(d.next=d,rc(t)):(d.next=P.next,P.next=d),t.interleaved=d;return}}catch{}finally{}i=Ph(e,t,d,l),i!==null&&(d=gt(),sr(i,e,l,d),of(i,t,l))}}function sf(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function af(e,t){Di=io=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function of(e,t,i){if((i&4194240)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,gl(e,i)}}var lo={readContext:Ht,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},$g={readContext:Ht,useCallback:function(e,t){return fr().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:Gh,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,ao(4194308,4,Xh.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ao(4194308,4,e,t)},useInsertionEffect:function(e,t){return ao(4,2,e,t)},useMemo:function(e,t){var i=fr();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var l=fr();return t=i!==void 0?i(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=Ag.bind(null,Ue,e),[l.memoizedState,e]},useRef:function(e){var t=fr();return e={current:e},t.memoizedState=e},useState:Vh,useDebugValue:gc,useDeferredValue:function(e){return fr().memoizedState=e},useTransition:function(){var e=Vh(!1),t=e[0];return e=Tg.bind(null,e[1]),fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var l=Ue,d=fr();if(Me){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),rt===null)throw Error(n(349));(An&30)!==0||qh(l,t,i)}d.memoizedState=i;var f={value:i,getSnapshot:t};return d.queue=f,Gh(Wh.bind(null,l,f,e),[e]),l.flags|=2048,Ui(9,Bh.bind(null,l,f,i,t),void 0,null),i},useId:function(){var e=fr(),t=rt.identifierPrefix;if(Me){var i=Er,l=Cr;i=(l&~(1<<32-Xt(l)-1)).toString(32)+i,t=":"+t+"R"+i,i=Mi++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=zg++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ig={readContext:Ht,useCallback:ef,useContext:Ht,useEffect:yc,useImperativeHandle:Yh,useInsertionEffect:Jh,useLayoutEffect:Zh,useMemo:tf,useReducer:pc,useRef:Qh,useState:function(){return pc(Fi)},useDebugValue:gc,useDeferredValue:function(e){var t=Kt();return rf(t,Je.memoizedState,e)},useTransition:function(){var e=pc(Fi)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:Fh,useSyncExternalStore:Uh,useId:nf,unstable_isNewReconciler:!1},Dg={readContext:Ht,useCallback:ef,useContext:Ht,useEffect:yc,useImperativeHandle:Yh,useInsertionEffect:Jh,useLayoutEffect:Zh,useMemo:tf,useReducer:mc,useRef:Qh,useState:function(){return mc(Fi)},useDebugValue:gc,useDeferredValue:function(e){var t=Kt();return Je===null?t.memoizedState=e:rf(t,Je.memoizedState,e)},useTransition:function(){var e=mc(Fi)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:Fh,useSyncExternalStore:Uh,useId:nf,unstable_isNewReconciler:!1};function Ns(e,t){try{var i="",l=t;do i+=Ae(l),l=l.return;while(l);var d=i}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function vc(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function wc(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Mg=typeof WeakMap=="function"?WeakMap:Map;function lf(e,t,i){i=jr(-1,i),i.tag=3,i.payload={element:null};var l=t.value;return i.callback=function(){yo||(yo=!0,Ac=l),wc(e,t)},i}function cf(e,t,i){i=jr(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=t.value;i.payload=function(){return l(d)},i.callback=function(){wc(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){wc(e,t),typeof l!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var v=t.stack;this.componentDidCatch(t.value,{componentStack:v!==null?v:""})}),i}function uf(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Mg;var d=new Set;l.set(t,d)}else d=l.get(t),d===void 0&&(d=new Set,l.set(t,d));d.has(i)||(d.add(i),e=Yg.bind(null,e,t,i),t.then(e,e))}function df(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hf(e,t,i,l,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=jr(-1,1),t.tag=2,en(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Fg=D.ReactCurrentOwner,Ct=!1;function yt(e,t,i,l){t.child=e===null?Dh(t,null,i,l):bs(t,e.child,i,l)}function ff(e,t,i,l,d){i=i.render;var f=t.ref;return ks(t,d),l=hc(e,t,i,l,f,d),i=fc(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Rr(e,t,d)):(Me&&i&&Vl(t),t.flags|=1,yt(e,t,l,d),t.child)}function pf(e,t,i,l,d){if(e===null){var f=i.type;return typeof f=="function"&&!Uc(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,mf(e,t,f,l,d)):(e=ko(i.type,null,l,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var v=f.memoizedProps;if(i=i.compare,i=i!==null?i:Ei,i(v,l)&&e.ref===t.ref)return Rr(e,t,d)}return t.flags|=1,e=on(f,l),e.ref=t.ref,e.return=t,t.child=e}function mf(e,t,i,l,d){if(e!==null){var f=e.memoizedProps;if(Ei(f,l)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=l=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,Rr(e,t,d)}return _c(e,t,i,l,d)}function yf(e,t,i){var l=t.pendingProps,d=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Es,Dt),Dt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(Es,Dt),Dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:i,Le(Es,Dt),Dt|=l}else f!==null?(l=f.baseLanes|i,t.memoizedState=null):l=i,Le(Es,Dt),Dt|=l;return yt(e,t,d,i),t.child}function gf(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function _c(e,t,i,l,d){var f=Nt(i)?jn:lt.current;return f=gs(t,f),ks(t,d),i=hc(e,t,i,l,f,d),l=fc(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Rr(e,t,d)):(Me&&l&&Vl(t),t.flags|=1,yt(e,t,i,d),t.child)}function vf(e,t,i,l,d){if(Nt(i)){var f=!0;Ka(t)}else f=!1;if(ks(t,d),t.stateNode===null)uo(e,t),Ah(t,i,l),ic(t,i,l,d),l=!0;else if(e===null){var v=t.stateNode,C=t.memoizedProps;v.props=C;var P=v.context,$=i.contextType;typeof $=="object"&&$!==null?$=Ht($):($=Nt(i)?jn:lt.current,$=gs(t,$));var q=i.getDerivedStateFromProps,B=typeof q=="function"||typeof v.getSnapshotBeforeUpdate=="function";B||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==l||P!==$)&&Lh(t,v,l,$),Yr=!1;var F=t.memoizedState;v.state=F,eo(t,l,v,d),P=t.memoizedState,C!==l||F!==P||St.current||Yr?(typeof q=="function"&&(sc(t,i,q,l),P=t.memoizedState),(C=Yr||Th(t,i,C,l,F,P,$))?(B||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=P),v.props=l,v.state=P,v.context=$,l=C):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{v=t.stateNode,jh(e,t),C=t.memoizedProps,$=t.type===t.elementType?C:tr(t.type,C),v.props=$,B=t.pendingProps,F=v.context,P=i.contextType,typeof P=="object"&&P!==null?P=Ht(P):(P=Nt(i)?jn:lt.current,P=gs(t,P));var Q=i.getDerivedStateFromProps;(q=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==B||F!==P)&&Lh(t,v,l,P),Yr=!1,F=t.memoizedState,v.state=F,eo(t,l,v,d);var X=t.memoizedState;C!==B||F!==X||St.current||Yr?(typeof Q=="function"&&(sc(t,i,Q,l),X=t.memoizedState),($=Yr||Th(t,i,$,l,F,X,P)||!1)?(q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,X,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,X,P)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=X),v.props=l,v.state=X,v.context=P,l=$):(typeof v.componentDidUpdate!="function"||C===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),l=!1)}return xc(e,t,i,l,f,d)}function xc(e,t,i,l,d,f){gf(e,t);var v=(t.flags&128)!==0;if(!l&&!v)return d&&xh(t,i,!1),Rr(e,t,f);l=t.stateNode,Fg.current=t;var C=v&&typeof i.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&v?(t.child=bs(t,e.child,null,f),t.child=bs(t,null,C,f)):yt(e,t,C,f),t.memoizedState=l.state,d&&xh(t,i,!0),t.child}function wf(e){var t=e.stateNode;t.pendingContext?wh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wh(e,t.context,!1),ac(e,t.containerInfo)}function _f(e,t,i,l,d){return _s(),Zl(d),t.flags|=256,yt(e,t,i,l),t.child}var kc={dehydrated:null,treeContext:null,retryLane:0};function bc(e){return{baseLanes:e,cachePool:null,transitions:null}}function xf(e,t,i){var l=t.pendingProps,d=Fe.current,f=!1,v=(t.flags&128)!==0,C;if((C=v)||(C=e!==null&&e.memoizedState===null?!1:(d&2)!==0),C?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Le(Fe,d&1),e===null)return Jl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(v=l.children,e=l.fallback,f?(l=t.mode,f=t.child,v={mode:"hidden",children:v},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=v):f=bo(v,l,0,null),e=Mn(e,l,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=bc(i),t.memoizedState=kc,e):Sc(t,v));if(d=e.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return Ug(e,t,v,l,C,d,i);if(f){f=l.fallback,v=t.mode,d=e.child,C=d.sibling;var P={mode:"hidden",children:l.children};return(v&1)===0&&t.child!==d?(l=t.child,l.childLanes=0,l.pendingProps=P,t.deletions=null):(l=on(d,P),l.subtreeFlags=d.subtreeFlags&14680064),C!==null?f=on(C,f):(f=Mn(f,v,i,null),f.flags|=2),f.return=t,l.return=t,l.sibling=f,t.child=l,l=f,f=t.child,v=e.child.memoizedState,v=v===null?bc(i):{baseLanes:v.baseLanes|i,cachePool:null,transitions:v.transitions},f.memoizedState=v,f.childLanes=e.childLanes&~i,t.memoizedState=kc,l}return f=e.child,e=f.sibling,l=on(f,{mode:"visible",children:l.children}),(t.mode&1)===0&&(l.lanes=i),l.return=t,l.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=l,t.memoizedState=null,l}function Sc(e,t){return t=bo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function co(e,t,i,l){return l!==null&&Zl(l),bs(t,e.child,null,i),e=Sc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ug(e,t,i,l,d,f,v){if(i)return t.flags&256?(t.flags&=-257,l=vc(Error(n(422))),co(e,t,v,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=l.fallback,d=t.mode,l=bo({mode:"visible",children:l.children},d,0,null),f=Mn(f,d,v,null),f.flags|=2,l.return=t,f.return=t,l.sibling=f,t.child=l,(t.mode&1)!==0&&bs(t,e.child,null,v),t.child.memoizedState=bc(v),t.memoizedState=kc,f);if((t.mode&1)===0)return co(e,t,v,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var C=l.dgst;return l=C,f=Error(n(419)),l=vc(f,l,void 0),co(e,t,v,l)}if(C=(v&e.childLanes)!==0,Ct||C){if(l=rt,l!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|v))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,Pr(e,d),sr(l,e,d,-1))}return Fc(),l=vc(Error(n(421))),co(e,t,v,l)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=ev.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,It=Gr(d.nextSibling),$t=t,Me=!0,er=null,e!==null&&(Bt[Wt++]=Cr,Bt[Wt++]=Er,Bt[Wt++]=Rn,Cr=e.id,Er=e.overflow,Rn=t),t=Sc(t,l.children),t.flags|=4096,t)}function kf(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),tc(e.return,t,i)}function Nc(e,t,i,l,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=d)}function bf(e,t,i){var l=t.pendingProps,d=l.revealOrder,f=l.tail;if(yt(e,t,l.children,i),l=Fe.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kf(e,i,t);else if(e.tag===19)kf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Le(Fe,l),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(i=t.child,d=null;i!==null;)e=i.alternate,e!==null&&no(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=t.child,t.child=null):(d=i.sibling,i.sibling=null),Nc(t,!1,d,i,f);break;case"backwards":for(i=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&no(e)===null){t.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Nc(t,!0,i,null,f);break;case"together":Nc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uo(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Ln|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=on(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=on(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function qg(e,t,i){switch(t.tag){case 3:wf(t),_s();break;case 5:Mh(t);break;case 1:Nt(t.type)&&Ka(t);break;case 4:ac(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,d=t.memoizedProps.value;Le(Za,l._currentValue),l._currentValue=d;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(Le(Fe,Fe.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?xf(e,t,i):(Le(Fe,Fe.current&1),e=Rr(e,t,i),e!==null?e.sibling:null);Le(Fe,Fe.current&1);break;case 19:if(l=(i&t.childLanes)!==0,(e.flags&128)!==0){if(l)return bf(e,t,i);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Le(Fe,Fe.current),l)break;return null;case 22:case 23:return t.lanes=0,yf(e,t,i)}return Rr(e,t,i)}var Sf,Cc,Nf,Cf;Sf=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Cc=function(){},Nf=function(e,t,i,l){var d=e.memoizedProps;if(d!==l){e=t.stateNode,Tn(hr.current);var f=null;switch(i){case"input":d=tl(e,d),l=tl(e,l),f=[];break;case"select":d=j({},d,{value:void 0}),l=j({},l,{value:void 0}),f=[];break;case"textarea":d=sl(e,d),l=sl(e,l),f=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ba)}al(i,l);var v;i=null;for($ in d)if(!l.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var C=d[$];for(v in C)C.hasOwnProperty(v)&&(i||(i={}),i[v]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?f||(f=[]):(f=f||[]).push($,null));for($ in l){var P=l[$];if(C=d!=null?d[$]:void 0,l.hasOwnProperty($)&&P!==C&&(P!=null||C!=null))if($==="style")if(C){for(v in C)!C.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(i||(i={}),i[v]="");for(v in P)P.hasOwnProperty(v)&&C[v]!==P[v]&&(i||(i={}),i[v]=P[v])}else i||(f||(f=[]),f.push($,i)),i=P;else $==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,C=C?C.__html:void 0,P!=null&&C!==P&&(f=f||[]).push($,P)):$==="children"?typeof P!="string"&&typeof P!="number"||(f=f||[]).push($,""+P):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(P!=null&&$==="onScroll"&&Ie("scroll",e),f||C===P||(f=[])):(f=f||[]).push($,P))}i&&(f=f||[]).push("style",i);var $=f;(t.updateQueue=$)&&(t.flags|=4)}},Cf=function(e,t,i,l){i!==l&&(t.flags|=4)};function qi(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function Bg(e,t,i){var l=t.pendingProps;switch(Ql(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return Nt(t.type)&&Ha(),ut(t),null;case 3:return l=t.stateNode,Ss(),De(St),De(lt),cc(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ja(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,er!==null&&(Ic(er),er=null))),Cc(e,t),ut(t),null;case 5:oc(t);var d=Tn(Ii.current);if(i=t.type,e!==null&&t.stateNode!=null)Nf(e,t,i,l,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(n(166));return ut(t),null}if(e=Tn(hr.current),Ja(t)){l=t.stateNode,i=t.type;var f=t.memoizedProps;switch(l[dr]=t,l[zi]=f,e=(t.mode&1)!==0,i){case"dialog":Ie("cancel",l),Ie("close",l);break;case"iframe":case"object":case"embed":Ie("load",l);break;case"video":case"audio":for(d=0;d<ji.length;d++)Ie(ji[d],l);break;case"source":Ie("error",l);break;case"img":case"image":case"link":Ie("error",l),Ie("load",l);break;case"details":Ie("toggle",l);break;case"input":sd(l,f),Ie("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},Ie("invalid",l);break;case"textarea":od(l,f),Ie("invalid",l)}al(i,f),d=null;for(var v in f)if(f.hasOwnProperty(v)){var C=f[v];v==="children"?typeof C=="string"?l.textContent!==C&&(f.suppressHydrationWarning!==!0&&qa(l.textContent,C,e),d=["children",C]):typeof C=="number"&&l.textContent!==""+C&&(f.suppressHydrationWarning!==!0&&qa(l.textContent,C,e),d=["children",""+C]):o.hasOwnProperty(v)&&C!=null&&v==="onScroll"&&Ie("scroll",l)}switch(i){case"input":wa(l),ad(l,f,!0);break;case"textarea":wa(l),cd(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Ba)}l=d,t.updateQueue=l,l!==null&&(t.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ud(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=v.createElement(i,{is:l.is}):(e=v.createElement(i),i==="select"&&(v=e,l.multiple?v.multiple=!0:l.size&&(v.size=l.size))):e=v.createElementNS(e,i),e[dr]=t,e[zi]=l,Sf(e,t,!1,!1),t.stateNode=e;e:{switch(v=ol(i,l),i){case"dialog":Ie("cancel",e),Ie("close",e),d=l;break;case"iframe":case"object":case"embed":Ie("load",e),d=l;break;case"video":case"audio":for(d=0;d<ji.length;d++)Ie(ji[d],e);d=l;break;case"source":Ie("error",e),d=l;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),d=l;break;case"details":Ie("toggle",e),d=l;break;case"input":sd(e,l),d=tl(e,l),Ie("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=j({},l,{value:void 0}),Ie("invalid",e);break;case"textarea":od(e,l),d=sl(e,l),Ie("invalid",e);break;default:d=l}al(i,d),C=d;for(f in C)if(C.hasOwnProperty(f)){var P=C[f];f==="style"?fd(e,P):f==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&dd(e,P)):f==="children"?typeof P=="string"?(i!=="textarea"||P!=="")&&ui(e,P):typeof P=="number"&&ui(e,""+P):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?P!=null&&f==="onScroll"&&Ie("scroll",e):P!=null&&L(e,f,P,v))}switch(i){case"input":wa(e),ad(e,l,!1);break;case"textarea":wa(e),cd(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Ee(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?is(e,!!l.multiple,f,!1):l.defaultValue!=null&&is(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Ba)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)Cf(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(n(166));if(i=Tn(Ii.current),Tn(hr.current),Ja(t)){if(l=t.stateNode,i=t.memoizedProps,l[dr]=t,(f=l.nodeValue!==i)&&(e=$t,e!==null))switch(e.tag){case 3:qa(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qa(l.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[dr]=t,t.stateNode=l}return ut(t),null;case 13:if(De(Fe),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&It!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Eh(),_s(),t.flags|=98560,f=!1;else if(f=Ja(t),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[dr]=t}else _s(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ut(t),f=!1}else er!==null&&(Ic(er),er=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Fe.current&1)!==0?Ze===0&&(Ze=3):Fc())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return Ss(),Cc(e,t),e===null&&Ri(t.stateNode.containerInfo),ut(t),null;case 10:return ec(t.type._context),ut(t),null;case 17:return Nt(t.type)&&Ha(),ut(t),null;case 19:if(De(Fe),f=t.memoizedState,f===null)return ut(t),null;if(l=(t.flags&128)!==0,v=f.rendering,v===null)if(l)qi(f,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(v=no(e),v!==null){for(t.flags|=128,qi(f,!1),l=v.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=i,i=t.child;i!==null;)f=i,e=l,f.flags&=14680066,v=f.alternate,v===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,e=v.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Le(Fe,Fe.current&1|2),t.child}e=e.sibling}f.tail!==null&&He()>Ps&&(t.flags|=128,l=!0,qi(f,!1),t.lanes=4194304)}else{if(!l)if(e=no(v),e!==null){if(t.flags|=128,l=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),qi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!Me)return ut(t),null}else 2*He()-f.renderingStartTime>Ps&&i!==1073741824&&(t.flags|=128,l=!0,qi(f,!1),t.lanes=4194304);f.isBackwards?(v.sibling=t.child,t.child=v):(i=f.last,i!==null?i.sibling=v:t.child=v,f.last=v)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=He(),t.sibling=null,i=Fe.current,Le(Fe,l?i&1|2:i&1),t):(ut(t),null);case 22:case 23:return Mc(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&(t.mode&1)!==0?(Dt&1073741824)!==0&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Wg(e,t){switch(Ql(t),t.tag){case 1:return Nt(t.type)&&Ha(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ss(),De(St),De(lt),cc(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return oc(t),null;case 13:if(De(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Fe),null;case 4:return Ss(),null;case 10:return ec(t.type._context),null;case 22:case 23:return Mc(),null;case 24:return null;default:return null}}var ho=!1,dt=!1,Hg=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Cs(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){Be(e,t,l)}else i.current=null}function Ec(e,t,i){try{i()}catch(l){Be(e,t,l)}}var Ef=!1;function Kg(e,t){if(Ml=Oa,e=nh(),Ol(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var v=0,C=-1,P=-1,$=0,q=0,B=e,F=null;t:for(;;){for(var Q;B!==i||d!==0&&B.nodeType!==3||(C=v+d),B!==f||l!==0&&B.nodeType!==3||(P=v+l),B.nodeType===3&&(v+=B.nodeValue.length),(Q=B.firstChild)!==null;)F=B,B=Q;for(;;){if(B===e)break t;if(F===i&&++$===d&&(C=v),F===f&&++q===l&&(P=v),(Q=B.nextSibling)!==null)break;B=F,F=B.parentNode}B=Q}i=C===-1||P===-1?null:{start:C,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(Fl={focusedElem:e,selectionRange:i},Oa=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var X=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var Y=X.memoizedProps,Ke=X.memoizedState,T=t.stateNode,O=T.getSnapshotBeforeUpdate(t.elementType===t.type?Y:tr(t.type,Y),Ke);T.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(H){Be(t,t.return,H)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return X=Ef,Ef=!1,X}function Bi(e,t,i){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&Ec(t,i,f)}d=d.next}while(d!==l)}}function fo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==t)}}function Pc(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Pf(e){var t=e.alternate;t!==null&&(e.alternate=null,Pf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dr],delete t[zi],delete t[Wl],delete t[Pg],delete t[jg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jf(e){return e.tag===5||e.tag===3||e.tag===4}function Rf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jc(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Ba));else if(l!==4&&(e=e.child,e!==null))for(jc(e,t,i),e=e.sibling;e!==null;)jc(e,t,i),e=e.sibling}function Rc(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Rc(e,t,i),e=e.sibling;e!==null;)Rc(e,t,i),e=e.sibling}var at=null,rr=!1;function tn(e,t,i){for(i=i.child;i!==null;)Of(e,t,i),i=i.sibling}function Of(e,t,i){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Na,i)}catch{}switch(i.tag){case 5:dt||Cs(i,t);case 6:var l=at,d=rr;at=null,tn(e,t,i),at=l,rr=d,at!==null&&(rr?(e=at,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):at.removeChild(i.stateNode));break;case 18:at!==null&&(rr?(e=at,i=i.stateNode,e.nodeType===8?Bl(e.parentNode,i):e.nodeType===1&&Bl(e,i),xi(e)):Bl(at,i.stateNode));break;case 4:l=at,d=rr,at=i.stateNode.containerInfo,rr=!0,tn(e,t,i),at=l,rr=d;break;case 0:case 11:case 14:case 15:if(!dt&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var f=d,v=f.destroy;f=f.tag,v!==void 0&&((f&2)!==0||(f&4)!==0)&&Ec(i,t,v),d=d.next}while(d!==l)}tn(e,t,i);break;case 1:if(!dt&&(Cs(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(C){Be(i,t,C)}tn(e,t,i);break;case 21:tn(e,t,i);break;case 22:i.mode&1?(dt=(l=dt)||i.memoizedState!==null,tn(e,t,i),dt=l):tn(e,t,i);break;default:tn(e,t,i)}}function zf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Hg),t.forEach(function(l){var d=tv.bind(null,e,l);i.has(l)||(i.add(l),l.then(d,d))})}}function nr(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];try{var f=e,v=t,C=v;e:for(;C!==null;){switch(C.tag){case 5:at=C.stateNode,rr=!1;break e;case 3:at=C.stateNode.containerInfo,rr=!0;break e;case 4:at=C.stateNode.containerInfo,rr=!0;break e}C=C.return}if(at===null)throw Error(n(160));Of(f,v,d),at=null,rr=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch($){Be(d,t,$)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tf(t,e),t=t.sibling}function Tf(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nr(t,e),pr(e),l&4){try{Bi(3,e,e.return),fo(3,e)}catch(Y){Be(e,e.return,Y)}try{Bi(5,e,e.return)}catch(Y){Be(e,e.return,Y)}}break;case 1:nr(t,e),pr(e),l&512&&i!==null&&Cs(i,i.return);break;case 5:if(nr(t,e),pr(e),l&512&&i!==null&&Cs(i,i.return),e.flags&32){var d=e.stateNode;try{ui(d,"")}catch(Y){Be(e,e.return,Y)}}if(l&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,v=i!==null?i.memoizedProps:f,C=e.type,P=e.updateQueue;if(e.updateQueue=null,P!==null)try{C==="input"&&f.type==="radio"&&f.name!=null&&id(d,f),ol(C,v);var $=ol(C,f);for(v=0;v<P.length;v+=2){var q=P[v],B=P[v+1];q==="style"?fd(d,B):q==="dangerouslySetInnerHTML"?dd(d,B):q==="children"?ui(d,B):L(d,q,B,$)}switch(C){case"input":rl(d,f);break;case"textarea":ld(d,f);break;case"select":var F=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Q=f.value;Q!=null?is(d,!!f.multiple,Q,!1):F!==!!f.multiple&&(f.defaultValue!=null?is(d,!!f.multiple,f.defaultValue,!0):is(d,!!f.multiple,f.multiple?[]:"",!1))}d[zi]=f}catch(Y){Be(e,e.return,Y)}}break;case 6:if(nr(t,e),pr(e),l&4){if(e.stateNode===null)throw Error(n(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(Y){Be(e,e.return,Y)}}break;case 3:if(nr(t,e),pr(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{xi(t.containerInfo)}catch(Y){Be(e,e.return,Y)}break;case 4:nr(t,e),pr(e);break;case 13:nr(t,e),pr(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Tc=He())),l&4&&zf(e);break;case 22:if(q=i!==null&&i.memoizedState!==null,e.mode&1?(dt=($=dt)||q,nr(t,e),dt=$):nr(t,e),pr(e),l&8192){if($=e.memoizedState!==null,(e.stateNode.isHidden=$)&&!q&&(e.mode&1)!==0)for(Z=e,q=e.child;q!==null;){for(B=Z=q;Z!==null;){switch(F=Z,Q=F.child,F.tag){case 0:case 11:case 14:case 15:Bi(4,F,F.return);break;case 1:Cs(F,F.return);var X=F.stateNode;if(typeof X.componentWillUnmount=="function"){l=F,i=F.return;try{t=l,X.props=t.memoizedProps,X.state=t.memoizedState,X.componentWillUnmount()}catch(Y){Be(l,i,Y)}}break;case 5:Cs(F,F.return);break;case 22:if(F.memoizedState!==null){$f(B);continue}}Q!==null?(Q.return=F,Z=Q):$f(B)}q=q.sibling}e:for(q=null,B=e;;){if(B.tag===5){if(q===null){q=B;try{d=B.stateNode,$?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(C=B.stateNode,P=B.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,C.style.display=hd("display",v))}catch(Y){Be(e,e.return,Y)}}}else if(B.tag===6){if(q===null)try{B.stateNode.nodeValue=$?"":B.memoizedProps}catch(Y){Be(e,e.return,Y)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===e)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===e)break e;for(;B.sibling===null;){if(B.return===null||B.return===e)break e;q===B&&(q=null),B=B.return}q===B&&(q=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:nr(t,e),pr(e),l&4&&zf(e);break;case 21:break;default:nr(t,e),pr(e)}}function pr(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(jf(i)){var l=i;break e}i=i.return}throw Error(n(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(ui(d,""),l.flags&=-33);var f=Rf(e);Rc(e,f,d);break;case 3:case 4:var v=l.stateNode.containerInfo,C=Rf(e);jc(e,C,v);break;default:throw Error(n(161))}}catch(P){Be(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vg(e,t,i){Z=e,Af(e)}function Af(e,t,i){for(var l=(e.mode&1)!==0;Z!==null;){var d=Z,f=d.child;if(d.tag===22&&l){var v=d.memoizedState!==null||ho;if(!v){var C=d.alternate,P=C!==null&&C.memoizedState!==null||dt;C=ho;var $=dt;if(ho=v,(dt=P)&&!$)for(Z=d;Z!==null;)v=Z,P=v.child,v.tag===22&&v.memoizedState!==null?If(d):P!==null?(P.return=v,Z=P):If(d);for(;f!==null;)Z=f,Af(f),f=f.sibling;Z=d,ho=C,dt=$}Lf(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,Z=f):Lf(e)}}function Lf(e){for(;Z!==null;){var t=Z;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:dt||fo(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!dt)if(i===null)l.componentDidMount();else{var d=t.elementType===t.type?i.memoizedProps:tr(t.type,i.memoizedProps);l.componentDidUpdate(d,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Oh(t,f,l);break;case 3:var v=t.updateQueue;if(v!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Oh(t,v,i)}break;case 5:var C=t.stateNode;if(i===null&&t.flags&4){i=C;var P=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&i.focus();break;case"img":P.src&&(i.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var $=t.alternate;if($!==null){var q=$.memoizedState;if(q!==null){var B=q.dehydrated;B!==null&&xi(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}dt||t.flags&512&&Pc(t)}catch(F){Be(t,t.return,F)}}if(t===e){Z=null;break}if(i=t.sibling,i!==null){i.return=t.return,Z=i;break}Z=t.return}}function $f(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Z=i;break}Z=t.return}}function If(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{fo(4,t)}catch(P){Be(t,i,P)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var d=t.return;try{l.componentDidMount()}catch(P){Be(t,d,P)}}var f=t.return;try{Pc(t)}catch(P){Be(t,f,P)}break;case 5:var v=t.return;try{Pc(t)}catch(P){Be(t,v,P)}}}catch(P){Be(t,t.return,P)}if(t===e){Z=null;break}var C=t.sibling;if(C!==null){C.return=t.return,Z=C;break}Z=t.return}}var Qg=Math.ceil,po=D.ReactCurrentDispatcher,Oc=D.ReactCurrentOwner,Vt=D.ReactCurrentBatchConfig,ke=0,rt=null,Qe=null,ot=0,Dt=0,Es=Jr(0),Ze=0,Wi=null,Ln=0,mo=0,zc=0,Hi=null,Et=null,Tc=0,Ps=1/0,Or=null,yo=!1,Ac=null,rn=null,go=!1,nn=null,vo=0,Ki=0,Lc=null,wo=-1,_o=0;function gt(){return(ke&6)!==0?He():wo!==-1?wo:wo=He()}function sn(e){return(e.mode&1)===0?1:(ke&2)!==0&&ot!==0?ot&-ot:Og.transition!==null?(_o===0&&(_o=Pd()),_o):(e=je,e!==0||(e=window.event,e=e===void 0?16:Id(e.type)),e)}function sr(e,t,i,l){if(50<Ki)throw Ki=0,Lc=null,Error(n(185));yi(e,i,l),((ke&2)===0||e!==rt)&&(e===rt&&((ke&2)===0&&(mo|=i),Ze===4&&an(e,ot)),Pt(e,l),i===1&&ke===0&&(t.mode&1)===0&&(Ps=He()+500,Va&&Xr()))}function Pt(e,t){var i=e.callbackNode;Oy(e,t);var l=Pa(e,e===rt?ot:0);if(l===0)i!==null&&Nd(i),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(i!=null&&Nd(i),t===1)e.tag===0?Rg(Mf.bind(null,e)):kh(Mf.bind(null,e)),Cg(function(){(ke&6)===0&&Xr()}),i=null;else{switch(jd(l)){case 1:i=pl;break;case 4:i=Cd;break;case 16:i=Sa;break;case 536870912:i=Ed;break;default:i=Sa}i=Vf(i,Df.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Df(e,t){if(wo=-1,_o=0,(ke&6)!==0)throw Error(n(327));var i=e.callbackNode;if(js()&&e.callbackNode!==i)return null;var l=Pa(e,e===rt?ot:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||t)t=xo(e,l);else{t=l;var d=ke;ke|=2;var f=Uf();(rt!==e||ot!==t)&&(Or=null,Ps=He()+500,In(e,t));do try{Zg();break}catch(C){Ff(e,C)}while(!0);Yl(),po.current=f,ke=d,Qe!==null?t=0:(rt=null,ot=0,t=Ze)}if(t!==0){if(t===2&&(d=ml(e),d!==0&&(l=d,t=$c(e,d))),t===1)throw i=Wi,In(e,0),an(e,l),Pt(e,He()),i;if(t===6)an(e,l);else{if(d=e.current.alternate,(l&30)===0&&!Gg(d)&&(t=xo(e,l),t===2&&(f=ml(e),f!==0&&(l=f,t=$c(e,f))),t===1))throw i=Wi,In(e,0),an(e,l),Pt(e,He()),i;switch(e.finishedWork=d,e.finishedLanes=l,t){case 0:case 1:throw Error(n(345));case 2:Dn(e,Et,Or);break;case 3:if(an(e,l),(l&130023424)===l&&(t=Tc+500-He(),10<t)){if(Pa(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){gt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=ql(Dn.bind(null,e,Et,Or),t);break}Dn(e,Et,Or);break;case 4:if(an(e,l),(l&4194240)===l)break;for(t=e.eventTimes,d=-1;0<l;){var v=31-Xt(l);f=1<<v,v=t[v],v>d&&(d=v),l&=~f}if(l=d,l=He()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Qg(l/1960))-l,10<l){e.timeoutHandle=ql(Dn.bind(null,e,Et,Or),l);break}Dn(e,Et,Or);break;case 5:Dn(e,Et,Or);break;default:throw Error(n(329))}}}return Pt(e,He()),e.callbackNode===i?Df.bind(null,e):null}function $c(e,t){var i=Hi;return e.current.memoizedState.isDehydrated&&(In(e,t).flags|=256),e=xo(e,t),e!==2&&(t=Et,Et=i,t!==null&&Ic(t)),e}function Ic(e){Et===null?Et=e:Et.push.apply(Et,e)}function Gg(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var d=i[l],f=d.getSnapshot;d=d.value;try{if(!Yt(f(),d))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~zc,t&=~mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Xt(t),l=1<<i;e[i]=-1,t&=~l}}function Mf(e){if((ke&6)!==0)throw Error(n(327));js();var t=Pa(e,0);if((t&1)===0)return Pt(e,He()),null;var i=xo(e,t);if(e.tag!==0&&i===2){var l=ml(e);l!==0&&(t=l,i=$c(e,l))}if(i===1)throw i=Wi,In(e,0),an(e,t),Pt(e,He()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dn(e,Et,Or),Pt(e,He()),null}function Dc(e,t){var i=ke;ke|=1;try{return e(t)}finally{ke=i,ke===0&&(Ps=He()+500,Va&&Xr())}}function $n(e){nn!==null&&nn.tag===0&&(ke&6)===0&&js();var t=ke;ke|=1;var i=Vt.transition,l=je;try{if(Vt.transition=null,je=1,e)return e()}finally{je=l,Vt.transition=i,ke=t,(ke&6)===0&&Xr()}}function Mc(){Dt=Es.current,De(Es)}function In(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Ng(i)),Qe!==null)for(i=Qe.return;i!==null;){var l=i;switch(Ql(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ha();break;case 3:Ss(),De(St),De(lt),cc();break;case 5:oc(l);break;case 4:Ss();break;case 13:De(Fe);break;case 19:De(Fe);break;case 10:ec(l.type._context);break;case 22:case 23:Mc()}i=i.return}if(rt=e,Qe=e=on(e.current,null),ot=Dt=t,Ze=0,Wi=null,zc=mo=Ln=0,Et=Hi=null,zn!==null){for(t=0;t<zn.length;t++)if(i=zn[t],l=i.interleaved,l!==null){i.interleaved=null;var d=l.next,f=i.pending;if(f!==null){var v=f.next;f.next=d,l.next=v}i.pending=l}zn=null}return e}function Ff(e,t){do{var i=Qe;try{if(Yl(),so.current=lo,io){for(var l=Ue.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}io=!1}if(An=0,tt=Je=Ue=null,Di=!1,Mi=0,Oc.current=null,i===null||i.return===null){Ze=1,Wi=t,Qe=null;break}e:{var f=e,v=i.return,C=i,P=t;if(t=ot,C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var $=P,q=C,B=q.tag;if((q.mode&1)===0&&(B===0||B===11||B===15)){var F=q.alternate;F?(q.updateQueue=F.updateQueue,q.memoizedState=F.memoizedState,q.lanes=F.lanes):(q.updateQueue=null,q.memoizedState=null)}var Q=df(v);if(Q!==null){Q.flags&=-257,hf(Q,v,C,f,t),Q.mode&1&&uf(f,$,t),t=Q,P=$;var X=t.updateQueue;if(X===null){var Y=new Set;Y.add(P),t.updateQueue=Y}else X.add(P);break e}else{if((t&1)===0){uf(f,$,t),Fc();break e}P=Error(n(426))}}else if(Me&&C.mode&1){var Ke=df(v);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),hf(Ke,v,C,f,t),Zl(Ns(P,C));break e}}f=P=Ns(P,C),Ze!==4&&(Ze=2),Hi===null?Hi=[f]:Hi.push(f),f=v;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var T=lf(f,P,t);Rh(f,T);break e;case 1:C=P;var O=f.type,A=f.stateNode;if((f.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(rn===null||!rn.has(A)))){f.flags|=65536,t&=-t,f.lanes|=t;var H=cf(f,C,t);Rh(f,H);break e}}f=f.return}while(f!==null)}Bf(i)}catch(ee){t=ee,Qe===i&&i!==null&&(Qe=i=i.return);continue}break}while(!0)}function Uf(){var e=po.current;return po.current=lo,e===null?lo:e}function Fc(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),rt===null||(Ln&268435455)===0&&(mo&268435455)===0||an(rt,ot)}function xo(e,t){var i=ke;ke|=2;var l=Uf();(rt!==e||ot!==t)&&(Or=null,In(e,t));do try{Jg();break}catch(d){Ff(e,d)}while(!0);if(Yl(),ke=i,po.current=l,Qe!==null)throw Error(n(261));return rt=null,ot=0,Ze}function Jg(){for(;Qe!==null;)qf(Qe)}function Zg(){for(;Qe!==null&&!ky();)qf(Qe)}function qf(e){var t=Kf(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,t===null?Bf(e):Qe=t,Oc.current=null}function Bf(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Bg(i,t,Dt),i!==null){Qe=i;return}}else{if(i=Wg(i,t),i!==null){i.flags&=32767,Qe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,Qe=null;return}}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);Ze===0&&(Ze=5)}function Dn(e,t,i){var l=je,d=Vt.transition;try{Vt.transition=null,je=1,Xg(e,t,i,l)}finally{Vt.transition=d,je=l}return null}function Xg(e,t,i,l){do js();while(nn!==null);if((ke&6)!==0)throw Error(n(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(zy(e,f),e===rt&&(Qe=rt=null,ot=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||go||(go=!0,Vf(Sa,function(){return js(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Vt.transition,Vt.transition=null;var v=je;je=1;var C=ke;ke|=4,Oc.current=null,Kg(e,i),Tf(i,e),vg(Fl),Oa=!!Ml,Fl=Ml=null,e.current=i,Vg(i),by(),ke=C,je=v,Vt.transition=f}else e.current=i;if(go&&(go=!1,nn=e,vo=d),f=e.pendingLanes,f===0&&(rn=null),Cy(i.stateNode),Pt(e,He()),t!==null)for(l=e.onRecoverableError,i=0;i<t.length;i++)d=t[i],l(d.value,{componentStack:d.stack,digest:d.digest});if(yo)throw yo=!1,e=Ac,Ac=null,e;return(vo&1)!==0&&e.tag!==0&&js(),f=e.pendingLanes,(f&1)!==0?e===Lc?Ki++:(Ki=0,Lc=e):Ki=0,Xr(),null}function js(){if(nn!==null){var e=jd(vo),t=Vt.transition,i=je;try{if(Vt.transition=null,je=16>e?16:e,nn===null)var l=!1;else{if(e=nn,nn=null,vo=0,(ke&6)!==0)throw Error(n(331));var d=ke;for(ke|=4,Z=e.current;Z!==null;){var f=Z,v=f.child;if((Z.flags&16)!==0){var C=f.deletions;if(C!==null){for(var P=0;P<C.length;P++){var $=C[P];for(Z=$;Z!==null;){var q=Z;switch(q.tag){case 0:case 11:case 15:Bi(8,q,f)}var B=q.child;if(B!==null)B.return=q,Z=B;else for(;Z!==null;){q=Z;var F=q.sibling,Q=q.return;if(Pf(q),q===$){Z=null;break}if(F!==null){F.return=Q,Z=F;break}Z=Q}}}var X=f.alternate;if(X!==null){var Y=X.child;if(Y!==null){X.child=null;do{var Ke=Y.sibling;Y.sibling=null,Y=Ke}while(Y!==null)}}Z=f}}if((f.subtreeFlags&2064)!==0&&v!==null)v.return=f,Z=v;else e:for(;Z!==null;){if(f=Z,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Bi(9,f,f.return)}var T=f.sibling;if(T!==null){T.return=f.return,Z=T;break e}Z=f.return}}var O=e.current;for(Z=O;Z!==null;){v=Z;var A=v.child;if((v.subtreeFlags&2064)!==0&&A!==null)A.return=v,Z=A;else e:for(v=O;Z!==null;){if(C=Z,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:fo(9,C)}}catch(ee){Be(C,C.return,ee)}if(C===v){Z=null;break e}var H=C.sibling;if(H!==null){H.return=C.return,Z=H;break e}Z=C.return}}if(ke=d,Xr(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Na,e)}catch{}l=!0}return l}finally{je=i,Vt.transition=t}}return!1}function Wf(e,t,i){t=Ns(i,t),t=lf(e,t,1),e=en(e,t,1),t=gt(),e!==null&&(yi(e,1,t),Pt(e,t))}function Be(e,t,i){if(e.tag===3)Wf(e,e,i);else for(;t!==null;){if(t.tag===3){Wf(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rn===null||!rn.has(l))){e=Ns(i,e),e=cf(t,e,1),t=en(t,e,1),e=gt(),t!==null&&(yi(t,1,e),Pt(t,e));break}}t=t.return}}function Yg(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&i,rt===e&&(ot&i)===i&&(Ze===4||Ze===3&&(ot&130023424)===ot&&500>He()-Tc?In(e,0):zc|=i),Pt(e,t)}function Hf(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ea,Ea<<=1,(Ea&130023424)===0&&(Ea=4194304)));var i=gt();e=Pr(e,t),e!==null&&(yi(e,t,i),Pt(e,i))}function ev(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Hf(e,i)}function tv(e,t){var i=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(n(314))}l!==null&&l.delete(t),Hf(e,i)}var Kf;Kf=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)Ct=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return Ct=!1,qg(e,t,i);Ct=(e.flags&131072)!==0}else Ct=!1,Me&&(t.flags&1048576)!==0&&bh(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;uo(e,t),e=t.pendingProps;var d=gs(t,lt.current);ks(t,i),d=hc(null,t,l,e,d,i);var f=fc();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(l)?(f=!0,Ka(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,nc(t),d.updater=to,t.stateNode=d,d._reactInternals=t,ic(t,l,e,i),t=xc(null,t,l,!0,f,i)):(t.tag=0,Me&&f&&Vl(t),yt(null,t,d,i),t=t.child),t;case 16:l=t.elementType;e:{switch(uo(e,t),e=t.pendingProps,d=l._init,l=d(l._payload),t.type=l,d=t.tag=nv(l),e=tr(l,e),d){case 0:t=_c(null,t,l,e,i);break e;case 1:t=vf(null,t,l,e,i);break e;case 11:t=ff(null,t,l,e,i);break e;case 14:t=pf(null,t,l,tr(l.type,e),i);break e}throw Error(n(306,l,""))}return t;case 0:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:tr(l,d),_c(e,t,l,d,i);case 1:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:tr(l,d),vf(e,t,l,d,i);case 3:e:{if(wf(t),e===null)throw Error(n(387));l=t.pendingProps,f=t.memoizedState,d=f.element,jh(e,t),eo(t,l,null,i);var v=t.memoizedState;if(l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=Ns(Error(n(423)),t),t=_f(e,t,l,i,d);break e}else if(l!==d){d=Ns(Error(n(424)),t),t=_f(e,t,l,i,d);break e}else for(It=Gr(t.stateNode.containerInfo.firstChild),$t=t,Me=!0,er=null,i=Dh(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(_s(),l===d){t=Rr(e,t,i);break e}yt(e,t,l,i)}t=t.child}return t;case 5:return Mh(t),e===null&&Jl(t),l=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,v=d.children,Ul(l,d)?v=null:f!==null&&Ul(l,f)&&(t.flags|=32),gf(e,t),yt(e,t,v,i),t.child;case 6:return e===null&&Jl(t),null;case 13:return xf(e,t,i);case 4:return ac(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=bs(t,null,l,i):yt(e,t,l,i),t.child;case 11:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:tr(l,d),ff(e,t,l,d,i);case 7:return yt(e,t,t.pendingProps,i),t.child;case 8:return yt(e,t,t.pendingProps.children,i),t.child;case 12:return yt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(l=t.type._context,d=t.pendingProps,f=t.memoizedProps,v=d.value,Le(Za,l._currentValue),l._currentValue=v,f!==null)if(Yt(f.value,v)){if(f.children===d.children&&!St.current){t=Rr(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var C=f.dependencies;if(C!==null){v=f.child;for(var P=C.firstContext;P!==null;){if(P.context===l){if(f.tag===1){P=jr(-1,i&-i),P.tag=2;var $=f.updateQueue;if($!==null){$=$.shared;var q=$.pending;q===null?P.next=P:(P.next=q.next,q.next=P),$.pending=P}}f.lanes|=i,P=f.alternate,P!==null&&(P.lanes|=i),tc(f.return,i,t),C.lanes|=i;break}P=P.next}}else if(f.tag===10)v=f.type===t.type?null:f.child;else if(f.tag===18){if(v=f.return,v===null)throw Error(n(341));v.lanes|=i,C=v.alternate,C!==null&&(C.lanes|=i),tc(v,i,t),v=f.sibling}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}yt(e,t,d.children,i),t=t.child}return t;case 9:return d=t.type,l=t.pendingProps.children,ks(t,i),d=Ht(d),l=l(d),t.flags|=1,yt(e,t,l,i),t.child;case 14:return l=t.type,d=tr(l,t.pendingProps),d=tr(l.type,d),pf(e,t,l,d,i);case 15:return mf(e,t,t.type,t.pendingProps,i);case 17:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:tr(l,d),uo(e,t),t.tag=1,Nt(l)?(e=!0,Ka(t)):e=!1,ks(t,i),Ah(t,l,d),ic(t,l,d,i),xc(null,t,l,!0,e,i);case 19:return bf(e,t,i);case 22:return yf(e,t,i)}throw Error(n(156,t.tag))};function Vf(e,t){return Sd(e,t)}function rv(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,i,l){return new rv(e,t,i,l)}function Uc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nv(e){if(typeof e=="function")return Uc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===V)return 11;if(e===qt)return 14}return 2}function on(e,t){var i=e.alternate;return i===null?(i=Qt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ko(e,t,i,l,d,f){var v=2;if(l=e,typeof e=="function")Uc(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case re:return Mn(i.children,d,f,t);case fe:v=8,d|=8;break;case W:return e=Qt(12,i,t,d|2),e.elementType=W,e.lanes=f,e;case be:return e=Qt(13,i,t,d),e.elementType=be,e.lanes=f,e;case Ye:return e=Qt(19,i,t,d),e.elementType=Ye,e.lanes=f,e;case Te:return bo(i,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:v=10;break e;case we:v=9;break e;case V:v=11;break e;case qt:v=14;break e;case et:v=16,l=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Qt(v,i,t,d),t.elementType=e,t.type=l,t.lanes=f,t}function Mn(e,t,i,l){return e=Qt(7,e,l,t),e.lanes=i,e}function bo(e,t,i,l){return e=Qt(22,e,l,t),e.elementType=Te,e.lanes=i,e.stateNode={isHidden:!1},e}function qc(e,t,i){return e=Qt(6,e,null,t),e.lanes=i,e}function Bc(e,t,i){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sv(e,t,i,l,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yl(0),this.expirationTimes=yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Wc(e,t,i,l,d,f,v,C,P){return e=new sv(e,t,i,C,P),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Qt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},nc(f),e}function iv(e,t,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:l==null?null:""+l,children:e,containerInfo:t,implementation:i}}function Qf(e){if(!e)return Zr;e=e._reactInternals;e:{if(En(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(Nt(i))return _h(e,i,t)}return t}function Gf(e,t,i,l,d,f,v,C,P){return e=Wc(i,l,!0,e,d,f,v,C,P),e.context=Qf(null),i=e.current,l=gt(),d=sn(i),f=jr(l,d),f.callback=t??null,en(i,f,d),e.current.lanes=d,yi(e,d,l),Pt(e,l),e}function So(e,t,i,l){var d=t.current,f=gt(),v=sn(d);return i=Qf(i),t.context===null?t.context=i:t.pendingContext=i,t=jr(f,v),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=en(d,t,v),e!==null&&(sr(e,d,v,f),Ya(e,d,v)),v}function No(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Hc(e,t){Jf(e,t),(e=e.alternate)&&Jf(e,t)}function av(){return null}var Zf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}Co.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));So(e,t,null,null)},Co.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){So(null,e,null,null)}),t[Sr]=null}};function Co(e){this._internalRoot=e}Co.prototype.unstable_scheduleHydration=function(e){if(e){var t=zd();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Kr.length&&t!==0&&t<Kr[i].priority;i++);Kr.splice(i,0,e),i===0&&Ld(e)}};function Vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xf(){}function ov(e,t,i,l,d){if(d){if(typeof l=="function"){var f=l;l=function(){var $=No(v);f.call($)}}var v=Gf(t,l,e,0,null,!1,!1,"",Xf);return e._reactRootContainer=v,e[Sr]=v.current,Ri(e.nodeType===8?e.parentNode:e),$n(),v}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var C=l;l=function(){var $=No(P);C.call($)}}var P=Wc(e,0,!1,null,null,!1,!1,"",Xf);return e._reactRootContainer=P,e[Sr]=P.current,Ri(e.nodeType===8?e.parentNode:e),$n(function(){So(t,P,i,l)}),P}function Po(e,t,i,l,d){var f=i._reactRootContainer;if(f){var v=f;if(typeof d=="function"){var C=d;d=function(){var P=No(v);C.call(P)}}So(t,v,e,d)}else v=ov(i,t,e,d,l);return No(v)}Rd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=mi(t.pendingLanes);i!==0&&(gl(t,i|1),Pt(t,He()),(ke&6)===0&&(Ps=He()+500,Xr()))}break;case 13:$n(function(){var l=Pr(e,1);if(l!==null){var d=gt();sr(l,e,1,d)}}),Hc(e,1)}},vl=function(e){if(e.tag===13){var t=Pr(e,134217728);if(t!==null){var i=gt();sr(t,e,134217728,i)}Hc(e,134217728)}},Od=function(e){if(e.tag===13){var t=sn(e),i=Pr(e,t);if(i!==null){var l=gt();sr(i,e,t,l)}Hc(e,t)}},zd=function(){return je},Td=function(e,t){var i=je;try{return je=e,t()}finally{je=i}},ul=function(e,t,i){switch(t){case"input":if(rl(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var d=Wa(l);if(!d)throw Error(n(90));nd(l),rl(l,d)}}}break;case"textarea":ld(e,i);break;case"select":t=i.value,t!=null&&is(e,!!i.multiple,t,!1)}},gd=Dc,vd=$n;var lv={usingClientEntryPoint:!1,Events:[Ti,ms,Wa,md,yd,Dc]},Vi={findFiberByHostInstance:Pn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cv={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kd(e),e===null?null:e.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||av,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jo.isDisabled&&jo.supportsFiber)try{Na=jo.inject(cv),ur=jo}catch{}}return jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lv,jt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vc(t))throw Error(n(200));return iv(e,t,null,i)},jt.createRoot=function(e,t){if(!Vc(e))throw Error(n(299));var i=!1,l="",d=Zf;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Wc(e,1,!1,null,null,i,!1,l,d),e[Sr]=t.current,Ri(e.nodeType===8?e.parentNode:e),new Kc(t)},jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=kd(t),e=e===null?null:e.stateNode,e},jt.flushSync=function(e){return $n(e)},jt.hydrate=function(e,t,i){if(!Eo(t))throw Error(n(200));return Po(null,e,t,!0,i)},jt.hydrateRoot=function(e,t,i){if(!Vc(e))throw Error(n(405));var l=i!=null&&i.hydratedSources||null,d=!1,f="",v=Zf;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),t=Gf(t,null,e,1,i??null,d,!1,f,v),e[Sr]=t.current,Ri(e),l)for(e=0;e<l.length;e++)i=l[e],d=i._getVersion,d=d(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,d]:t.mutableSourceEagerHydrationData.push(i,d);return new Co(t)},jt.render=function(e,t,i){if(!Eo(t))throw Error(n(200));return Po(null,e,t,!1,i)},jt.unmountComponentAtNode=function(e){if(!Eo(e))throw Error(n(40));return e._reactRootContainer?($n(function(){Po(null,null,e,!1,function(){e._reactRootContainer=null,e[Sr]=null})}),!0):!1},jt.unstable_batchedUpdates=Dc,jt.unstable_renderSubtreeIntoContainer=function(e,t,i,l){if(!Eo(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Po(e,t,i,!1,l)},jt.version="18.2.0-next-9e3b772b8-20220608",jt}var ip;function gv(){if(ip)return Jc.exports;ip=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Jc.exports=yv(),Jc.exports}var ap;function vv(){if(ap)return Oo;ap=1;var s=gv();return Oo.createRoot=s.createRoot,Oo.hydrateRoot=s.hydrateRoot,Oo}var wv=vv();const _v="modulepreload",xv=function(s){return"/"+s},op={},ha=function(r,n,a){let o=Promise.resolve();if(n&&n.length>0){let h=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=h(n.map(y=>{if(y=xv(y),y in op)return;op[y]=!0;const _=y.endsWith(".css"),b=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const w=document.createElement("link");if(w.rel=_?"stylesheet":_v,_||(w.as="script"),w.crossOrigin="",w.href=y,p&&w.setAttribute("nonce",p),document.head.appendChild(w),_)return new Promise((k,S)=>{w.addEventListener("load",k),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return r().catch(u)})};var ni=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yn=typeof window>"u"||"Deno"in globalThis;function kt(){}function kv(s,r){return typeof s=="function"?s(r):s}function cu(s){return typeof s=="number"&&s>=0&&s!==1/0}function pm(s,r){return Math.max(s+(r||0)-Date.now(),0)}function bn(s,r){return typeof s=="function"?s(r):s}function cr(s,r){return typeof s=="function"?s(r):s}function lp(s,r){const{type:n="all",exact:a,fetchStatus:o,predicate:u,queryKey:h,stale:m}=s;if(h){if(a){if(r.queryHash!==Fu(h,r.options))return!1}else if(!sa(r.queryKey,h))return!1}if(n!=="all"){const p=r.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof m=="boolean"&&r.isStale()!==m||o&&o!==r.state.fetchStatus||u&&!u(r))}function cp(s,r){const{exact:n,status:a,predicate:o,mutationKey:u}=s;if(u){if(!r.options.mutationKey)return!1;if(n){if(es(r.options.mutationKey)!==es(u))return!1}else if(!sa(r.options.mutationKey,u))return!1}return!(a&&r.state.status!==a||o&&!o(r))}function Fu(s,r){return((r==null?void 0:r.queryKeyHashFn)||es)(s)}function es(s){return JSON.stringify(s,(r,n)=>uu(n)?Object.keys(n).sort().reduce((a,o)=>(a[o]=n[o],a),{}):n)}function sa(s,r){return s===r?!0:typeof s!=typeof r?!1:s&&r&&typeof s=="object"&&typeof r=="object"?Object.keys(r).every(n=>sa(s[n],r[n])):!1}function mm(s,r){if(s===r)return s;const n=up(s)&&up(r);if(n||uu(s)&&uu(r)){const a=n?s:Object.keys(s),o=a.length,u=n?r:Object.keys(r),h=u.length,m=n?[]:{},p=new Set(a);let y=0;for(let _=0;_<h;_++){const b=n?_:u[_];(!n&&p.has(b)||n)&&s[b]===void 0&&r[b]===void 0?(m[b]=void 0,y++):(m[b]=mm(s[b],r[b]),m[b]===s[b]&&s[b]!==void 0&&y++)}return o===h&&y===o?s:m}return r}function Bo(s,r){if(!r||Object.keys(s).length!==Object.keys(r).length)return!1;for(const n in s)if(s[n]!==r[n])return!1;return!0}function up(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function uu(s){if(!dp(s))return!1;const r=s.constructor;if(r===void 0)return!0;const n=r.prototype;return!(!dp(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function dp(s){return Object.prototype.toString.call(s)==="[object Object]"}function bv(s){return new Promise(r=>{setTimeout(r,s)})}function du(s,r,n){return typeof n.structuralSharing=="function"?n.structuralSharing(s,r):n.structuralSharing!==!1?mm(s,r):r}function Sv(s,r,n=0){const a=[...s,r];return n&&a.length>n?a.slice(1):a}function Nv(s,r,n=0){const a=[r,...s];return n&&a.length>n?a.slice(0,-1):a}var Uu=Symbol();function ym(s,r){return!s.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!s.queryFn||s.queryFn===Uu?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function gm(s,r){return typeof s=="function"?s(...r):!!s}var Wn,fn,Bs,nm,Cv=(nm=class extends ni{constructor(){super();se(this,Wn);se(this,fn);se(this,Bs);J(this,Bs,r=>{if(!Yn&&window.addEventListener){const n=()=>r();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){E(this,fn)||this.setEventListener(E(this,Bs))}onUnsubscribe(){var r;this.hasListeners()||((r=E(this,fn))==null||r.call(this),J(this,fn,void 0))}setEventListener(r){var n;J(this,Bs,r),(n=E(this,fn))==null||n.call(this),J(this,fn,r(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(r){E(this,Wn)!==r&&(J(this,Wn,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(n=>{n(r)})}isFocused(){var r;return typeof E(this,Wn)=="boolean"?E(this,Wn):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},Wn=new WeakMap,fn=new WeakMap,Bs=new WeakMap,nm),qu=new Cv,Ws,pn,Hs,sm,Ev=(sm=class extends ni{constructor(){super();se(this,Ws,!0);se(this,pn);se(this,Hs);J(this,Hs,r=>{if(!Yn&&window.addEventListener){const n=()=>r(!0),a=()=>r(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){E(this,pn)||this.setEventListener(E(this,Hs))}onUnsubscribe(){var r;this.hasListeners()||((r=E(this,pn))==null||r.call(this),J(this,pn,void 0))}setEventListener(r){var n;J(this,Hs,r),(n=E(this,pn))==null||n.call(this),J(this,pn,r(this.setOnline.bind(this)))}setOnline(r){E(this,Ws)!==r&&(J(this,Ws,r),this.listeners.forEach(a=>{a(r)}))}isOnline(){return E(this,Ws)}},Ws=new WeakMap,pn=new WeakMap,Hs=new WeakMap,sm),Wo=new Ev;function hu(){let s,r;const n=new Promise((o,u)=>{s=o,r=u});n.status="pending",n.catch(()=>{});function a(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{a({status:"fulfilled",value:o}),s(o)},n.reject=o=>{a({status:"rejected",reason:o}),r(o)},n}function Pv(s){return Math.min(1e3*2**s,3e4)}function vm(s){return(s??"online")==="online"?Wo.isOnline():!0}var wm=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function Yc(s){return s instanceof wm}function _m(s){let r=!1,n=0,a=!1,o;const u=hu(),h=x=>{var N;a||(w(new wm(x)),(N=s.abort)==null||N.call(s))},m=()=>{r=!0},p=()=>{r=!1},y=()=>qu.isFocused()&&(s.networkMode==="always"||Wo.isOnline())&&s.canRun(),_=()=>vm(s.networkMode)&&s.canRun(),b=x=>{var N;a||(a=!0,(N=s.onSuccess)==null||N.call(s,x),o==null||o(),u.resolve(x))},w=x=>{var N;a||(a=!0,(N=s.onError)==null||N.call(s,x),o==null||o(),u.reject(x))},k=()=>new Promise(x=>{var N;o=z=>{(a||y())&&x(z)},(N=s.onPause)==null||N.call(s)}).then(()=>{var x;o=void 0,a||(x=s.onContinue)==null||x.call(s)}),S=()=>{if(a)return;let x;const N=n===0?s.initialPromise:void 0;try{x=N??s.fn()}catch(z){x=Promise.reject(z)}Promise.resolve(x).then(b).catch(z=>{var G;if(a)return;const I=s.retry??(Yn?0:3),L=s.retryDelay??Pv,D=typeof L=="function"?L(n,z):L,M=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,z);if(r||!M){w(z);return}n++,(G=s.onFail)==null||G.call(s,n,z),bv(D).then(()=>y()?void 0:k()).then(()=>{r?w(z):S()})})};return{promise:u,cancel:h,continue:()=>(o==null||o(),u),cancelRetry:m,continueRetry:p,canStart:_,start:()=>(_()?S():k().then(S),u)}}var jv=s=>setTimeout(s,0);function Rv(){let s=[],r=0,n=m=>{m()},a=m=>{m()},o=jv;const u=m=>{r?s.push(m):o(()=>{n(m)})},h=()=>{const m=s;s=[],m.length&&o(()=>{a(()=>{m.forEach(p=>{n(p)})})})};return{batch:m=>{let p;r++;try{p=m()}finally{r--,r||h()}return p},batchCalls:m=>(...p)=>{u(()=>{m(...p)})},schedule:u,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{a=m},setScheduler:m=>{o=m}}}var Xe=Rv(),Hn,im,xm=(im=class{constructor(){se(this,Hn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cu(this.gcTime)&&J(this,Hn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(Yn?1/0:5*60*1e3))}clearGcTimeout(){E(this,Hn)&&(clearTimeout(E(this,Hn)),J(this,Hn,void 0))}},Hn=new WeakMap,im),Ks,Vs,Gt,Kn,ht,la,Vn,ar,zr,am,Ov=(am=class extends xm{constructor(r){super();se(this,ar);se(this,Ks);se(this,Vs);se(this,Gt);se(this,Kn);se(this,ht);se(this,la);se(this,Vn);J(this,Vn,!1),J(this,la,r.defaultOptions),this.setOptions(r.options),this.observers=[],J(this,Kn,r.client),J(this,Gt,E(this,Kn).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,J(this,Ks,zv(this.options)),this.state=r.state??E(this,Ks),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=E(this,ht))==null?void 0:r.promise}setOptions(r){this.options={...E(this,la),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Gt).remove(this)}setData(r,n){const a=du(this.state.data,r,this.options);return me(this,ar,zr).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(r,n){me(this,ar,zr).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var a,o;const n=(a=E(this,ht))==null?void 0:a.promise;return(o=E(this,ht))==null||o.cancel(r),n?n.then(kt).catch(kt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Ks))}isActive(){return this.observers.some(r=>cr(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>bn(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!pm(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=E(this,ht))==null||n.continue()}onOnline(){var n;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=E(this,ht))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),E(this,Gt).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(E(this,ht)&&(E(this,Vn)?E(this,ht).cancel({revert:!0}):E(this,ht).cancelRetry()),this.scheduleGc()),E(this,Gt).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||me(this,ar,zr).call(this,{type:"invalidate"})}fetch(r,n){var y,_,b;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(E(this,ht))return E(this,ht).continueRetry(),E(this,ht).promise}if(r&&this.setOptions(r),!this.options.queryFn){const w=this.observers.find(k=>k.options.queryFn);w&&this.setOptions(w.options)}const a=new AbortController,o=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(J(this,Vn,!0),a.signal)})},u=()=>{const w=ym(this.options,n),S=(()=>{const x={client:E(this,Kn),queryKey:this.queryKey,meta:this.meta};return o(x),x})();return J(this,Vn,!1),this.options.persister?this.options.persister(w,S,this):w(S)},m=(()=>{const w={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:E(this,Kn),state:this.state,fetchFn:u};return o(w),w})();(y=this.options.behavior)==null||y.onFetch(m,this),J(this,Vs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((_=m.fetchOptions)==null?void 0:_.meta))&&me(this,ar,zr).call(this,{type:"fetch",meta:(b=m.fetchOptions)==null?void 0:b.meta});const p=w=>{var k,S,x,N;Yc(w)&&w.silent||me(this,ar,zr).call(this,{type:"error",error:w}),Yc(w)||((S=(k=E(this,Gt).config).onError)==null||S.call(k,w,this),(N=(x=E(this,Gt).config).onSettled)==null||N.call(x,this.state.data,w,this)),this.scheduleGc()};return J(this,ht,_m({initialPromise:n==null?void 0:n.initialPromise,fn:m.fetchFn,abort:a.abort.bind(a),onSuccess:w=>{var k,S,x,N;if(w===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(z){p(z);return}(S=(k=E(this,Gt).config).onSuccess)==null||S.call(k,w,this),(N=(x=E(this,Gt).config).onSettled)==null||N.call(x,w,this.state.error,this),this.scheduleGc()},onError:p,onFail:(w,k)=>{me(this,ar,zr).call(this,{type:"failed",failureCount:w,error:k})},onPause:()=>{me(this,ar,zr).call(this,{type:"pause"})},onContinue:()=>{me(this,ar,zr).call(this,{type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0})),E(this,ht).start()}},Ks=new WeakMap,Vs=new WeakMap,Gt=new WeakMap,Kn=new WeakMap,ht=new WeakMap,la=new WeakMap,Vn=new WeakMap,ar=new WeakSet,zr=function(r){const n=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...km(a.data,this.options),fetchMeta:r.meta??null};case"success":return{...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=r.error;return Yc(o)&&o.revert&&E(this,Vs)?{...E(this,Vs),fetchStatus:"idle"}:{...a,error:o,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=n(this.state),Xe.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),E(this,Gt).notify({query:this,type:"updated",action:r})})},am);function km(s,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vm(r.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function zv(s){const r=typeof s.initialData=="function"?s.initialData():s.initialData,n=r!==void 0,a=n?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var mr,om,Tv=(om=class extends ni{constructor(r={}){super();se(this,mr);this.config=r,J(this,mr,new Map)}build(r,n,a){const o=n.queryKey,u=n.queryHash??Fu(o,n);let h=this.get(u);return h||(h=new Ov({client:r,queryKey:o,queryHash:u,options:r.defaultQueryOptions(n),state:a,defaultOptions:r.getQueryDefaults(o)}),this.add(h)),h}add(r){E(this,mr).has(r.queryHash)||(E(this,mr).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const n=E(this,mr).get(r.queryHash);n&&(r.destroy(),n===r&&E(this,mr).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Xe.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return E(this,mr).get(r)}getAll(){return[...E(this,mr).values()]}find(r){const n={exact:!0,...r};return this.getAll().find(a=>lp(n,a))}findAll(r={}){const n=this.getAll();return Object.keys(r).length>0?n.filter(a=>lp(r,a)):n}notify(r){Xe.batch(()=>{this.listeners.forEach(n=>{n(r)})})}onFocus(){Xe.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Xe.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},mr=new WeakMap,om),yr,wt,Qn,gr,cn,lm,Av=(lm=class extends xm{constructor(r){super();se(this,gr);se(this,yr);se(this,wt);se(this,Qn);this.mutationId=r.mutationId,J(this,wt,r.mutationCache),J(this,yr,[]),this.state=r.state||bm(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){E(this,yr).includes(r)||(E(this,yr).push(r),this.clearGcTimeout(),E(this,wt).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){J(this,yr,E(this,yr).filter(n=>n!==r)),this.scheduleGc(),E(this,wt).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){E(this,yr).length||(this.state.status==="pending"?this.scheduleGc():E(this,wt).remove(this))}continue(){var r;return((r=E(this,Qn))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var u,h,m,p,y,_,b,w,k,S,x,N,z,I,L,D,M,G,re,fe;const n=()=>{me(this,gr,cn).call(this,{type:"continue"})};J(this,Qn,_m({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(W,te)=>{me(this,gr,cn).call(this,{type:"failed",failureCount:W,error:te})},onPause:()=>{me(this,gr,cn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,wt).canRun(this)}));const a=this.state.status==="pending",o=!E(this,Qn).canStart();try{if(a)n();else{me(this,gr,cn).call(this,{type:"pending",variables:r,isPaused:o}),await((h=(u=E(this,wt).config).onMutate)==null?void 0:h.call(u,r,this));const te=await((p=(m=this.options).onMutate)==null?void 0:p.call(m,r));te!==this.state.context&&me(this,gr,cn).call(this,{type:"pending",context:te,variables:r,isPaused:o})}const W=await E(this,Qn).start();return await((_=(y=E(this,wt).config).onSuccess)==null?void 0:_.call(y,W,r,this.state.context,this)),await((w=(b=this.options).onSuccess)==null?void 0:w.call(b,W,r,this.state.context)),await((S=(k=E(this,wt).config).onSettled)==null?void 0:S.call(k,W,null,this.state.variables,this.state.context,this)),await((N=(x=this.options).onSettled)==null?void 0:N.call(x,W,null,r,this.state.context)),me(this,gr,cn).call(this,{type:"success",data:W}),W}catch(W){try{throw await((I=(z=E(this,wt).config).onError)==null?void 0:I.call(z,W,r,this.state.context,this)),await((D=(L=this.options).onError)==null?void 0:D.call(L,W,r,this.state.context)),await((G=(M=E(this,wt).config).onSettled)==null?void 0:G.call(M,void 0,W,this.state.variables,this.state.context,this)),await((fe=(re=this.options).onSettled)==null?void 0:fe.call(re,void 0,W,r,this.state.context)),W}finally{me(this,gr,cn).call(this,{type:"error",error:W})}}finally{E(this,wt).runNext(this)}}},yr=new WeakMap,wt=new WeakMap,Qn=new WeakMap,gr=new WeakSet,cn=function(r){const n=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Xe.batch(()=>{E(this,yr).forEach(a=>{a.onMutationUpdate(r)}),E(this,wt).notify({mutation:this,type:"updated",action:r})})},lm);function bm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lr,or,ca,cm,Lv=(cm=class extends ni{constructor(r={}){super();se(this,Lr);se(this,or);se(this,ca);this.config=r,J(this,Lr,new Set),J(this,or,new Map),J(this,ca,0)}build(r,n,a){const o=new Av({mutationCache:this,mutationId:++Ro(this,ca)._,options:r.defaultMutationOptions(n),state:a});return this.add(o),o}add(r){E(this,Lr).add(r);const n=zo(r);if(typeof n=="string"){const a=E(this,or).get(n);a?a.push(r):E(this,or).set(n,[r])}this.notify({type:"added",mutation:r})}remove(r){if(E(this,Lr).delete(r)){const n=zo(r);if(typeof n=="string"){const a=E(this,or).get(n);if(a)if(a.length>1){const o=a.indexOf(r);o!==-1&&a.splice(o,1)}else a[0]===r&&E(this,or).delete(n)}}this.notify({type:"removed",mutation:r})}canRun(r){const n=zo(r);if(typeof n=="string"){const a=E(this,or).get(n),o=a==null?void 0:a.find(u=>u.state.status==="pending");return!o||o===r}else return!0}runNext(r){var a;const n=zo(r);if(typeof n=="string"){const o=(a=E(this,or).get(n))==null?void 0:a.find(u=>u!==r&&u.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xe.batch(()=>{E(this,Lr).forEach(r=>{this.notify({type:"removed",mutation:r})}),E(this,Lr).clear(),E(this,or).clear()})}getAll(){return Array.from(E(this,Lr))}find(r){const n={exact:!0,...r};return this.getAll().find(a=>cp(n,a))}findAll(r={}){return this.getAll().filter(n=>cp(r,n))}notify(r){Xe.batch(()=>{this.listeners.forEach(n=>{n(r)})})}resumePausedMutations(){const r=this.getAll().filter(n=>n.state.isPaused);return Xe.batch(()=>Promise.all(r.map(n=>n.continue().catch(kt))))}},Lr=new WeakMap,or=new WeakMap,ca=new WeakMap,cm);function zo(s){var r;return(r=s.options.scope)==null?void 0:r.id}function hp(s){return{onFetch:(r,n)=>{var _,b,w,k,S;const a=r.options,o=(w=(b=(_=r.fetchOptions)==null?void 0:_.meta)==null?void 0:b.fetchMore)==null?void 0:w.direction,u=((k=r.state.data)==null?void 0:k.pages)||[],h=((S=r.state.data)==null?void 0:S.pageParams)||[];let m={pages:[],pageParams:[]},p=0;const y=async()=>{let x=!1;const N=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(r.signal.aborted?x=!0:r.signal.addEventListener("abort",()=>{x=!0}),r.signal)})},z=ym(r.options,r.fetchOptions),I=async(L,D,M)=>{if(x)return Promise.reject();if(D==null&&L.pages.length)return Promise.resolve(L);const re=(()=>{const we={client:r.client,queryKey:r.queryKey,pageParam:D,direction:M?"backward":"forward",meta:r.options.meta};return N(we),we})(),fe=await z(re),{maxPages:W}=r.options,te=M?Nv:Sv;return{pages:te(L.pages,fe,W),pageParams:te(L.pageParams,D,W)}};if(o&&u.length){const L=o==="backward",D=L?$v:fp,M={pages:u,pageParams:h},G=D(a,M);m=await I(M,G,L)}else{const L=s??u.length;do{const D=p===0?h[0]??a.initialPageParam:fp(a,m);if(p>0&&D==null)break;m=await I(m,D),p++}while(p<L)}return m};r.options.persister?r.fetchFn=()=>{var x,N;return(N=(x=r.options).persister)==null?void 0:N.call(x,y,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},n)}:r.fetchFn=y}}}function fp(s,{pages:r,pageParams:n}){const a=r.length-1;return r.length>0?s.getNextPageParam(r[a],r,n[a],n):void 0}function $v(s,{pages:r,pageParams:n}){var a;return r.length>0?(a=s.getPreviousPageParam)==null?void 0:a.call(s,r[0],r,n[0],n):void 0}var We,mn,yn,Qs,Gs,gn,Js,Zs,um,Iv=(um=class{constructor(s={}){se(this,We);se(this,mn);se(this,yn);se(this,Qs);se(this,Gs);se(this,gn);se(this,Js);se(this,Zs);J(this,We,s.queryCache||new Tv),J(this,mn,s.mutationCache||new Lv),J(this,yn,s.defaultOptions||{}),J(this,Qs,new Map),J(this,Gs,new Map),J(this,gn,0)}mount(){Ro(this,gn)._++,E(this,gn)===1&&(J(this,Js,qu.subscribe(async s=>{s&&(await this.resumePausedMutations(),E(this,We).onFocus())})),J(this,Zs,Wo.subscribe(async s=>{s&&(await this.resumePausedMutations(),E(this,We).onOnline())})))}unmount(){var s,r;Ro(this,gn)._--,E(this,gn)===0&&((s=E(this,Js))==null||s.call(this),J(this,Js,void 0),(r=E(this,Zs))==null||r.call(this),J(this,Zs,void 0))}isFetching(s){return E(this,We).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return E(this,mn).findAll({...s,status:"pending"}).length}getQueryData(s){var n;const r=this.defaultQueryOptions({queryKey:s});return(n=E(this,We).get(r.queryHash))==null?void 0:n.state.data}ensureQueryData(s){const r=this.defaultQueryOptions(s),n=E(this,We).build(this,r),a=n.state.data;return a===void 0?this.fetchQuery(s):(s.revalidateIfStale&&n.isStaleByTime(bn(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(a))}getQueriesData(s){return E(this,We).findAll(s).map(({queryKey:r,state:n})=>{const a=n.data;return[r,a]})}setQueryData(s,r,n){const a=this.defaultQueryOptions({queryKey:s}),o=E(this,We).get(a.queryHash),u=o==null?void 0:o.state.data,h=kv(r,u);if(h!==void 0)return E(this,We).build(this,a).setData(h,{...n,manual:!0})}setQueriesData(s,r,n){return Xe.batch(()=>E(this,We).findAll(s).map(({queryKey:a})=>[a,this.setQueryData(a,r,n)]))}getQueryState(s){var n;const r=this.defaultQueryOptions({queryKey:s});return(n=E(this,We).get(r.queryHash))==null?void 0:n.state}removeQueries(s){const r=E(this,We);Xe.batch(()=>{r.findAll(s).forEach(n=>{r.remove(n)})})}resetQueries(s,r){const n=E(this,We);return Xe.batch(()=>(n.findAll(s).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...s},r)))}cancelQueries(s,r={}){const n={revert:!0,...r},a=Xe.batch(()=>E(this,We).findAll(s).map(o=>o.cancel(n)));return Promise.all(a).then(kt).catch(kt)}invalidateQueries(s,r={}){return Xe.batch(()=>(E(this,We).findAll(s).forEach(n=>{n.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},r)))}refetchQueries(s,r={}){const n={...r,cancelRefetch:r.cancelRefetch??!0},a=Xe.batch(()=>E(this,We).findAll(s).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,n);return n.throwOnError||(u=u.catch(kt)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then(kt)}fetchQuery(s){const r=this.defaultQueryOptions(s);r.retry===void 0&&(r.retry=!1);const n=E(this,We).build(this,r);return n.isStaleByTime(bn(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(kt).catch(kt)}fetchInfiniteQuery(s){return s.behavior=hp(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(kt).catch(kt)}ensureInfiniteQueryData(s){return s.behavior=hp(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return Wo.isOnline()?E(this,mn).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,We)}getMutationCache(){return E(this,mn)}getDefaultOptions(){return E(this,yn)}setDefaultOptions(s){J(this,yn,s)}setQueryDefaults(s,r){E(this,Qs).set(es(s),{queryKey:s,defaultOptions:r})}getQueryDefaults(s){const r=[...E(this,Qs).values()],n={};return r.forEach(a=>{sa(s,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(s,r){E(this,Gs).set(es(s),{mutationKey:s,defaultOptions:r})}getMutationDefaults(s){const r=[...E(this,Gs).values()],n={};return r.forEach(a=>{sa(s,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(s){if(s._defaulted)return s;const r={...E(this,yn).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return r.queryHash||(r.queryHash=Fu(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===Uu&&(r.enabled=!1),r}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...E(this,yn).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){E(this,We).clear(),E(this,mn).clear()}},We=new WeakMap,mn=new WeakMap,yn=new WeakMap,Qs=new WeakMap,Gs=new WeakMap,gn=new WeakMap,Js=new WeakMap,Zs=new WeakMap,um),Ot,_e,ua,_t,Gn,Xs,vn,wn,da,Ys,ei,Jn,Zn,_n,ti,Pe,Yi,fu,pu,mu,yu,gu,vu,wu,Sm,dm,Dv=(dm=class extends ni{constructor(r,n){super();se(this,Pe);se(this,Ot);se(this,_e);se(this,ua);se(this,_t);se(this,Gn);se(this,Xs);se(this,vn);se(this,wn);se(this,da);se(this,Ys);se(this,ei);se(this,Jn);se(this,Zn);se(this,_n);se(this,ti,new Set);this.options=n,J(this,Ot,r),J(this,wn,null),J(this,vn,hu()),this.options.experimental_prefetchInRender||E(this,vn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,_e).addObserver(this),pp(E(this,_e),this.options)?me(this,Pe,Yi).call(this):this.updateResult(),me(this,Pe,yu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _u(E(this,_e),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _u(E(this,_e),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,me(this,Pe,gu).call(this),me(this,Pe,vu).call(this),E(this,_e).removeObserver(this)}setOptions(r){const n=this.options,a=E(this,_e);if(this.options=E(this,Ot).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof cr(this.options.enabled,E(this,_e))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");me(this,Pe,wu).call(this),E(this,_e).setOptions(this.options),n._defaulted&&!Bo(this.options,n)&&E(this,Ot).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,_e),observer:this});const o=this.hasListeners();o&&mp(E(this,_e),a,this.options,n)&&me(this,Pe,Yi).call(this),this.updateResult(),o&&(E(this,_e)!==a||cr(this.options.enabled,E(this,_e))!==cr(n.enabled,E(this,_e))||bn(this.options.staleTime,E(this,_e))!==bn(n.staleTime,E(this,_e)))&&me(this,Pe,fu).call(this);const u=me(this,Pe,pu).call(this);o&&(E(this,_e)!==a||cr(this.options.enabled,E(this,_e))!==cr(n.enabled,E(this,_e))||u!==E(this,_n))&&me(this,Pe,mu).call(this,u)}getOptimisticResult(r){const n=E(this,Ot).getQueryCache().build(E(this,Ot),r),a=this.createResult(n,r);return Fv(this,a)&&(J(this,_t,a),J(this,Xs,this.options),J(this,Gn,E(this,_e).state)),a}getCurrentResult(){return E(this,_t)}trackResult(r,n){return new Proxy(r,{get:(a,o)=>(this.trackProp(o),n==null||n(o),Reflect.get(a,o))})}trackProp(r){E(this,ti).add(r)}getCurrentQuery(){return E(this,_e)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const n=E(this,Ot).defaultQueryOptions(r),a=E(this,Ot).getQueryCache().build(E(this,Ot),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(r){return me(this,Pe,Yi).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,_t)))}createResult(r,n){var W;const a=E(this,_e),o=this.options,u=E(this,_t),h=E(this,Gn),m=E(this,Xs),y=r!==a?r.state:E(this,ua),{state:_}=r;let b={..._},w=!1,k;if(n._optimisticResults){const te=this.hasListeners(),we=!te&&pp(r,n),V=te&&mp(r,a,n,o);(we||V)&&(b={...b,...km(_.data,r.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:S,errorUpdatedAt:x,status:N}=b;k=b.data;let z=!1;if(n.placeholderData!==void 0&&k===void 0&&N==="pending"){let te;u!=null&&u.isPlaceholderData&&n.placeholderData===(m==null?void 0:m.placeholderData)?(te=u.data,z=!0):te=typeof n.placeholderData=="function"?n.placeholderData((W=E(this,ei))==null?void 0:W.state.data,E(this,ei)):n.placeholderData,te!==void 0&&(N="success",k=du(u==null?void 0:u.data,te,n),w=!0)}if(n.select&&k!==void 0&&!z)if(u&&k===(h==null?void 0:h.data)&&n.select===E(this,da))k=E(this,Ys);else try{J(this,da,n.select),k=n.select(k),k=du(u==null?void 0:u.data,k,n),J(this,Ys,k),J(this,wn,null)}catch(te){J(this,wn,te)}E(this,wn)&&(S=E(this,wn),k=E(this,Ys),x=Date.now(),N="error");const I=b.fetchStatus==="fetching",L=N==="pending",D=N==="error",M=L&&I,G=k!==void 0,fe={status:N,fetchStatus:b.fetchStatus,isPending:L,isSuccess:N==="success",isError:D,isInitialLoading:M,isLoading:M,data:k,dataUpdatedAt:b.dataUpdatedAt,error:S,errorUpdatedAt:x,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>y.dataUpdateCount||b.errorUpdateCount>y.errorUpdateCount,isFetching:I,isRefetching:I&&!L,isLoadingError:D&&!G,isPaused:b.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:D&&G,isStale:Bu(r,n),refetch:this.refetch,promise:E(this,vn)};if(this.options.experimental_prefetchInRender){const te=be=>{fe.status==="error"?be.reject(fe.error):fe.data!==void 0&&be.resolve(fe.data)},we=()=>{const be=J(this,vn,fe.promise=hu());te(be)},V=E(this,vn);switch(V.status){case"pending":r.queryHash===a.queryHash&&te(V);break;case"fulfilled":(fe.status==="error"||fe.data!==V.value)&&we();break;case"rejected":(fe.status!=="error"||fe.error!==V.reason)&&we();break}}return fe}updateResult(){const r=E(this,_t),n=this.createResult(E(this,_e),this.options);if(J(this,Gn,E(this,_e).state),J(this,Xs,this.options),E(this,Gn).data!==void 0&&J(this,ei,E(this,_e)),Bo(n,r))return;J(this,_t,n);const a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!E(this,ti).size)return!0;const h=new Set(u??E(this,ti));return this.options.throwOnError&&h.add("error"),Object.keys(E(this,_t)).some(m=>{const p=m;return E(this,_t)[p]!==r[p]&&h.has(p)})};me(this,Pe,Sm).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&me(this,Pe,yu).call(this)}},Ot=new WeakMap,_e=new WeakMap,ua=new WeakMap,_t=new WeakMap,Gn=new WeakMap,Xs=new WeakMap,vn=new WeakMap,wn=new WeakMap,da=new WeakMap,Ys=new WeakMap,ei=new WeakMap,Jn=new WeakMap,Zn=new WeakMap,_n=new WeakMap,ti=new WeakMap,Pe=new WeakSet,Yi=function(r){me(this,Pe,wu).call(this);let n=E(this,_e).fetch(this.options,r);return r!=null&&r.throwOnError||(n=n.catch(kt)),n},fu=function(){me(this,Pe,gu).call(this);const r=bn(this.options.staleTime,E(this,_e));if(Yn||E(this,_t).isStale||!cu(r))return;const a=pm(E(this,_t).dataUpdatedAt,r)+1;J(this,Jn,setTimeout(()=>{E(this,_t).isStale||this.updateResult()},a))},pu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,_e)):this.options.refetchInterval)??!1},mu=function(r){me(this,Pe,vu).call(this),J(this,_n,r),!(Yn||cr(this.options.enabled,E(this,_e))===!1||!cu(E(this,_n))||E(this,_n)===0)&&J(this,Zn,setInterval(()=>{(this.options.refetchIntervalInBackground||qu.isFocused())&&me(this,Pe,Yi).call(this)},E(this,_n)))},yu=function(){me(this,Pe,fu).call(this),me(this,Pe,mu).call(this,me(this,Pe,pu).call(this))},gu=function(){E(this,Jn)&&(clearTimeout(E(this,Jn)),J(this,Jn,void 0))},vu=function(){E(this,Zn)&&(clearInterval(E(this,Zn)),J(this,Zn,void 0))},wu=function(){const r=E(this,Ot).getQueryCache().build(E(this,Ot),this.options);if(r===E(this,_e))return;const n=E(this,_e);J(this,_e,r),J(this,ua,r.state),this.hasListeners()&&(n==null||n.removeObserver(this),r.addObserver(this))},Sm=function(r){Xe.batch(()=>{r.listeners&&this.listeners.forEach(n=>{n(E(this,_t))}),E(this,Ot).getQueryCache().notify({query:E(this,_e),type:"observerResultsUpdated"})})},dm);function Mv(s,r){return cr(r.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&r.retryOnMount===!1)}function pp(s,r){return Mv(s,r)||s.state.data!==void 0&&_u(s,r,r.refetchOnMount)}function _u(s,r,n){if(cr(r.enabled,s)!==!1&&bn(r.staleTime,s)!=="static"){const a=typeof n=="function"?n(s):n;return a==="always"||a!==!1&&Bu(s,r)}return!1}function mp(s,r,n,a){return(s!==r||cr(a.enabled,s)===!1)&&(!n.suspense||s.state.status!=="error")&&Bu(s,n)}function Bu(s,r){return cr(r.enabled,s)!==!1&&s.isStaleByTime(bn(r.staleTime,s))}function Fv(s,r){return!Bo(s.getCurrentResult(),r)}var xn,kn,zt,$r,Fr,Fo,xu,hm,Uv=(hm=class extends ni{constructor(n,a){super();se(this,Fr);se(this,xn);se(this,kn);se(this,zt);se(this,$r);J(this,xn,n),this.setOptions(a),this.bindMethods(),me(this,Fr,Fo).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const a=this.options;this.options=E(this,xn).defaultMutationOptions(n),Bo(this.options,a)||E(this,xn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,zt),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&es(a.mutationKey)!==es(this.options.mutationKey)?this.reset():((o=E(this,zt))==null?void 0:o.state.status)==="pending"&&E(this,zt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=E(this,zt))==null||n.removeObserver(this)}onMutationUpdate(n){me(this,Fr,Fo).call(this),me(this,Fr,xu).call(this,n)}getCurrentResult(){return E(this,kn)}reset(){var n;(n=E(this,zt))==null||n.removeObserver(this),J(this,zt,void 0),me(this,Fr,Fo).call(this),me(this,Fr,xu).call(this)}mutate(n,a){var o;return J(this,$r,a),(o=E(this,zt))==null||o.removeObserver(this),J(this,zt,E(this,xn).getMutationCache().build(E(this,xn),this.options)),E(this,zt).addObserver(this),E(this,zt).execute(n)}},xn=new WeakMap,kn=new WeakMap,zt=new WeakMap,$r=new WeakMap,Fr=new WeakSet,Fo=function(){var a;const n=((a=E(this,zt))==null?void 0:a.state)??bm();J(this,kn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},xu=function(n){Xe.batch(()=>{var a,o,u,h,m,p,y,_;if(E(this,$r)&&this.hasListeners()){const b=E(this,kn).variables,w=E(this,kn).context;(n==null?void 0:n.type)==="success"?((o=(a=E(this,$r)).onSuccess)==null||o.call(a,n.data,b,w),(h=(u=E(this,$r)).onSettled)==null||h.call(u,n.data,null,b,w)):(n==null?void 0:n.type)==="error"&&((p=(m=E(this,$r)).onError)==null||p.call(m,n.error,b,w),(_=(y=E(this,$r)).onSettled)==null||_.call(y,void 0,n.error,b,w))}this.listeners.forEach(b=>{b(E(this,kn))})})},hm),eu={exports:{}},Qi={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function qv(){if(yp)return Qi;yp=1;var s=Mu(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,p,y){var _,b={},w=null,k=null;y!==void 0&&(w=""+y),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(k=p.ref);for(_ in p)a.call(p,_)&&!u.hasOwnProperty(_)&&(b[_]=p[_]);if(m&&m.defaultProps)for(_ in p=m.defaultProps,p)b[_]===void 0&&(b[_]=p[_]);return{$$typeof:r,type:m,key:w,ref:k,props:b,_owner:o.current}}return Qi.Fragment=n,Qi.jsx=h,Qi.jsxs=h,Qi}var gp;function Bv(){return gp||(gp=1,eu.exports=qv()),eu.exports}var Wu=Bv();const c=Wu.jsx,g=Wu.jsxs,Jt=Wu.Fragment;var Nm=R.createContext(void 0),xr=s=>{const r=R.useContext(Nm);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},Wv=({client:s,children:r})=>(R.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),c(Nm.Provider,{value:s,children:r})),Cm=R.createContext(!1),Hv=()=>R.useContext(Cm);Cm.Provider;function Kv(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var Vv=R.createContext(Kv()),Qv=()=>R.useContext(Vv),Gv=(s,r)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(r.isReset()||(s.retryOnMount=!1))},Jv=s=>{R.useEffect(()=>{s.clearReset()},[s])},Zv=({result:s,errorResetBoundary:r,throwOnError:n,query:a,suspense:o})=>s.isError&&!r.isReset()&&!s.isFetching&&a&&(o&&s.data===void 0||gm(n,[s.error,a])),Xv=s=>{if(s.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=s.staleTime;s.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},Yv=(s,r)=>s.isLoading&&s.isFetching&&!r,e0=(s,r)=>(s==null?void 0:s.suspense)&&r.isPending,vp=(s,r,n)=>r.fetchOptimistic(s).catch(()=>{n.clearReset()});function t0(s,r,n){var b,w,k,S,x;const a=Hv(),o=Qv(),u=xr(),h=u.defaultQueryOptions(s);(w=(b=u.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||w.call(b,h),h._optimisticResults=a?"isRestoring":"optimistic",Xv(h),Gv(h,o),Jv(o);const m=!u.getQueryCache().get(h.queryHash),[p]=R.useState(()=>new r(u,h)),y=p.getOptimisticResult(h),_=!a&&s.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(N=>{const z=_?p.subscribe(Xe.batchCalls(N)):kt;return p.updateResult(),z},[p,_]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),R.useEffect(()=>{p.setOptions(h)},[h,p]),e0(h,y))throw vp(h,p,o);if(Zv({result:y,errorResetBoundary:o,throwOnError:h.throwOnError,query:u.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw y.error;if((S=(k=u.getDefaultOptions().queries)==null?void 0:k._experimental_afterQuery)==null||S.call(k,h,y),h.experimental_prefetchInRender&&!Yn&&Yv(y,a)){const N=m?vp(h,p,o):(x=u.getQueryCache().get(h.queryHash))==null?void 0:x.promise;N==null||N.catch(kt).finally(()=>{p.updateResult()})}return h.notifyOnChangeProps?y:p.trackResult(y)}function Ve(s,r){return t0(s,Dv)}function Ft(s,r){const n=xr(),[a]=R.useState(()=>new Uv(n,s));R.useEffect(()=>{a.setOptions(s)},[a,s]);const o=R.useSyncExternalStore(R.useCallback(h=>a.subscribe(Xe.batchCalls(h)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),u=R.useCallback((h,m)=>{a.mutate(h,m).catch(kt)},[a]);if(o.error&&gm(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}var Gi={},wp;function r0(){if(wp)return Gi;wp=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.parse=h,Gi.serialize=y;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,k){const S=new u,x=w.length;if(x<2)return S;const N=(k==null?void 0:k.decode)||_;let z=0;do{const I=w.indexOf("=",z);if(I===-1)break;const L=w.indexOf(";",z),D=L===-1?x:L;if(I>D){z=w.lastIndexOf(";",I-1)+1;continue}const M=m(w,z,I),G=p(w,I,M),re=w.slice(M,G);if(S[re]===void 0){let fe=m(w,I+1,D),W=p(w,D,fe);const te=N(w.slice(fe,W));S[re]=te}z=D+1}while(z<x);return S}function m(w,k,S){do{const x=w.charCodeAt(k);if(x!==32&&x!==9)return k}while(++k<S);return S}function p(w,k,S){for(;k>S;){const x=w.charCodeAt(--k);if(x!==32&&x!==9)return k+1}return S}function y(w,k,S){const x=(S==null?void 0:S.encode)||encodeURIComponent;if(!s.test(w))throw new TypeError(`argument name is invalid: ${w}`);const N=x(k);if(!r.test(N))throw new TypeError(`argument val is invalid: ${k}`);let z=w+"="+N;if(!S)return z;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);z+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);z+="; Domain="+S.domain}if(S.path){if(!a.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);z+="; Path="+S.path}if(S.expires){if(!b(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);z+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(z+="; HttpOnly"),S.secure&&(z+="; Secure"),S.partitioned&&(z+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return z}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return o.call(w)==="[object Date]"}return Gi}r0();var _p="popstate";function n0(s={}){function r(a,o){let{pathname:u,search:h,hash:m}=a.location;return ku("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:ia(o)}return i0(r,n,null,s)}function qe(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function wr(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function s0(){return Math.random().toString(36).substring(2,10)}function xp(s,r){return{usr:s.state,key:s.key,idx:r}}function ku(s,r,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof r=="string"?si(r):r,state:n,key:r&&r.key||a||s0()}}function ia({pathname:s="/",search:r="",hash:n=""}){return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function si(s){let r={};if(s){let n=s.indexOf("#");n>=0&&(r.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(r.search=s.substring(a),s=s.substring(0,a)),s&&(r.pathname=s)}return r}function i0(s,r,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,m="POP",p=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function b(){m="POP";let N=_(),z=N==null?null:N-y;y=N,p&&p({action:m,location:x.location,delta:z})}function w(N,z){m="PUSH";let I=ku(x.location,N,z);y=_()+1;let L=xp(I,y),D=x.createHref(I);try{h.pushState(L,"",D)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(D)}u&&p&&p({action:m,location:x.location,delta:1})}function k(N,z){m="REPLACE";let I=ku(x.location,N,z);y=_();let L=xp(I,y),D=x.createHref(I);h.replaceState(L,"",D),u&&p&&p({action:m,location:x.location,delta:0})}function S(N){return a0(N)}let x={get action(){return m},get location(){return s(o,h)},listen(N){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_p,b),p=N,()=>{o.removeEventListener(_p,b),p=null}},createHref(N){return r(o,N)},createURL:S,encodeLocation(N){let z=S(N);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:k,go(N){return h.go(N)}};return x}function a0(s,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qe(n,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:ia(s);return a=a.replace(/ $/,"%20"),!r&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Em(s,r,n="/"){return o0(s,r,n,!1)}function o0(s,r,n,a){let o=typeof r=="string"?si(r):r,u=Ur(o.pathname||"/",n);if(u==null)return null;let h=Pm(s);l0(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let y=w0(u);m=g0(h[p],y,a)}return m}function Pm(s,r=[],n=[],a=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(qe(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let y=Mr([a,p.relativePath]),_=n.concat(p);u.children&&u.children.length>0&&(qe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Pm(u.children,r,_,y)),!(u.path==null&&!u.index)&&r.push({path:y,score:m0(y,u.index),routesMeta:_})};return s.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of jm(u.path))o(u,h,p)}),r}function jm(s){let r=s.split("/");if(r.length===0)return[];let[n,...a]=r,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=jm(a.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function l0(s){s.sort((r,n)=>r.score!==n.score?n.score-r.score:y0(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var c0=/^:[\w-]+$/,u0=3,d0=2,h0=1,f0=10,p0=-2,kp=s=>s==="*";function m0(s,r){let n=s.split("/"),a=n.length;return n.some(kp)&&(a+=p0),r&&(a+=d0),n.filter(o=>!kp(o)).reduce((o,u)=>o+(c0.test(u)?u0:u===""?h0:f0),a)}function y0(s,r){return s.length===r.length&&s.slice(0,-1).every((a,o)=>a===r[o])?s[s.length-1]-r[r.length-1]:0}function g0(s,r,n=!1){let{routesMeta:a}=s,o={},u="/",h=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,_=u==="/"?r:r.slice(u.length)||"/",b=Ho({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),w=p.route;if(!b&&y&&n&&!a[a.length-1].route.index&&(b=Ho({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Mr([u,b.pathname]),pathnameBase:b0(Mr([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=Mr([u,b.pathnameBase]))}return h}function Ho(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=v0(s.path,s.caseSensitive,s.end),o=r.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:_,isOptional:b},w)=>{if(_==="*"){let S=m[w]||"";h=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const k=m[w];return b&&!k?y[_]=void 0:y[_]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:s}}function v0(s,r=!1,n=!0){wr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),a]}function w0(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return wr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),s}}function Ur(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}function _0(s,r="/"){let{pathname:n,search:a="",hash:o=""}=typeof s=="string"?si(s):s;return{pathname:n?n.startsWith("/")?n:x0(n,r):r,search:S0(a),hash:N0(o)}}function x0(s,r){let n=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function tu(s,r,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${r}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k0(s){return s.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Rm(s){let r=k0(s);return r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase)}function Om(s,r,n,a=!1){let o;typeof s=="string"?o=si(s):(o={...s},qe(!o.pathname||!o.pathname.includes("?"),tu("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),tu("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),tu("#","search","hash",o)));let u=s===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=r.length-1;if(!a&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?r[b]:"/"}let p=_0(o,m),y=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var Mr=s=>s.join("/").replace(/\/\/+/g,"/"),b0=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),S0=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,N0=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function C0(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var zm=["POST","PUT","PATCH","DELETE"];new Set(zm);var E0=["GET",...zm];new Set(E0);var ii=R.createContext(null);ii.displayName="DataRouter";var Zo=R.createContext(null);Zo.displayName="DataRouterState";var Tm=R.createContext({isTransitioning:!1});Tm.displayName="ViewTransition";var P0=R.createContext(new Map);P0.displayName="Fetchers";var j0=R.createContext(null);j0.displayName="Await";var kr=R.createContext(null);kr.displayName="Navigation";var fa=R.createContext(null);fa.displayName="Location";var br=R.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var Hu=R.createContext(null);Hu.displayName="RouteError";function R0(s,{relative:r}={}){qe(pa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=R.useContext(kr),{hash:o,pathname:u,search:h}=ma(s,{relative:r}),m=u;return n!=="/"&&(m=u==="/"?n:Mr([n,u])),a.createHref({pathname:m,search:h,hash:o})}function pa(){return R.useContext(fa)!=null}function rs(){return qe(pa(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(fa).location}var Am="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lm(s){R.useContext(kr).static||R.useLayoutEffect(s)}function Zt(){let{isDataRoute:s}=R.useContext(br);return s?W0():O0()}function O0(){qe(pa(),"useNavigate() may be used only in the context of a <Router> component.");let s=R.useContext(ii),{basename:r,navigator:n}=R.useContext(kr),{matches:a}=R.useContext(br),{pathname:o}=rs(),u=JSON.stringify(Rm(a)),h=R.useRef(!1);return Lm(()=>{h.current=!0}),R.useCallback((p,y={})=>{if(wr(h.current,Am),!h.current)return;if(typeof p=="number"){n.go(p);return}let _=Om(p,JSON.parse(u),o,y.relative==="path");s==null&&r!=="/"&&(_.pathname=_.pathname==="/"?r:Mr([r,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[r,n,u,o,s])}R.createContext(null);function z0(){let{matches:s}=R.useContext(br),r=s[s.length-1];return r?r.params:{}}function ma(s,{relative:r}={}){let{matches:n}=R.useContext(br),{pathname:a}=rs(),o=JSON.stringify(Rm(n));return R.useMemo(()=>Om(s,JSON.parse(o),a,r==="path"),[s,o,a,r])}function T0(s,r){return $m(s,r)}function $m(s,r,n,a){var z;qe(pa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(kr),{matches:u}=R.useContext(br),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let I=_&&_.path||"";Im(p,!_||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let b=rs(),w;if(r){let I=typeof r=="string"?si(r):r;qe(y==="/"||((z=I.pathname)==null?void 0:z.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${I.pathname}" was given in the \`location\` prop.`),w=I}else w=b;let k=w.pathname||"/",S=k;if(y!=="/"){let I=y.replace(/^\//,"").split("/");S="/"+k.replace(/^\//,"").split("/").slice(I.length).join("/")}let x=Em(s,{pathname:S});wr(_||x!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),wr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=D0(x&&x.map(I=>Object.assign({},I,{params:Object.assign({},m,I.params),pathname:Mr([y,o.encodeLocation?o.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?y:Mr([y,o.encodeLocation?o.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),u,n,a);return r&&N?R.createElement(fa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},N):N}function A0(){let s=B0(),r=C0(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:u},"ErrorBoundary")," or"," ",R.createElement("code",{style:u},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},r),n?R.createElement("pre",{style:o},n):null,h)}var L0=R.createElement(A0,null),$0=class extends R.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?R.createElement(br.Provider,{value:this.props.routeContext},R.createElement(Hu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I0({routeContext:s,match:r,children:n}){let a=R.useContext(ii);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),R.createElement(br.Provider,{value:s},n)}function D0(s,r=[],n=null,a=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let o=s,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);qe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:_,errors:b}=n,w=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||w){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let b,w=!1,k=null,S=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,k=y.route.errorElement||L0,h&&(m<0&&_===0?(Im("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):m===_&&(w=!0,S=y.route.hydrateFallbackElement||null)));let x=r.concat(o.slice(0,_+1)),N=()=>{let z;return b?z=k:w?z=S:y.route.Component?z=R.createElement(y.route.Component,null):y.route.element?z=y.route.element:z=p,R.createElement(I0,{match:y,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:z})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?R.createElement($0,{location:n.location,revalidation:n.revalidation,component:k,error:b,children:N(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):N()},null)}function Ku(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M0(s){let r=R.useContext(ii);return qe(r,Ku(s)),r}function F0(s){let r=R.useContext(Zo);return qe(r,Ku(s)),r}function U0(s){let r=R.useContext(br);return qe(r,Ku(s)),r}function Vu(s){let r=U0(s),n=r.matches[r.matches.length-1];return qe(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function q0(){return Vu("useRouteId")}function B0(){var a;let s=R.useContext(Hu),r=F0("useRouteError"),n=Vu("useRouteError");return s!==void 0?s:(a=r.errors)==null?void 0:a[n]}function W0(){let{router:s}=M0("useNavigate"),r=Vu("useNavigate"),n=R.useRef(!1);return Lm(()=>{n.current=!0}),R.useCallback(async(o,u={})=>{wr(n.current,Am),n.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:r,...u}))},[s,r])}var bp={};function Im(s,r,n){!r&&!bp[s]&&(bp[s]=!0,wr(!1,n))}R.memo(H0);function H0({routes:s,future:r,state:n}){return $m(s,void 0,n,r)}function ze(s){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K0({basename:s="/",children:r=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){qe(!pa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),m=R.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=si(n));let{pathname:p="/",search:y="",hash:_="",state:b=null,key:w="default"}=n,k=R.useMemo(()=>{let S=Ur(p,h);return S==null?null:{location:{pathname:S,search:y,hash:_,state:b,key:w},navigationType:a}},[h,p,y,_,b,w,a]);return wr(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:R.createElement(kr.Provider,{value:m},R.createElement(fa.Provider,{children:r,value:k}))}function V0({children:s,location:r}){return T0(bu(s),r)}function bu(s,r=[]){let n=[];return R.Children.forEach(s,(a,o)=>{if(!R.isValidElement(a))return;let u=[...r,o];if(a.type===R.Fragment){n.push.apply(n,bu(a.props.children,u));return}qe(a.type===ze,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=bu(a.props.children,u)),n.push(h)}),n}var Uo="get",qo="application/x-www-form-urlencoded";function Xo(s){return s!=null&&typeof s.tagName=="string"}function Q0(s){return Xo(s)&&s.tagName.toLowerCase()==="button"}function G0(s){return Xo(s)&&s.tagName.toLowerCase()==="form"}function J0(s){return Xo(s)&&s.tagName.toLowerCase()==="input"}function Z0(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function X0(s,r){return s.button===0&&(!r||r==="_self")&&!Z0(s)}var To=null;function Y0(){if(To===null)try{new FormData(document.createElement("form"),0),To=!1}catch{To=!0}return To}var ew=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ru(s){return s!=null&&!ew.has(s)?(wr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qo}"`),null):s}function tw(s,r){let n,a,o,u,h;if(G0(s)){let m=s.getAttribute("action");a=m?Ur(m,r):null,n=s.getAttribute("method")||Uo,o=ru(s.getAttribute("enctype"))||qo,u=new FormData(s)}else if(Q0(s)||J0(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(a=p?Ur(p,r):null,n=s.getAttribute("formmethod")||m.getAttribute("method")||Uo,o=ru(s.getAttribute("formenctype"))||ru(m.getAttribute("enctype"))||qo,u=new FormData(m,s),!Y0()){let{name:y,type:_,value:b}=s;if(_==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,b)}}else{if(Xo(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uo,a=null,o=qo,h=s}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:h}}function Qu(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}async function rw(s,r){if(s.id in r)return r[s.id];try{let n=await import(s.module);return r[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function sw(s,r,n){let a=await Promise.all(s.map(async o=>{let u=r.routes[o.route.id];if(u){let h=await rw(u,n);return h.links?h.links():[]}return[]}));return lw(a.flat(1).filter(nw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Sp(s,r,n,a,o,u){let h=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var _;return n[y].pathname!==p.pathname||((_=n[y].route.path)==null?void 0:_.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?r.filter((p,y)=>h(p,y)||m(p,y)):u==="data"?r.filter((p,y)=>{var b;let _=a.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function iw(s,r,{includeHydrateFallback:n}={}){return aw(s.map(a=>{let o=r.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function aw(s){return[...new Set(s)]}function ow(s){let r={},n=Object.keys(s).sort();for(let a of n)r[a]=s[a];return r}function lw(s,r){let n=new Set;return new Set(r),s.reduce((a,o)=>{let u=JSON.stringify(ow(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cw=new Set([100,101,204,205]);function uw(s,r){let n=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n.pathname==="/"?n.pathname="_root.data":r&&Ur(n.pathname,r)==="/"?n.pathname=`${r.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Dm(){let s=R.useContext(ii);return Qu(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function dw(){let s=R.useContext(Zo);return Qu(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Gu=R.createContext(void 0);Gu.displayName="FrameworkContext";function Mm(){let s=R.useContext(Gu);return Qu(s,"You must render this element inside a <HydratedRouter> element"),s}function hw(s,r){let n=R.useContext(Gu),[a,o]=R.useState(!1),[u,h]=R.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:b}=r,w=R.useRef(null);R.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let x=z=>{z.forEach(I=>{h(I.isIntersecting)})},N=new IntersectionObserver(x,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[s]),R.useEffect(()=>{if(a){let x=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(x)}}},[a]);let k=()=>{o(!0)},S=()=>{o(!1),h(!1)};return n?s!=="intent"?[u,w,{}]:[u,w,{onFocus:Ji(m,k),onBlur:Ji(p,S),onMouseEnter:Ji(y,k),onMouseLeave:Ji(_,S),onTouchStart:Ji(b,k)}]:[!1,w,{}]}function Ji(s,r){return n=>{s&&s(n),n.defaultPrevented||r(n)}}function fw({page:s,...r}){let{router:n}=Dm(),a=R.useMemo(()=>Em(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?R.createElement(mw,{page:s,matches:a,...r}):null}function pw(s){let{manifest:r,routeModules:n}=Mm(),[a,o]=R.useState([]);return R.useEffect(()=>{let u=!1;return sw(s,r,n).then(h=>{u||o(h)}),()=>{u=!0}},[s,r,n]),a}function mw({page:s,matches:r,...n}){let a=rs(),{manifest:o,routeModules:u}=Mm(),{basename:h}=Dm(),{loaderData:m,matches:p}=dw(),y=R.useMemo(()=>Sp(s,r,p,o,a,"data"),[s,r,p,o,a]),_=R.useMemo(()=>Sp(s,r,p,o,a,"assets"),[s,r,p,o,a]),b=R.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let S=new Set,x=!1;if(r.forEach(z=>{var L;let I=o.routes[z.route.id];!I||!I.hasLoader||(!y.some(D=>D.route.id===z.route.id)&&z.route.id in m&&((L=u[z.route.id])!=null&&L.shouldRevalidate)||I.hasClientLoader?x=!0:S.add(z.route.id))}),S.size===0)return[];let N=uw(s,h);return x&&S.size>0&&N.searchParams.set("_routes",r.filter(z=>S.has(z.route.id)).map(z=>z.route.id).join(",")),[N.pathname+N.search]},[h,m,a,o,y,r,s,u]),w=R.useMemo(()=>iw(_,o),[_,o]),k=pw(_);return R.createElement(R.Fragment,null,b.map(S=>R.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),w.map(S=>R.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),k.map(({key:S,link:x})=>R.createElement("link",{key:S,...x})))}function yw(...s){return r=>{s.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var Fm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fm&&(window.__reactRouterVersion="7.6.2")}catch{}function gw({basename:s,children:r,window:n}){let a=R.useRef();a.current==null&&(a.current=n0({window:n,v5Compat:!0}));let o=a.current,[u,h]=R.useState({action:o.action,location:o.location}),m=R.useCallback(p=>{R.startTransition(()=>h(p))},[h]);return R.useLayoutEffect(()=>o.listen(m),[o,m]),R.createElement(K0,{basename:s,children:r,location:u.location,navigationType:u.action,navigator:o})}var Um=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ya=R.forwardRef(function({onClick:r,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:y,preventScrollReset:_,viewTransition:b,...w},k){let{basename:S}=R.useContext(kr),x=typeof y=="string"&&Um.test(y),N,z=!1;if(typeof y=="string"&&x&&(N=y,Fm))try{let W=new URL(window.location.href),te=y.startsWith("//")?new URL(W.protocol+y):new URL(y),we=Ur(te.pathname,S);te.origin===W.origin&&we!=null?y=we+te.search+te.hash:z=!0}catch{wr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=R0(y,{relative:o}),[L,D,M]=hw(a,w),G=_w(y,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:b});function re(W){r&&r(W),W.defaultPrevented||G(W)}let fe=R.createElement("a",{...w,...M,href:N||I,onClick:z||u?r:re,ref:yw(k,D),target:p,"data-discover":!x&&n==="render"?"true":void 0});return L&&!x?R.createElement(R.Fragment,null,fe,R.createElement(fw,{page:I})):fe});ya.displayName="Link";var Fs=R.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...y},_){let b=ma(h,{relative:y.relative}),w=rs(),k=R.useContext(Zo),{navigator:S,basename:x}=R.useContext(kr),N=k!=null&&Nw(b)&&m===!0,z=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,I=w.pathname,L=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(I=I.toLowerCase(),L=L?L.toLowerCase():null,z=z.toLowerCase()),L&&x&&(L=Ur(L,x)||L);const D=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let M=I===z||!o&&I.startsWith(z)&&I.charAt(D)==="/",G=L!=null&&(L===z||!o&&L.startsWith(z)&&L.charAt(z.length)==="/"),re={isActive:M,isPending:G,isTransitioning:N},fe=M?r:void 0,W;typeof a=="function"?W=a(re):W=[a,M?"active":null,G?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let te=typeof u=="function"?u(re):u;return R.createElement(ya,{...y,"aria-current":fe,className:W,ref:_,style:te,to:h,viewTransition:m},typeof p=="function"?p(re):p)});Fs.displayName="NavLink";var vw=R.forwardRef(({discover:s="render",fetcherKey:r,navigate:n,reloadDocument:a,replace:o,state:u,method:h=Uo,action:m,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:b,...w},k)=>{let S=bw(),x=Sw(m,{relative:y}),N=h.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&Um.test(m),I=L=>{if(p&&p(L),L.defaultPrevented)return;L.preventDefault();let D=L.nativeEvent.submitter,M=(D==null?void 0:D.getAttribute("formmethod"))||h;S(D||L.currentTarget,{fetcherKey:r,method:M,navigate:n,replace:o,state:u,relative:y,preventScrollReset:_,viewTransition:b})};return R.createElement("form",{ref:k,method:N,action:x,onSubmit:a?p:I,...w,"data-discover":!z&&s==="render"?"true":void 0})});vw.displayName="Form";function ww(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qm(s){let r=R.useContext(ii);return qe(r,ww(s)),r}function _w(s,{target:r,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Zt(),p=rs(),y=ma(s,{relative:u});return R.useCallback(_=>{if(X0(_,r)){_.preventDefault();let b=n!==void 0?n:ia(p)===ia(y);m(s,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,y,n,a,r,s,o,u,h])}var xw=0,kw=()=>`__${String(++xw)}__`;function bw(){let{router:s}=qm("useSubmit"),{basename:r}=R.useContext(kr),n=q0();return R.useCallback(async(a,o={})=>{let{action:u,method:h,encType:m,formData:p,body:y}=tw(a,r);if(o.navigate===!1){let _=o.fetcherKey||kw();await s.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,r,n])}function Sw(s,{relative:r}={}){let{basename:n}=R.useContext(kr),a=R.useContext(br);qe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...ma(s||".",{relative:r})},h=rs();if(s==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();u.search=_?`?${_}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Mr([n,u.pathname])),ia(u)}function Nw(s,r={}){let n=R.useContext(Tm);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=qm("useViewTransitionState"),o=ma(s,{relative:r.relative});if(!n.isTransitioning)return!1;let u=Ur(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=Ur(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Ho(o.pathname,h)!=null||Ho(o.pathname,u)!=null}[...cw];var Cw=function(){return null};const Bm=()=>({getFormData:a=>{const o={};return a.querySelectorAll("input[name]").forEach(p=>{p.type==="checkbox"?(o[p.name]||(o[p.name]=[]),p.checked&&o[p.name].push(p.value)):p.type==="radio"?p.checked&&(o[p.name]=p.value):o[p.name]=p.value}),a.querySelectorAll("select[name]").forEach(p=>{if(p.multiple){const y=Array.from(p.selectedOptions).map(_=>_.value);o[p.name]=y}else o[p.name]=p.value}),a.querySelectorAll("textarea[name]").forEach(p=>{o[p.name]=p.value}),o},resetForm:a=>{a.reset()},setFormData:(a,o)=>{Object.entries(o).forEach(([u,h])=>{a.querySelectorAll(`[name="${u}"]`).forEach(p=>{p instanceof HTMLInputElement?p.type==="checkbox"?p.checked=Array.isArray(h)?h.includes(p.value):h===p.value:p.type==="radio"?p.checked=p.value===h:p.value=Array.isArray(h)?h.join(", "):h:p instanceof HTMLSelectElement?p.multiple&&Array.isArray(h)?Array.from(p.options).forEach(y=>{y.selected=h.includes(y.value)}):p.value=Array.isArray(h)?h[0]||"":h:p instanceof HTMLTextAreaElement&&(p.value=Array.isArray(h)?h.join(`
`):h)})})}}),Ew=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>ha(async()=>{const{default:a}=await Promise.resolve().then(()=>ga);return{default:a}},[]).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)};class Ju extends Error{constructor(r,n="FunctionsError",a){super(r),this.name=n,this.context=a}}class Pw extends Ju{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class jw extends Ju{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Rw extends Ju{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Su;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Su||(Su={}));var Ow=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(_){try{y(a.next(_))}catch(b){h(b)}}function p(_){try{y(a.throw(_))}catch(b){h(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,p)}y((a=a.apply(s,r||[])).next())})};class zw{constructor(r,{headers:n={},customFetch:a,region:o=Su.Any}={}){this.url=r,this.headers=n,this.region=o,this.fetch=Ew(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,n={}){var a;return Ow(this,void 0,void 0,function*(){try{const{headers:o,method:u,body:h}=n;let m={},{region:p}=n;p||(p=this.region),p&&p!=="any"&&(m["x-region"]=p);let y;h&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",y=h):typeof h=="string"?(m["Content-Type"]="text/plain",y=h):typeof FormData<"u"&&h instanceof FormData?y=h:(m["Content-Type"]="application/json",y=JSON.stringify(h)));const _=yield this.fetch(`${this.url}/${r}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:y}).catch(S=>{throw new Pw(S)}),b=_.headers.get("x-relay-error");if(b&&b==="true")throw new jw(_);if(!_.ok)throw new Rw(_);let w=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),k;return w==="application/json"?k=yield _.json():w==="application/octet-stream"?k=yield _.blob():w==="text/event-stream"?k=_:w==="multipart/form-data"?k=yield _.formData():k=yield _.text(),{data:k,error:null}}catch(o){return{data:null,error:o}}})}}var st={},Rs={},Os={},zs={},Ts={},As={},Tw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ri=Tw();const Aw=ri.fetch,Wm=ri.fetch.bind(ri),Hm=ri.Headers,Lw=ri.Request,$w=ri.Response,ga=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hm,Request:Lw,Response:$w,default:Wm,fetch:Aw},Symbol.toStringTag,{value:"Module"})),Iw=dv(ga);var Ao={},Np;function Km(){if(Np)return Ao;Np=1,Object.defineProperty(Ao,"__esModule",{value:!0});class s extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ao.default=s,Ao}var Cp;function Vm(){if(Cp)return As;Cp=1;var s=As&&As.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(As,"__esModule",{value:!0});const r=s(Iw),n=s(Km());class a{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,h){return this.headers=Object.assign({},this.headers),this.headers[u]=h,this}then(u,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const m=this.fetch;let p=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var _,b,w;let k=null,S=null,x=null,N=y.status,z=y.statusText;if(y.ok){if(this.method!=="HEAD"){const M=await y.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=M:S=JSON.parse(M))}const L=(_=this.headers.Prefer)===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),D=(b=y.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");L&&D&&D.length>1&&(x=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(k={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,x=null,N=406,z="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const L=await y.text();try{k=JSON.parse(L),Array.isArray(k)&&y.status===404&&(S=[],k=null,N=200,z="OK")}catch{y.status===404&&L===""?(N=204,z="No Content"):k={message:L}}if(k&&this.isMaybeSingle&&(!((w=k==null?void 0:k.details)===null||w===void 0)&&w.includes("0 rows"))&&(k=null,N=200,z="OK"),k&&this.shouldThrowOnError)throw new n.default(k)}return{error:k,data:S,count:x,status:N,statusText:z}});return this.shouldThrowOnError||(p=p.catch(y=>{var _,b,w;return{error:{message:`${(_=y==null?void 0:y.name)!==null&&_!==void 0?_:"FetchError"}: ${y==null?void 0:y.message}`,details:`${(b=y==null?void 0:y.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(w=y==null?void 0:y.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,h)}returns(){return this}overrideTypes(){return this}}return As.default=a,As}var Ep;function Qm(){if(Ep)return Ts;Ep=1;var s=Ts&&Ts.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ts,"__esModule",{value:!0});const r=s(Vm());class n extends r.default{select(o){let u=!1;const h=(o??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",h),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:u=!0,nullsFirst:h,foreignTable:m,referencedTable:p=m}={}){const y=p?`${p}.order`:"order",_=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${_?`${_},`:""}${o}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:h=u}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,u,{foreignTable:h,referencedTable:m=h}={}){const p=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(y,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:u=!1,settings:h=!1,buffers:m=!1,wal:p=!1,format:y="text"}={}){var _;const b=[o?"analyze":null,u?"verbose":null,h?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(_=this.headers.Accept)!==null&&_!==void 0?_:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${w}"; options=${b};`,y==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ts.default=n,Ts}var Pp;function Zu(){if(Pp)return zs;Pp=1;var s=zs&&zs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(zs,"__esModule",{value:!0});const r=s(Qm());class n extends r.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const h=Array.from(new Set(u)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:h,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const y=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${p}fts${y}.${u}`),this}match(o){return Object.entries(o).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(o,u,h){return this.url.searchParams.append(o,`not.${u}.${h}`),this}or(o,{foreignTable:u,referencedTable:h=u}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,u,h){return this.url.searchParams.append(o,`${u}.${h}`),this}}return zs.default=n,zs}var jp;function Gm(){if(jp)return Os;jp=1;var s=Os&&Os.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Os,"__esModule",{value:!0});const r=s(Zu());class n{constructor(o,{headers:u={},schema:h,fetch:m}){this.url=o,this.headers=u,this.schema=h,this.fetch=m}select(o,{head:u=!1,count:h}={}){const m=u?"HEAD":"GET";let p=!1;const y=(o??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",y),h&&(this.headers.Prefer=`count=${h}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:u,defaultToNull:h=!0}={}){const m="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),h||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const y=o.reduce((_,b)=>_.concat(Object.keys(b)),[]);if(y.length>0){const _=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",_.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:u,ignoreDuplicates:h=!1,count:m,defaultToNull:p=!0}={}){const y="POST",_=[`resolution=${h?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&_.push(this.headers.Prefer),m&&_.push(`count=${m}`),p||_.push("missing=default"),this.headers.Prefer=_.join(","),Array.isArray(o)){const b=o.reduce((w,k)=>w.concat(Object.keys(k)),[]);if(b.length>0){const w=[...new Set(b)].map(k=>`"${k}"`);this.url.searchParams.set("columns",w.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:u}={}){const h="PATCH",m=[];return this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),this.headers.Prefer=m.join(","),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const u="DELETE",h=[];return o&&h.push(`count=${o}`),this.headers.Prefer&&h.unshift(this.headers.Prefer),this.headers.Prefer=h.join(","),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Os.default=n,Os}var Zi={},Xi={},Rp;function Dw(){return Rp||(Rp=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.version=void 0,Xi.version="0.0.0-automated"),Xi}var Op;function Mw(){if(Op)return Zi;Op=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.DEFAULT_HEADERS=void 0;const s=Dw();return Zi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},Zi}var zp;function Fw(){if(zp)return Rs;zp=1;var s=Rs&&Rs.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Rs,"__esModule",{value:!0});const r=s(Gm()),n=s(Zu()),a=Mw();class o{constructor(h,{headers:m={},schema:p,fetch:y}={}){this.url=h,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),m),this.schemaName=p,this.fetch=y}from(h){const m=new URL(`${this.url}/${h}`);return new r.default(m,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new o(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,m={},{head:p=!1,get:y=!1,count:_}={}){let b;const w=new URL(`${this.url}/rpc/${h}`);let k;p||y?(b=p?"HEAD":"GET",Object.entries(m).filter(([x,N])=>N!==void 0).map(([x,N])=>[x,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([x,N])=>{w.searchParams.append(x,N)})):(b="POST",k=m);const S=Object.assign({},this.headers);return _&&(S.Prefer=`count=${_}`),new n.default({method:b,url:w,headers:S,schema:this.schemaName,body:k,fetch:this.fetch,allowEmpty:!1})}}return Rs.default=o,Rs}var Tp;function Uw(){if(Tp)return st;Tp=1;var s=st&&st.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(st,"__esModule",{value:!0}),st.PostgrestError=st.PostgrestBuilder=st.PostgrestTransformBuilder=st.PostgrestFilterBuilder=st.PostgrestQueryBuilder=st.PostgrestClient=void 0;const r=s(Fw());st.PostgrestClient=r.default;const n=s(Gm());st.PostgrestQueryBuilder=n.default;const a=s(Zu());st.PostgrestFilterBuilder=a.default;const o=s(Qm());st.PostgrestTransformBuilder=o.default;const u=s(Vm());st.PostgrestBuilder=u.default;const h=s(Km());return st.PostgrestError=h.default,st.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:h.default},st}var qw=Uw();const Bw=fm(qw),{PostgrestClient:Ww,PostgrestQueryBuilder:Hk,PostgrestFilterBuilder:Kk,PostgrestTransformBuilder:Vk,PostgrestBuilder:Qk,PostgrestError:Gk}=Bw;let Nu;typeof window>"u"?Nu=require("ws"):Nu=window.WebSocket;const Hw="2.11.10",Kw={"X-Client-Info":`realtime-js/${Hw}`},Vw="1.0.0",Jm=1e4,Qw=1e3;var Us;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Us||(Us={}));var vt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(vt||(vt={}));var lr;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(lr||(lr={}));var Cu;(function(s){s.websocket="websocket"})(Cu||(Cu={}));var qn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(qn||(qn={}));class Gw{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),a=new TextDecoder;return this._decodeBroadcast(r,n,a)}_decodeBroadcast(r,n,a){const o=n.getUint8(1),u=n.getUint8(2);let h=this.HEADER_LENGTH+2;const m=a.decode(r.slice(h,h+o));h=h+o;const p=a.decode(r.slice(h,h+u));h=h+u;const y=JSON.parse(a.decode(r.slice(h,r.byteLength)));return{ref:null,topic:m,event:p,payload:y}}}class Zm{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})($e||($e={}));const Ap=(s,r,n={})=>{var a;const o=(a=n.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(r).reduce((u,h)=>(u[h]=Jw(h,s,r,o),u),{})},Jw=(s,r,n,a)=>{const o=r.find(m=>m.name===s),u=o==null?void 0:o.type,h=n[s];return u&&!a.includes(u)?Xm(u,h):Eu(h)},Xm=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return e1(r,n)}switch(s){case $e.bool:return Zw(r);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return Xw(r);case $e.json:case $e.jsonb:return Yw(r);case $e.timestamp:return t1(r);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Eu(r);default:return Eu(r)}},Eu=s=>s,Zw=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Xw=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},Yw=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(r){return console.log(`JSON parse error: ${r}`),s}return s},e1=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,a=s[n];if(s[0]==="{"&&a==="}"){let u;const h=s.slice(1,n);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(m=>Xm(r,m))}return s},t1=s=>typeof s=="string"?s.replace(" ","T"):s,Ym=s=>{let r=s;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class nu{constructor(r,n,a={},o=Jm){this.channel=r,this.event=n,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var a;return this._hasReceived(r)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Lp;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Lp||(Lp={}));class ta{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ta.syncState(this.state,o,u,h),this.pendingDiffs.forEach(p=>{this.state=ta.syncDiff(this.state,p,u,h)}),this.pendingDiffs=[],m()}),this.channel._on(a.diff,{},o=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ta.syncDiff(this.state,o,u,h),m())}),this.onJoin((o,u,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:h})}),this.onLeave((o,u,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,a,o){const u=this.cloneDeep(r),h=this.transformState(n),m={},p={};return this.map(u,(y,_)=>{h[y]||(p[y]=_)}),this.map(h,(y,_)=>{const b=u[y];if(b){const w=_.map(N=>N.presence_ref),k=b.map(N=>N.presence_ref),S=_.filter(N=>k.indexOf(N.presence_ref)<0),x=b.filter(N=>w.indexOf(N.presence_ref)<0);S.length>0&&(m[y]=S),x.length>0&&(p[y]=x)}else m[y]=_}),this.syncDiff(u,{joins:m,leaves:p},a,o)}static syncDiff(r,n,a,o){const{joins:u,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(u,(m,p)=>{var y;const _=(y=r[m])!==null&&y!==void 0?y:[];if(r[m]=this.cloneDeep(p),_.length>0){const b=r[m].map(k=>k.presence_ref),w=_.filter(k=>b.indexOf(k.presence_ref)<0);r[m].unshift(...w)}a(m,_,p)}),this.map(h,(m,p)=>{let y=r[m];if(!y)return;const _=p.map(b=>b.presence_ref);y=y.filter(b=>_.indexOf(b.presence_ref)<0),r[m]=y,o(m,y,p),y.length===0&&delete r[m]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(a=>n(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,a)=>{const o=r[a];return"metas"in o?n[a]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[a]=o,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $p;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})($p||($p={}));var Ip;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Ip||(Ip={}));var Ar;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Ar||(Ar={}));class Xu{constructor(r,n={config:{}},a){this.topic=r,this.params=n,this.socket=a,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new nu(this,lr.join,this.params,this.timeout),this.rejoinTimer=new Zm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lr.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new ta(this),this.broadcastEndpointURL=Ym(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,n=this.timeout){var a,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:h,private:m}}=this.params;this._onError(_=>r==null?void 0:r(Ar.CHANNEL_ERROR,_)),this._onClose(()=>r==null?void 0:r(Ar.CLOSED));const p={},y={broadcast:u,presence:h,postgres_changes:(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&o!==void 0?o:[],private:m};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var b;if(this.socket.setAuth(),_===void 0){r==null||r(Ar.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,k=(b=w==null?void 0:w.length)!==null&&b!==void 0?b:0,S=[];for(let x=0;x<k;x++){const N=w[x],{filter:{event:z,schema:I,table:L,filter:D}}=N,M=_&&_[x];if(M&&M.event===z&&M.schema===I&&M.table===L&&M.filter===D)S.push(Object.assign(Object.assign({},N),{id:M.id}));else{this.unsubscribe(),this.state=vt.errored,r==null||r(Ar.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,r&&r(Ar.SUBSCRIBED);return}}).receive("error",_=>{this.state=vt.errored,r==null||r(Ar.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Ar.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,a){return this._on(r,n,a)}async send(r,n={}){var a,o;if(!this._canPush()&&r.type==="broadcast"){const{event:u,payload:h}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=y.body)===null||o===void 0?void 0:o.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,m,p;const y=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),y.receive("ok",()=>u("ok")),y.receive("error",()=>u("error")),y.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(a=>{const o=new nu(this,lr.leave,{},r);o.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,n,a){const o=new AbortController,u=setTimeout(()=>o.abort(),a),h=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(u),h}_push(r,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new nu(this,r,n,a);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(r,n,a){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,a){var o,u;const h=r.toLocaleLowerCase(),{close:m,error:p,leave:y,join:_}=lr;if(a&&[m,p,y,_].indexOf(h)>=0&&a!==this._joinRef())return;let w=this._onMessage(h,n,a);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(k=>{var S,x,N;return((S=k.filter)===null||S===void 0?void 0:S.event)==="*"||((N=(x=k.filter)===null||x===void 0?void 0:x.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===h}).map(k=>k.callback(w,a)):(u=this.bindings[h])===null||u===void 0||u.filter(k=>{var S,x,N,z,I,L;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in k){const D=k.id,M=(S=k.filter)===null||S===void 0?void 0:S.event;return D&&((x=n.ids)===null||x===void 0?void 0:x.includes(D))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const D=(I=(z=k==null?void 0:k.filter)===null||z===void 0?void 0:z.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return D==="*"||D===((L=n==null?void 0:n.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===h}).map(k=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:x,table:N,commit_timestamp:z,type:I,errors:L}=S;w=Object.assign(Object.assign({},{schema:x,table:N,commit_timestamp:z,eventType:I,new:{},old:{},errors:L}),this._getPayloadRecords(S))}k.callback(w,a)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,a){const o=r.toLocaleLowerCase(),u={type:o,filter:n,callback:a};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(r,n){const a=r.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&Xu.isEqual(o.filter,n))}),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const a in r)if(r[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(lr.close,{},r)}_onError(r){this._on(lr.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Ap(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Ap(r.columns,r.old_record)),n}}const Dp=()=>{},r1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class n1{constructor(r,n){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Kw,this.params={},this.timeout=Jm,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dp,this.ref=0,this.logger=Dp,this.conn=null,this.sendBuffer=[],this.serializer=new Gw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let h;return u?h=u:typeof fetch>"u"?h=(...m)=>ha(async()=>{const{default:p}=await import("./index-_Bq6lyz0.js");return{default:p}},[]).then(({default:p})=>p(...m)):h=fetch,(...m)=>h(...m)},this.endPoint=`${r}/${Cu.websocket}`,this.httpEndpoint=Ym(r),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(a=n==null?void 0:n.params)===null||a===void 0?void 0:a.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(u,h)=>h(JSON.stringify(u)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Zm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Nu),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new s1(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Vw}))}disconnect(r,n){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(a=>a.teardown()))}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels=this.channels.filter(a=>a._joinRef!==r._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,a){this.logger(r,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Us.connecting:return qn.Connecting;case Us.open:return qn.Open;case Us.closing:return qn.Closing;default:return qn.Closed}}isConnected(){return this.connectionState()===qn.Open}channel(r,n={config:{}}){const a=`realtime:${r}`,o=this.getChannels().find(u=>u.topic===a);if(o)return o;{const u=new Xu(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:a,payload:o,ref:u}=r,h=()=>{this.encode(r,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${n} ${a} (${u})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){let n=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),a.joinedOnce&&a._isJoined()&&a._push(lr.access_token,{access_token:n})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(Qw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,n=>{let{topic:a,event:o,payload:u,ref:h}=n;a==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),h&&h===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${a} ${o} ${h&&"("+h+")"||""}`,u),Array.from(this.channels).filter(m=>m._isMember(a)).forEach(m=>m._trigger(o,u,h)),this.stateChangeCallbacks.message.forEach(m=>m(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(r=>r())}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(r))}_onConnError(r){this.log("transport",r.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(lr.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const a=r.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${r}${a}${o}`}_workerObjectUrl(r){let n;if(r)n=r;else{const a=new Blob([r1],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}}class s1{constructor(r,n,a){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Us.connecting,this.send=()=>{},this.url=null,this.url=r,this.close=a.close}}class Yu extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function it(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class i1 extends Yu{constructor(r,n){super(r),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Pu extends Yu{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}var a1=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(_){try{y(a.next(_))}catch(b){h(b)}}function p(_){try{y(a.throw(_))}catch(b){h(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,p)}y((a=a.apply(s,r||[])).next())})};const ey=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>ha(async()=>{const{default:a}=await Promise.resolve().then(()=>ga);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},o1=()=>a1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ha(()=>Promise.resolve().then(()=>ga),void 0)).Response:Response}),ju=s=>{if(Array.isArray(s))return s.map(n=>ju(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,a])=>{const o=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[o]=ju(a)}),r};var ns=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(_){try{y(a.next(_))}catch(b){h(b)}}function p(_){try{y(a.throw(_))}catch(b){h(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,p)}y((a=a.apply(s,r||[])).next())})};const su=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),l1=(s,r,n)=>ns(void 0,void 0,void 0,function*(){const a=yield o1();s instanceof a&&!(n!=null&&n.noResolveJson)?s.json().then(o=>{r(new i1(su(o),s.status||500))}).catch(o=>{r(new Pu(su(o),o))}):r(new Pu(su(s),s))}),c1=(s,r,n,a)=>{const o={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),a&&(o.body=JSON.stringify(a)),Object.assign(Object.assign({},o),n))};function va(s,r,n,a,o,u){return ns(this,void 0,void 0,function*(){return new Promise((h,m)=>{s(n,c1(r,a,o,u)).then(p=>{if(!p.ok)throw p;return a!=null&&a.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>l1(p,m,a))})})}function Ko(s,r,n,a){return ns(this,void 0,void 0,function*(){return va(s,"GET",r,n,a)})}function dn(s,r,n,a,o){return ns(this,void 0,void 0,function*(){return va(s,"POST",r,a,o,n)})}function u1(s,r,n,a,o){return ns(this,void 0,void 0,function*(){return va(s,"PUT",r,a,o,n)})}function d1(s,r,n,a){return ns(this,void 0,void 0,function*(){return va(s,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function ty(s,r,n,a,o){return ns(this,void 0,void 0,function*(){return va(s,"DELETE",r,a,o,n)})}var Rt=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(_){try{y(a.next(_))}catch(b){h(b)}}function p(_){try{y(a.throw(_))}catch(b){h(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,p)}y((a=a.apply(s,r||[])).next())})};const h1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class f1{constructor(r,n={},a,o){this.url=r,this.headers=n,this.bucketId=a,this.fetch=ey(o)}uploadOrUpdate(r,n,a,o){return Rt(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},Mp),o);let m=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",this.encodeMetadata(p))):(u=a,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o!=null&&o.headers&&(m=Object.assign(Object.assign({},m),o.headers));const y=this._removeEmptyFolders(n),_=this._getFinalPath(y),b=yield this.fetch(`${this.url}/object/${_}`,Object.assign({method:r,body:u,headers:m},h!=null&&h.duplex?{duplex:h.duplex}:{})),w=yield b.json();return b.ok?{data:{path:y,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(u){if(it(u))return{data:null,error:u};throw u}})}upload(r,n,a){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,a)})}uploadToSignedUrl(r,n,a,o){return Rt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",n);try{let p;const y=Object.assign({upsert:Mp.upsert},o),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&a instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",a)):typeof FormData<"u"&&a instanceof FormData?(p=a,p.append("cacheControl",y.cacheControl)):(p=a,_["cache-control"]=`max-age=${y.cacheControl}`,_["content-type"]=y.contentType);const b=yield this.fetch(m.toString(),{method:"PUT",body:p,headers:_}),w=yield b.json();return b.ok?{data:{path:u,fullPath:w.Key},error:null}:{data:null,error:w}}catch(p){if(it(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,n){return Rt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const u=yield dn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),h=new URL(this.url+u.url),m=h.searchParams.get("token");if(!m)throw new Yu("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:m},error:null}}catch(a){if(it(a))return{data:null,error:a};throw a}})}update(r,n,a){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,a)})}move(r,n,a){return Rt(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(it(o))return{data:null,error:o};throw o}})}copy(r,n,a){return Rt(this,void 0,void 0,function*(){try{return{data:{path:(yield dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(it(o))return{data:null,error:o};throw o}})}createSignedUrl(r,n,a){return Rt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r),u=yield dn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const h=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(o){if(it(o))return{data:null,error:o};throw o}})}createSignedUrls(r,n,a){return Rt(this,void 0,void 0,function*(){try{const o=yield dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(o){if(it(o))return{data:null,error:o};throw o}})}download(r,n){return Rt(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),h=u?`?${u}`:"";try{const m=this._getFinalPath(r);return{data:yield(yield Ko(this.fetch,`${this.url}/${o}/${m}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(it(m))return{data:null,error:m};throw m}})}info(r){return Rt(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const a=yield Ko(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ju(a),error:null}}catch(a){if(it(a))return{data:null,error:a};throw a}})}exists(r){return Rt(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield d1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(it(a)&&a instanceof Pu){const o=a.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,n){const a=this._getFinalPath(r),o=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&o.push(u);const m=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&o.push(p);let y=o.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${a}${y}`)}}}remove(r){return Rt(this,void 0,void 0,function*(){try{return{data:yield ty(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}})}list(r,n,a){return Rt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},h1),n),{prefix:r||""});return{data:yield dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(it(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const p1="2.7.1",m1={"X-Client-Info":`storage-js/${p1}`};var Ls=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(_){try{y(a.next(_))}catch(b){h(b)}}function p(_){try{y(a.throw(_))}catch(b){h(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,p)}y((a=a.apply(s,r||[])).next())})};class y1{constructor(r,n={},a){this.url=r,this.headers=Object.assign(Object.assign({},m1),n),this.fetch=ey(a)}listBuckets(){return Ls(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}})}getBucket(r){return Ls(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}})}createBucket(r,n={public:!1}){return Ls(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(it(a))return{data:null,error:a};throw a}})}updateBucket(r,n){return Ls(this,void 0,void 0,function*(){try{return{data:yield u1(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(it(a))return{data:null,error:a};throw a}})}emptyBucket(r){return Ls(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}})}deleteBucket(r){return Ls(this,void 0,void 0,function*(){try{return{data:yield ty(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}})}}class g1 extends y1{constructor(r,n={},a){super(r,n,a)}from(r){return new f1(this.url,this.headers,r,this.fetch)}}const v1="2.50.0";let ea="";typeof Deno<"u"?ea="deno":typeof document<"u"?ea="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ea="react-native":ea="node";const w1={"X-Client-Info":`supabase-js-${ea}/${v1}`},_1={headers:w1},x1={schema:"public"},k1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},b1={};var S1=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(_){try{y(a.next(_))}catch(b){h(b)}}function p(_){try{y(a.throw(_))}catch(b){h(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,p)}y((a=a.apply(s,r||[])).next())})};const N1=s=>{let r;return s?r=s:typeof fetch>"u"?r=Wm:r=fetch,(...n)=>r(...n)},C1=()=>typeof Headers>"u"?Hm:Headers,E1=(s,r,n)=>{const a=N1(n),o=C1();return(u,h)=>S1(void 0,void 0,void 0,function*(){var m;const p=(m=yield r())!==null&&m!==void 0?m:s;let y=new o(h==null?void 0:h.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),a(u,Object.assign(Object.assign({},h),{headers:y}))})};var P1=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(_){try{y(a.next(_))}catch(b){h(b)}}function p(_){try{y(a.throw(_))}catch(b){h(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,p)}y((a=a.apply(s,r||[])).next())})};function j1(s){return s.endsWith("/")?s:s+"/"}function R1(s,r){var n,a;const{db:o,auth:u,realtime:h,global:m}=s,{db:p,auth:y,realtime:_,global:b}=r,w={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},y),u),realtime:Object.assign(Object.assign({},_),h),global:Object.assign(Object.assign(Object.assign({},b),m),{headers:Object.assign(Object.assign({},(n=b==null?void 0:b.headers)!==null&&n!==void 0?n:{}),(a=m==null?void 0:m.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>P1(this,void 0,void 0,function*(){return""})};return s.accessToken?w.accessToken=s.accessToken:delete w.accessToken,w}const ry="2.70.0",Ms=30*1e3,Ru=3,iu=Ru*Ms,O1="http://localhost:9999",z1="supabase.auth.token",T1={"X-Client-Info":`gotrue-js/${ry}`},Ou="X-Supabase-Api-Version",ny={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},A1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,L1=6e5;class ed extends Error{constructor(r,n,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function pe(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class $1 extends ed{constructor(r,n,a){super(r,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function I1(s){return pe(s)&&s.name==="AuthApiError"}class sy extends ed{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Cn extends ed{constructor(r,n,a,o){super(r,a,o),this.name=n,this.status=a}}class un extends Cn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function D1(s){return pe(s)&&s.name==="AuthSessionMissingError"}class Lo extends Cn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $o extends Cn{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Io extends Cn{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M1(s){return pe(s)&&s.name==="AuthImplicitGrantRedirectError"}class Fp extends Cn{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zu extends Cn{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function au(s){return pe(s)&&s.name==="AuthRetryableFetchError"}class Up extends Cn{constructor(r,n,a){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class ra extends Cn{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qp=` 	
\r=`.split(""),F1=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<qp.length;r+=1)s[qp[r].charCodeAt(0)]=-2;for(let r=0;r<Vo.length;r+=1)s[Vo[r].charCodeAt(0)]=r;return s})();function Bp(s,r,n){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Vo[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Vo[a]),r.queuedBits-=6}}function iy(s,r,n){const a=F1[s];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Wp(s){const r=[],n=h=>{r.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=h=>{B1(h,a,n)};for(let h=0;h<s.length;h+=1)iy(s.charCodeAt(h),o,u);return r.join("")}function U1(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function q1(s,r){for(let n=0;n<s.length;n+=1){let a=s.charCodeAt(n);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(s.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}U1(a,r)}}function B1(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function W1(s){const r=[],n={queue:0,queuedBits:0},a=o=>{r.push(o)};for(let o=0;o<s.length;o+=1)iy(s.charCodeAt(o),n,a);return new Uint8Array(r)}function H1(s){const r=[];return q1(s,n=>r.push(n)),new Uint8Array(r)}function K1(s){const r=[],n={queue:0,queuedBits:0},a=o=>{r.push(o)};return s.forEach(o=>Bp(o,n,a)),Bp(null,n,a),r.join("")}function V1(s){return Math.round(Date.now()/1e3)+s}function Q1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s=="x"?r:r&3|8).toString(16)})}const ir=()=>typeof window<"u"&&typeof document<"u",Fn={tested:!1,writable:!1},na=()=>{if(!ir())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fn.tested)return Fn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Fn.tested=!0,Fn.writable=!0}catch{Fn.tested=!0,Fn.writable=!1}return Fn.writable};function G1(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,u)=>{r[u]=o})}catch{}return n.searchParams.forEach((a,o)=>{r[o]=a}),r}const ay=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>ha(async()=>{const{default:a}=await Promise.resolve().then(()=>ga);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},J1=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",oy=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},Do=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Mo=async(s,r)=>{await s.removeItem(r)};class Yo{constructor(){this.promise=new Yo.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}Yo.promiseConstructor=Promise;function ou(s){const r=s.split(".");if(r.length!==3)throw new ra("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!A1.test(r[a]))throw new ra("JWT not in base64url format");return{header:JSON.parse(Wp(r[0])),payload:JSON.parse(Wp(r[1])),signature:W1(r[2]),raw:{header:r[0],payload:r[1]}}}async function Z1(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function X1(s,r){return new Promise((a,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await s(u);if(!r(u,null,h)){a(h);return}}catch(h){if(!r(u,h)){o(h);return}}})()})}function Y1(s){return("0"+s.toString(16)).substr(-2)}function e_(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let o="";for(let u=0;u<56;u++)o+=n.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(r),Array.from(r,Y1).join("")}async function t_(s){const n=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(a);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function r_(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await t_(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $s(s,r,n=!1){const a=e_();let o=a;n&&(o+="/PASSWORD_RECOVERY"),await oy(s,`${r}-code-verifier`,o);const u=await r_(a);return[u,a===u?"plain":"s256"]}const n_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function s_(s){const r=s.headers.get(Ou);if(!r||!r.match(n_))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function i_(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function a_(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const o_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Is(s){if(!o_.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var l_=function(s,r){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(n[a[o]]=s[a[o]]);return n};const Un=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),c_=[502,503,504];async function Hp(s){var r;if(!J1(s))throw new zu(Un(s),0);if(c_.includes(s.status))throw new zu(Un(s),s.status);let n;try{n=await s.json()}catch(u){throw new sy(Un(u),u)}let a;const o=s_(s);if(o&&o.getTime()>=ny["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Up(Un(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new un}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new Up(Un(n),s.status,n.weak_password.reasons);throw new $1(Un(n),s.status||500,a)}const u_=(s,r,n,a)=>{const o={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),n))};async function ve(s,r,n,a){var o;const u=Object.assign({},a==null?void 0:a.headers);u[Ou]||(u[Ou]=ny["2024-01-01"].name),a!=null&&a.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const h=(o=a==null?void 0:a.query)!==null&&o!==void 0?o:{};a!=null&&a.redirectTo&&(h.redirect_to=a.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await d_(s,r,n+m,{headers:u,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(p):{data:Object.assign({},p),error:null}}async function d_(s,r,n,a,o,u){const h=u_(r,a,o,u);let m;try{m=await s(n,Object.assign({},h))}catch(p){throw console.error(p),new zu(Un(p),0)}if(m.ok||await Hp(m),a!=null&&a.noResolveJson)return m;try{return await m.json()}catch(p){await Hp(p)}}function Tr(s){var r;let n=null;m_(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=V1(s.expires_in)));const a=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:a},error:null}}function Kp(s){const r=Tr(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(r.data.weak_password=s.weak_password),r}function hn(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function h_(s){return{data:s,error:null}}function f_(s){const{action_link:r,email_otp:n,hashed_token:a,redirect_to:o,verification_type:u}=s,h=l_(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:n,hashed_token:a,redirect_to:o,verification_type:u},p=Object.assign({},h);return{data:{properties:m,user:p},error:null}}function p_(s){return s}function m_(s){return s.access_token&&s.refresh_token&&s.expires_in}const lu=["global","local","others"];var y_=function(s,r){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(n[a[o]]=s[a[o]]);return n};class g_{constructor({url:r="",headers:n={},fetch:a}){this.url=r,this.headers=n,this.fetch=ay(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,n=lu[0]){if(lu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lu.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,n={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hn})}catch(a){if(pe(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:n}=r,a=y_(r,["options"]),o=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(o.new_email=a==null?void 0:a.newEmail,delete o.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:f_,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:hn})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,a,o,u,h,m,p;try{const y={nextPage:null,lastPage:0,total:0},_=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=r==null?void 0:r.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:p_});if(_.error)throw _.error;const b=await _.json(),w=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,k=(p=(m=_.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return k.length>0&&(k.forEach(S=>{const x=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);y[`${N}Page`]=x}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(pe(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){Is(r);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:hn})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){Is(r);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:hn})}catch(a){if(pe(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,n=!1){Is(r);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:hn})}catch(a){if(pe(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){Is(r.userId);try{const{data:n,error:a}=await ve(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:a}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(r){Is(r.userId),Is(r.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}}const v_={getItem:s=>na()?globalThis.localStorage.getItem(s):null,setItem:(s,r)=>{na()&&globalThis.localStorage.setItem(s,r)},removeItem:s=>{na()&&globalThis.localStorage.removeItem(s)}};function Vp(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}function w_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ds={debug:!!(globalThis&&na()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ly extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class __ extends ly{}async function x_(s,r,n){Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,o.name);try{return await n()}finally{Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,o.name)}}else{if(r===0)throw Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new __(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Ds.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}w_();const k_={url:O1,storageKey:z1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qp(s,r,n){return await n()}class aa{constructor(r){var n,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=aa.nextInstanceID,aa.nextInstanceID+=1,this.instanceID>0&&ir()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},k_),r);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new g_({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=ay(o.fetch),this.lock=o.lock||Qp,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ir()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=x_:this.lock=Qp,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:na()?this.storage=v_:(this.memoryStorage={},this.storage=Vp(this.memoryStorage)):(this.memoryStorage={},this.storage=Vp(this.memoryStorage)),ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ry}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=G1(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),ir()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:u}=await this._getSessionFromURL(n,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),M1(u)){const p=(r=u.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?{error:n}:{error:new sy("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,a,o;try{const u=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=r==null?void 0:r.options)===null||o===void 0?void 0:o.captchaToken}},xform:Tr}),{data:h,error:m}=u;if(m||!h)return{data:{user:null,session:null},error:m};const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(u){if(pe(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var n,a,o;try{let u;if("email"in r){const{email:_,password:b,options:w}=r;let k=null,S=null;this.flowType==="pkce"&&([k,S]=await $s(this.storage,this.storageKey)),u=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:_,password:b,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:k,code_challenge_method:S},xform:Tr})}else if("phone"in r){const{phone:_,password:b,options:w}=r;u=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:b,data:(a=w==null?void 0:w.data)!==null&&a!==void 0?a:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Tr})}else throw new $o("You must provide either an email or phone number and a password");const{data:h,error:m}=u;if(m||!h)return{data:{user:null,session:null},error:m};const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(u){if(pe(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:h,options:m}=r;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Kp})}else if("phone"in r){const{phone:u,password:h,options:m}=r;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Kp})}else throw new $o("You must provide either an email or phone number and a password");const{data:a,error:o}=n;return o?{data:{user:null,session:null},error:o}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Lo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,a,o,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=r.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;if(n==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(r){var n,a,o,u,h,m,p,y,_,b,w,k;let S,x;if("message"in r)S=r.message,x=r.signature;else{const{chain:N,wallet:z,statement:I,options:L}=r;let D;if(ir())if(typeof z=="object")D=z;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))D=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=z}const M=new URL((n=L==null?void 0:L.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const G=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L==null?void 0:L.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),I?{statement:I}:null));let re;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")re=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)re=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in re&&"signature"in re&&(typeof re.signedMessage=="string"||re.signedMessage instanceof Uint8Array)&&re.signature instanceof Uint8Array)S=typeof re.signedMessage=="string"?re.signedMessage:new TextDecoder().decode(re.signedMessage),x=re.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${M.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(o=(a=L==null?void 0:L.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=L==null?void 0:L.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((h=L==null?void 0:L.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((m=L==null?void 0:L.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((p=L==null?void 0:L.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((y=L==null?void 0:L.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((b=(_=L==null?void 0:L.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||b===void 0)&&b.length?["Resources",...L.signInWithSolana.resources.map(re=>`- ${re}`)]:[]].join(`
`);const G=await D.signMessage(new TextEncoder().encode(S),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=G}}try{const{data:N,error:z}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:K1(x)},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(k=r.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Tr});if(z)throw z;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Lo}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:z})}catch(N){if(pe(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(r){const n=await Do(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(n??"").split("/");try{const{data:u,error:h}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:Tr});if(await Mo(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Lo}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:h})}catch(u){if(pe(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:n,provider:a,token:o,access_token:u,nonce:h}=r,m=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tr}),{data:p,error:y}=m;return y?{data:{user:null,session:null},error:y}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Lo}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:y})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,a,o,u,h;try{if("email"in r){const{email:m,options:p}=r;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await $s(this.storage,this.storageKey));const{error:b}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:_},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in r){const{phone:m,options:p}=r,{data:y,error:_}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(h=p==null?void 0:p.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:_}}throw new $o("You must provide either an email or phone number.")}catch(m){if(pe(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(r){var n,a;try{let o,u;"options"in r&&(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:m}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Tr});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,y=h.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(o){if(pe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(r){var n,a,o;try{let u=null,h=null;return this.flowType==="pkce"&&([u,h]=await $s(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=r==null?void 0:r.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:h_})}catch(u){if(pe(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)throw a;if(!n)throw new un;const{error:o}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:a,type:o,options:u}=r,{error:h}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in r){const{phone:a,type:o,options:u}=r,{data:h,error:m}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new $o("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Do(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<iu:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.storage.isServer){let h=this.suppressGetSessionWarning;r=new Proxy(r,{get:(p,y,_)=>(!h&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,y,_))})}return{data:{session:r},error:null}}const{session:o,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:hn}):await this._useSession(async n=>{var a,o,u;const{data:h,error:m}=n;if(m)throw m;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new un}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:hn})})}catch(n){if(pe(n))return D1(n)&&(await this._removeSession(),await Mo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async a=>{const{data:o,error:u}=a;if(u)throw u;if(!o.session)throw new un;const h=o.session;let m=null,p=null;this.flowType==="pkce"&&r.email!=null&&([m,p]=await $s(this.storage,this.storageKey));const{data:y,error:_}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:hn});if(_)throw _;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(a){if(pe(a))return{data:{user:null},error:a};throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new un;const n=Date.now()/1e3;let a=n,o=!0,u=null;const{payload:h}=ou(r.access_token);if(h.exp&&(a=h.exp,o=a<=n),o){const{session:m,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:p}=await this._getUser(r.access_token);if(p)throw p;u={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(pe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var a;if(!r){const{data:h,error:m}=n;if(m)throw m;r=(a=h.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new un;const{session:o,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!ir())throw new Io("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Io(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Fp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Io("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Fp("No code detected.");const{data:I,error:L}=await this._exchangeCodeForSession(r.code);if(L)throw L;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:u,refresh_token:h,expires_in:m,expires_at:p,token_type:y}=r;if(!u||!m||!h||!y)throw new Io("No session defined in URL");const _=Math.round(Date.now()/1e3),b=parseInt(m);let w=_+b;p&&(w=parseInt(p));const k=w-_;k*1e3<=Ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${b}s`);const S=w-b;_-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,_):_-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,_);const{data:x,error:N}=await this._getUser(u);if(N)throw N;const z={provider_token:a,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:w,refresh_token:h,token_type:y,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:z,redirectType:r.type},error:null}}catch(a){if(pe(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Do(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:o,error:u}=n;if(u)return{error:u};const h=(a=o.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:m}=await this.admin.signOut(h,r);if(m&&!(I1(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return r!=="others"&&(await this._removeSession(),await Mo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=Q1(),a={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async n=>{var a,o;try{const{data:{session:u},error:h}=n;if(h)throw h;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await $s(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(pe(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async linkIdentity(r){var n;try{const{data:a,error:o}=await this._useSession(async u=>{var h,m,p,y,_;const{data:b,error:w}=u;if(w)throw w;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",k,{headers:this.headers,jwt:(_=(y=b.session)===null||y===void 0?void 0:y.access_token)!==null&&_!==void 0?_:void 0})});if(o)throw o;return ir()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:r.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(pe(a))return{data:{provider:r.provider,url:null},error:a};throw a}}async unlinkIdentity(r){try{return await this._useSession(async n=>{var a,o;const{data:u,error:h}=n;if(h)throw h;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await X1(async o=>(o>0&&await Z1(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Tr})),(o,u)=>{const h=200*Math.pow(2,o);return u&&au(u)&&Date.now()+h-a<Ms})}catch(a){if(this._debug(n,"error",a),pe(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",a),ir()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Do(this.storage,this.storageKey);if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const o=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<iu;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${iu}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),au(u)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(r){var n,a;if(!r)throw new un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Yo;const{data:u,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!u.session)throw new un;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={session:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(o,"error",u),pe(u)){const h={session:null,error:u};return au(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(r,n,a=!0){const o=`#_notifyAllSubscribers(${r})`;this._debug(o,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,n)}catch(p){u.push(p)}});if(await Promise.all(h),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await oy(this.storage,this.storageKey,r)}async _removeSession(){this._debug("#_removeSession()"),await Mo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&ir()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Ms);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-r)/Ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ms}ms, refresh threshold is ${Ru} ticks`),o<=Ru&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof ly)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ir()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,a){const o=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,h]=await $s(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(m.toString())}if(a!=null&&a.queryParams){const u=new URLSearchParams(a.queryParams);o.push(u.toString())}return a!=null&&a.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${o.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var a;const{data:o,error:u}=n;return u?{data:null,error:u}:await ve(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var a,o;const{data:u,error:h}=n;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:p,error:y}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token});return y?{data:null,error:y}:(r.factorType==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:u}=n;if(u)return{data:null,error:u};const{data:h,error:m}=await ve(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:u}=n;return u?{data:null,error:u}:await ve(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:a}=await this._challenge({factorId:r.factorId});return a?{data:null,error:a}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a=(r==null?void 0:r.factors)||[],o=a.filter(h=>h.factor_type==="totp"&&h.status==="verified"),u=a.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:a,totp:o,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var n,a;const{data:{session:o},error:u}=r;if(u)return{data:null,error:u};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=ou(o.access_token);let m=null;h.aal&&(m=h.aal);let p=m;((a=(n=o.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(p="aal2");const _=h.amr||[];return{data:{currentLevel:m,nextLevel:p,currentAuthenticationMethods:_},error:null}}))}async fetchJwk(r,n={keys:[]}){let a=n.keys.find(h=>h.kid===r);if(a||(a=this.jwks.keys.find(h=>h.kid===r),a&&this.jwks_cached_at+L1>Date.now()))return a;const{data:o,error:u}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;if(!o.keys||o.keys.length===0)throw new ra("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),a=o.keys.find(h=>h.kid===r),!a)throw new ra("No matching signing key found in JWKS");return a}async getClaims(r,n={keys:[]}){try{let a=r;if(!a){const{data:k,error:S}=await this.getSession();if(S||!k.session)return{data:null,error:S};a=k.session.access_token}const{header:o,payload:u,signature:h,raw:{header:m,payload:p}}=ou(a);if(i_(u.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:k}=await this.getUser(a);if(k)throw k;return{data:{claims:u,header:o,signature:h},error:null}}const y=a_(o.alg),_=await this.fetchJwk(o.kid,n),b=await crypto.subtle.importKey("jwk",_,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,h,H1(`${m}.${p}`)))throw new ra("Invalid JWT signature");return{data:{claims:u,header:o,signature:h},error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}}}aa.nextInstanceID=0;const b_=aa;class S_ extends b_{constructor(r){super(r)}}var N_=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(_){try{y(a.next(_))}catch(b){h(b)}}function p(_){try{y(a.throw(_))}catch(b){h(b)}}function y(_){_.done?u(_.value):o(_.value).then(m,p)}y((a=a.apply(s,r||[])).next())})};class C_{constructor(r,n,a){var o,u,h;if(this.supabaseUrl=r,this.supabaseKey=n,!r)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const m=j1(r),p=new URL(m);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const y=`sb-${p.hostname.split(".")[0]}-auth-token`,_={db:x1,realtime:b1,auth:Object.assign(Object.assign({},k1),{storageKey:y}),global:_1},b=R1(a??{},_);this.storageKey=(o=b.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=b.global.headers)!==null&&u!==void 0?u:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(w,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=E1(n,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new Ww(new URL("rest/v1",p).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),b.accessToken||this._listenForAuthEvents()}get functions(){return new zw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new g1(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},a={}){return this.rest.rpc(r,n,a)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,n;return N_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:o,storageKey:u,flowType:h,lock:m,debug:p},y,_){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new S_({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),y),storageKey:u,autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:o,flowType:h,lock:m,debug:p,fetch:_,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new n1(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,n,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const E_=(s,r,n)=>new C_(s,r,n),P_="https://shgkdhzdrsxdmbngamfh.supabase.co",j_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoZ2tkaHpkcnN4ZG1ibmdhbWZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkzMDUyNzAsImV4cCI6MjA2NDg4MTI3MH0.eYFLXBvK1DllEZ1SULn2vzfQyM0GO_vqe9_sbZP9JEw",ie=E_(P_,j_),cy=R.createContext(void 0);function R_({children:s}){const[r,n]=R.useState(null),[a,o]=R.useState(null),[u,h]=R.useState(!0);async function m(k){const{data:S,error:x}=await ie.from("users").select("id, email, role, first_name, last_name").eq("id",k).maybeSingle();if(x)throw x;if(S)n(S);else{const{data:{session:N}}=await ie.auth.getSession();if(N!=null&&N.user){const z=N.user;n({id:z.id,email:z.email??"",role:z.role??"user"})}}}const p=async k=>{if(k)if(await y(r==null?void 0:r.id,k.id))o(k);else throw new Error("Brak uprawnień do delegacji dla tego użytkownika");else o(null)};async function y(k,S){if(!k||!S)return!1;const{data:x,error:N}=await ie.from("user_delegations").select("*").eq("delegator_id",k).eq("target_user_id",S).eq("is_active",!0).maybeSingle();return N?(console.error("Error checking delegation permissions:",N),!1):!!x}R.useEffect(()=>{(async()=>{const{data:{session:S}}=await ie.auth.getSession();S!=null&&S.user&&await m(S.user.id),h(!1)})();const{data:k}=ie.auth.onAuthStateChange((S,x)=>{x!=null&&x.user?m(x.user.id):(n(null),o(null))});return()=>{k.subscription.unsubscribe()}},[]);async function _(k,S){var x;h(!0);try{const{data:N,error:z}=await ie.auth.signInWithPassword({email:k,password:S});if(z)throw console.log("Login error from Supabase:",z),z;(x=N.session)!=null&&x.user&&await m(N.session.user.id)}finally{h(!1)}}async function b(){const{error:k}=await ie.auth.signOut();if(k)throw k;n(null),o(null)}async function w(k,S){const{error:x}=await ie.auth.resend({type:"signup",email:k,options:{emailRedirectTo:(S==null?void 0:S.emailRedirectTo)||window.location.origin}});if(x)throw x}return c(cy.Provider,{value:{user:r,delegatedUser:a,loading:u,login:_,logout:b,resendConfirmationEmail:w,setDelegatedUser:p},children:s})}function ss(){const s=R.useContext(cy);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),z_=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,a)=>a?a.toUpperCase():n.toLowerCase()),Gp=s=>{const r=z_(s);return r.charAt(0).toUpperCase()+r.slice(1)},uy=(...s)=>s.filter((r,n,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===n).join(" ").trim(),T_=s=>{for(const r in s)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=R.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:h,...m},p)=>R.createElement("svg",{ref:p,...A_,width:r,height:r,stroke:s,strokeWidth:a?Number(n)*24/Number(r):n,className:uy("lucide",o),...!u&&!T_(m)&&{"aria-hidden":"true"},...m},[...h.map(([y,_])=>R.createElement(y,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(s,r)=>{const n=R.forwardRef(({className:a,...o},u)=>R.createElement(L_,{ref:u,iconNode:r,className:uy(`lucide-${O_(Gp(s))}`,`lucide-${s}`,a),...o}));return n.displayName=Gp(s),n};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],I_=he("arrow-right",$_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],M_=he("arrow-up-down",D_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],U_=he("award",F_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Jp=he("briefcase",q_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],W_=he("building",B_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],el=he("calendar",H_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],V_=he("chart-column",K_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zp=he("chevron-down",Q_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],J_=he("circle-alert",G_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ai=he("circle-check-big",Z_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Xp=he("circle-plus",X_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dy=he("circle-x",Y_);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],tx=he("clipboard-list",ex);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ut=he("clock",rx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],sx=he("database",nx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Qo=he("dollar-sign",ix);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ox=he("download",ax);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],cx=he("ellipsis",lx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Tu=he("eye-off",ux);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Au=he("eye",dx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],oa=he("file-check",hx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Tt=he("file-text",fx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Yp=he("folder-open",px);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],hy=he("house",mx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Go=he("lock",yx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Jo=he("mail",gx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Nn=he("map-pin",vx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],_x=he("menu",wx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],em=he("message-square",xx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ts=he("phone",kx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sn=he("plus",bx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nx=he("save",Sx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ex=he("search",Cx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jx=he("settings",Px);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Lu=he("shield",Rx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$u=he("square-pen",Ox);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],tm=he("store",zx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ax=he("trash-2",Tx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$x=he("trending-up",Lx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Dx=he("user-check",Ix);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Fx=he("user-plus",Mx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mt=he("user",Ux);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],td=he("users",qx);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rd=he("x",Bx),de=({children:s,className:r=""})=>c("div",{className:`bg-white rounded-lg border border-slate-200 shadow-sm ${r}`,children:s}),ae=({children:s,variant:r="outline",size:n="md",onClick:a,className:o="",icon:u,fullWidth:h=!1,disabled:m=!1})=>{const p="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none",y={primary:"bg-slate-900 text-white hover:bg-slate-800 focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-200 focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",outline:"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50 focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",ghost:"text-slate-700 hover:bg-slate-100 focus:ring-2 focus:ring-offset-2 focus:ring-slate-500"},_={primary:"bg-slate-400 text-slate-300 cursor-not-allowed",secondary:"bg-slate-50 text-slate-400 cursor-not-allowed",outline:"border border-slate-200 bg-slate-50 text-slate-400 cursor-not-allowed",ghost:"text-slate-400 cursor-not-allowed"},b={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},w=h?"w-full":"",k=u?"gap-2":"",S=m?_[r]:y[r];return g("button",{className:`${p} ${S} ${b[n]} ${w} ${k} ${o}`,onClick:m?void 0:a,disabled:m,children:[u,s]})},Ce=({type:s="info",title:r,message:n,onRetry:a,className:o=""})=>{const h={error:{container:"border-red-200 bg-red-50",icon:"bg-red-100 text-red-600",title:"text-red-800",message:"text-red-600"},success:{container:"border-green-200 bg-green-50",icon:"bg-green-100 text-green-600",title:"text-green-800",message:"text-green-600"},warning:{container:"border-yellow-200 bg-yellow-50",icon:"bg-yellow-100 text-yellow-600",title:"text-yellow-800",message:"text-yellow-600"},info:{container:"border-blue-200 bg-blue-50",icon:"bg-blue-100 text-blue-600",title:"text-blue-800",message:"text-blue-600"}}[s];return c(de,{className:`${h.container} ${o}`,children:g("div",{className:"p-4",children:[g("div",{className:"flex items-center gap-3",children:[c("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${h.icon}`,children:c(J_,{className:"w-4 h-4"})}),g("div",{className:"flex-1",children:[c("h3",{className:`font-semibold ${h.title}`,children:r}),c("p",{className:`text-sm mt-1 ${h.message}`,children:n})]})]}),a&&c("div",{className:"mt-4",children:c(ae,{variant:"outline",size:"sm",onClick:a,children:"Spróbuj ponownie"})})]})})},At=({size:s="md",className:r=""})=>c("div",{className:`border-2 border-slate-200 border-t-slate-900 rounded-full animate-spin ${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[s]} ${r}`}),Wx=({user:s,onGoToDashboard:r,onBackToLogin:n})=>{const a=o=>{switch(o){case"admin":return"Panel Administratora";case"contractor":return"Dashboard Wykonawcy";case"auditor":return"Panel Audytora";default:return"Strona Główna"}};return c("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:c("div",{className:"w-full max-w-md",children:g(de,{className:"shadow-xl p-8",children:[g("div",{className:"text-center mb-8",children:[c("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c(ai,{className:"w-8 h-8 text-green-600"})}),c("h1",{className:"text-2xl font-bold text-gray-900",children:"Zalogowano pomyślnie!"}),g("p",{className:"text-gray-600 mt-2",children:["Witaj, ",s.first_name||s.email]})]}),c("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:g("div",{className:"space-y-2",children:[g("div",{className:"flex justify-between",children:[c("span",{className:"text-sm text-gray-600",children:"Email:"}),c("span",{className:"text-sm font-medium text-gray-900",children:s.email})]}),g("div",{className:"flex justify-between",children:[c("span",{className:"text-sm text-gray-600",children:"Rola:"}),c("span",{className:"text-sm font-medium text-gray-900 capitalize",children:s.role})]})]})}),g(ae,{variant:"primary",size:"lg",fullWidth:!0,onClick:r,icon:c(I_,{className:"w-4 h-4"}),className:"mb-4",children:["Przejdź do ",a(s.role)]}),g("div",{className:"text-center space-y-2",children:[c("p",{className:"text-sm text-gray-600",children:"Lub przejdź do:"}),g("div",{className:"flex flex-col space-y-2",children:[s.role!=="admin"&&c(ya,{to:"/",className:"text-sm text-blue-600 hover:text-blue-500 transition-colors",children:"Strona główna"}),c("button",{onClick:n,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Wróć do formularza logowania"})]})]})]})})})},rm=()=>{const{getFormData:s}=Bm(),{login:r,user:n,loading:a,resendConfirmationEmail:o}=ss(),u=Zt(),[h,m]=R.useState(null),[p,y]=R.useState(!1),[_,b]=R.useState(""),[w,k]=R.useState(!1),[S,x]=R.useState(!1),[N,z]=R.useState(!1),[I,L]=R.useState(!1),[D,M]=R.useState(!1),G=we=>{switch(we){case"beneficiary":return"/beneficiary/my-requests";case"auditor":return"/auditor/marketplace";case"operator":return"/operator/dashboard";case"admin":return"/admin/users";default:return"/"}};R.useEffect(()=>{n&&!D&&M(!0)},[n,D]);const re=async we=>{we.preventDefault(),m(null),k(!1),z(!1),M(!1);const{email:V,password:be}=s(we.currentTarget),Ye=Array.isArray(V)?V[0]:V,qt=Array.isArray(be)?be[0]:be;b(Ye);try{y(!0),await r(Ye,qt)}catch(et){console.error("Login error:",et);const Te=et.message||"Coś poszło nie tak przy logowaniu";m(Te),(et.status===400||/not confirmed/i.test(Te)||/potwierdzony/i.test(Te))&&k(!0)}finally{y(!1)}},fe=async()=>{x(!0),z(!1);try{await o(_),z(!0)}catch(we){console.error("Resend error:",we),m("Nie udało się wysłać maila ponownie")}finally{x(!1)}},W=()=>{n&&u(G(n.role))},te=()=>{M(!1)};return n&&D?c(Wx,{user:n,onGoToDashboard:W,onBackToLogin:te}):c("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:c("div",{className:"w-full max-w-md",children:g(de,{className:"shadow-xl p-8",children:[g("div",{className:"text-center mb-8",children:[c("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c(Go,{className:"w-8 h-8 text-blue-600"})}),c("h1",{className:"text-2xl font-bold text-gray-900",children:"Witaj ponownie"}),c("p",{className:"text-gray-600 mt-2",children:"Zaloguj się do swojego konta"})]}),h&&g("div",{className:"mb-6",children:[c(Ce,{type:"error",title:"Błąd logowania",message:h}),w&&g("div",{className:"mt-4 space-y-3",children:[N&&c(de,{className:"border-green-200 bg-green-50 p-3",children:g("div",{className:"flex items-center",children:[c(ai,{className:"w-4 h-4 text-green-500 mr-2"}),c("span",{className:"text-green-800 text-sm",children:"Mail potwierdzający został wysłany ponownie."})]})}),c(ae,{variant:"outline",size:"md",onClick:fe,disabled:S,fullWidth:!0,icon:S?c(At,{size:"sm"}):void 0,children:S?"Wysyłanie...":"Wyślij ponownie e-mail potwierdzający"})]})]}),g("form",{onSubmit:re,className:"space-y-6",children:[g("div",{children:[c("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres e-mail"}),g("div",{className:"relative",children:[c("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c(Jo,{className:"h-5 w-5 text-gray-400"})}),c("input",{id:"email",name:"email",type:"email",required:!0,placeholder:"twoj@email.pl",disabled:a||p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-500"})]})]}),g("div",{children:[c("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Hasło"}),g("div",{className:"relative",children:[c("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c(Go,{className:"h-5 w-5 text-gray-400"})}),c("input",{id:"password",name:"password",type:I?"text":"password",required:!0,placeholder:"••••••••",disabled:a||p,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-500"}),c("button",{type:"button",onClick:()=>L(!I),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:I?c(Tu,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):c(Au,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),c(ae,{variant:"primary",size:"lg",disabled:a||p,fullWidth:!0,onClick:()=>{},icon:p?c(At,{size:"sm"}):void 0,children:p?"Logowanie...":"Zaloguj się"})]}),c("div",{className:"mt-8 text-center",children:g("p",{className:"text-gray-600 text-sm",children:["Nie masz konta?"," ",c(ya,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Zarejestruj się"})]})})]})})})},Hx=()=>{const{getFormData:s}=Bm(),r=Zt(),[n,a]=R.useState(null),[o,u]=R.useState(null),[h,m]=R.useState(!1),[p,y]=R.useState(!1),[_,b]=R.useState(!1),w=async k=>{k.preventDefault(),a(null),u(null);const{email:S,password:x,confirmPassword:N,role:z}=s(k.currentTarget),I=Array.isArray(S)?S[0]:S,L=Array.isArray(x)?x[0]:x,D=Array.isArray(N)?N[0]:N,M=Array.isArray(z)?z[0]:z;if(L!==D){a("Hasła muszą być takie same");return}if(L.length<6){a("Hasło musi mieć co najmniej 6 znaków");return}try{m(!0);const{data:G,error:re}=await ie.auth.signUp({email:I,password:L,options:{data:{role:M||"beneficiary"}}});if(re)throw re;u("Konto utworzone pomyślnie! Sprawdź swoją skrzynkę e-mail, aby potwierdzić rejestrację.")}catch(G){console.error("Registration error:",G),a(G.message||"Wystąpił błąd podczas rejestracji")}finally{m(!1)}};return o?c("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center p-4",children:c("div",{className:"w-full max-w-md",children:g(de,{className:"shadow-xl p-8 text-center",children:[c("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c(ai,{className:"w-8 h-8 text-green-600"})}),c("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Rejestracja zakończona!"}),c(Ce,{type:"success",title:"Sukces",message:o,className:"mb-6"}),c(ae,{variant:"primary",size:"lg",onClick:()=>r("/login"),fullWidth:!0,children:"Przejdź do logowania"})]})})}):c("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:c("div",{className:"w-full max-w-md",children:g(de,{className:"shadow-xl p-8",children:[g("div",{className:"text-center mb-8",children:[c("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c(Fx,{className:"w-8 h-8 text-blue-600"})}),c("h1",{className:"text-2xl font-bold text-gray-900",children:"Utwórz konto"}),c("p",{className:"text-gray-600 mt-2",children:"Zarejestruj się, aby rozpocząć"})]}),n&&c("div",{className:"mb-6",children:c(Ce,{type:"error",title:"Błąd rejestracji",message:n})}),g("form",{onSubmit:w,className:"space-y-6",children:[g("div",{children:[c("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres e-mail *"}),g("div",{className:"relative",children:[c("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c(Jo,{className:"h-5 w-5 text-gray-400"})}),c("input",{id:"email",name:"email",type:"email",required:!0,placeholder:"twoj@email.pl",disabled:h,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-500"})]})]}),g("div",{children:[c("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Typ konta *"}),g("div",{className:"relative",children:[c("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c(td,{className:"h-5 w-5 text-gray-400"})}),g("select",{id:"role",name:"role",required:!0,disabled:h,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-500 appearance-none bg-white",children:[c("option",{value:"",children:"Wybierz typ konta"}),c("option",{value:"beneficiary",children:"Beneficjent"}),c("option",{value:"auditor",children:"Audytor"})]}),c("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:c("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:c("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c("p",{className:"mt-1 text-xs text-gray-500",children:"Beneficjent - osoba korzystająca z usług, Audytor - osoba przeprowadzająca audyty"})]}),g("div",{children:[c("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Hasło *"}),g("div",{className:"relative",children:[c("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c(Go,{className:"h-5 w-5 text-gray-400"})}),c("input",{id:"password",name:"password",type:p?"text":"password",required:!0,placeholder:"••••••••",disabled:h,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-500"}),c("button",{type:"button",onClick:()=>y(!p),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:p?c(Tu,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):c(Au,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),c("p",{className:"mt-1 text-xs text-gray-500",children:"Minimum 6 znaków"})]}),g("div",{children:[c("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Powtórz hasło *"}),g("div",{className:"relative",children:[c("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c(Go,{className:"h-5 w-5 text-gray-400"})}),c("input",{id:"confirmPassword",name:"confirmPassword",type:_?"text":"password",required:!0,placeholder:"••••••••",disabled:h,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors disabled:bg-gray-50 disabled:text-gray-500"}),c("button",{type:"button",onClick:()=>b(!_),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:_?c(Tu,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):c(Au,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),c(ae,{variant:"primary",size:"lg",disabled:h,fullWidth:!0,onClick:()=>{},icon:h?c(At,{size:"sm"}):void 0,children:h?"Tworzenie konta...":"Utwórz konto"})]}),c("div",{className:"mt-8 text-center",children:g("p",{className:"text-gray-600 text-sm",children:["Masz już konto?"," ",c(ya,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Zaloguj się"})]})})]})})})},Kx=()=>g(Jt,{children:[c(ze,{path:"/login",element:c(rm,{})}),c(ze,{path:"/register",element:c(Hx,{})}),c(ze,{path:"/",element:c(rm,{})})]}),Vx=()=>{const{data:s,isLoading:r,error:n}=Ve({queryKey:["moderation_logs"],queryFn:async()=>{const{data:a,error:o}=await ie.from("moderation_logs").select("*, users!operator_id(name, email)");if(o)throw new Error(o.message);return a}});return console.log("System logs:",s),r?c("div",{className:"container mx-auto p-6",children:g("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[c("span",{className:"loading loading-spinner loading-lg text-primary"}),c("p",{className:"mt-4 text-lg",children:"Ładowanie logów systemowych..."})]})}):n?c("div",{className:"container mx-auto p-6",children:g("div",{className:"alert alert-error",children:[c("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:c("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),g("div",{children:[c("h3",{className:"font-bold",children:"Błąd ładowania logów!"}),c("div",{className:"text-xs",children:n.message})]})]})}):g("div",{className:"container mx-auto p-6",children:[g("div",{className:"mb-8",children:[c("h1",{className:"text-4xl font-bold text-base-content",children:"Logi Systemowe"}),c("p",{className:"text-base-content/70 mt-2",children:"Historia działań w systemie"})]}),c("div",{className:"stats shadow mb-6",children:g("div",{className:"stat",children:[c("div",{className:"stat-title",children:"Łączna liczba logów"}),c("div",{className:"stat-value text-primary",children:(s==null?void 0:s.length)||0})]})}),c("div",{className:"space-y-4",children:s&&s.length>0?s.map(a=>{var o;return c("div",{className:"card bg-base-100 shadow-md border border-base-300",children:c("div",{className:"card-body",children:g("div",{className:"flex justify-between items-start",children:[g("div",{className:"flex-1",children:[g("h3",{className:"card-title text-lg",children:[a.action,c("div",{className:"badge badge-primary badge-sm ml-2",children:a.severity||"INFO"})]}),c("p",{className:"text-base-content/70 mt-2",children:a.description}),a.users&&g("div",{className:"flex items-center gap-2 mt-3",children:[c("div",{className:"avatar placeholder",children:c("div",{className:"bg-neutral text-neutral-content rounded-full w-8",children:c("span",{className:"text-xs",children:(o=a.users.name)==null?void 0:o.charAt(0)})})}),g("div",{children:[c("p",{className:"font-medium text-sm",children:a.users.name}),c("p",{className:"text-xs text-base-content/50",children:a.users.email})]})]}),a.metadata&&c("div",{className:"mt-3",children:g("details",{className:"collapse collapse-arrow bg-base-200",children:[c("summary",{className:"collapse-title text-sm font-medium",children:"Szczegóły techniczne"}),c("div",{className:"collapse-content",children:c("pre",{className:"text-xs bg-base-300 p-2 rounded mt-2 overflow-x-auto",children:JSON.stringify(a.metadata,null,2)})})]})})]}),g("div",{className:"text-right",children:[c("div",{className:"text-sm font-medium text-base-content",children:new Date(a.created_at).toLocaleDateString("pl-PL")}),c("div",{className:"text-xs text-base-content/50",children:new Date(a.created_at).toLocaleTimeString("pl-PL")})]})]})})},a.id)}):c("div",{className:"hero min-h-[200px]",children:c("div",{className:"hero-content text-center",children:g("div",{children:[c("div",{className:"text-6xl mb-4",children:"📋"}),c("h3",{className:"text-xl font-bold",children:"Brak logów"}),c("p",{className:"text-base-content/70",children:"Nie znaleziono żadnych logów systemowych do wyświetlenia"})]})})})}),s&&s.length>10&&c("div",{className:"flex justify-center mt-8",children:g("div",{className:"join",children:[c("button",{className:"join-item btn",children:"«"}),c("button",{className:"join-item btn",children:"Strona 1"}),c("button",{className:"join-item btn",children:"»"})]})})]})},Qx=()=>c("div",{className:"hero",children:c("h1",{className:"text-5xl",children:"Ustawienia Systemu"})}),Gx=()=>{const[s,r]=R.useState(0),[n,a]=R.useState(""),[o,u]=R.useState(""),h=10,{data:m,isLoading:p,error:y,refetch:_}=Ve({queryKey:["users",s,n,o],queryFn:async()=>{let S=ie.from("users").select(`
          *,
          user_points(balance)
        `,{count:"exact"});n&&(S=S.eq("role",n)),o&&(S=S.or(`name.ilike.%${o}%,email.ilike.%${o}%`));const x=s*h,N=x+h-1;S=S.range(x,N);const{data:z,error:I,count:L}=await S;if(I)throw new Error(I.message);return{users:z,totalCount:L}},staleTime:5*60*1e3,refetchOnWindowFocus:!1}),b=(m==null?void 0:m.users)||[],w=(m==null?void 0:m.totalCount)||0,k=Math.ceil(w/h);return p?g("div",{className:"hero",children:[c("h1",{className:"text-5xl",children:"Zarządzanie Użytkownikami"}),c("div",{className:"loading",children:"Ładowanie użytkowników..."})]}):y?g("div",{className:"hero",children:[c("h1",{className:"text-5xl",children:"Zarządzanie Użytkownikami"}),g("div",{className:"error",children:["Błąd podczas ładowania: ",y.message,c("button",{onClick:()=>_(),className:"btn-retry",children:"Spróbuj ponownie"})]})]}):g("div",{className:"hero",children:[c("h1",{className:"text-5xl",children:"Zarządzanie Użytkownikami"}),g("div",{className:"controls",children:[c("input",{type:"text",placeholder:"Szukaj po nazwie lub emailu...",value:o,onChange:S=>{u(S.target.value),r(0)},className:"search-input"}),g("select",{value:n,onChange:S=>{a(S.target.value),r(0)},className:"role-filter",children:[c("option",{value:"",children:"Wszystkie role"}),c("option",{value:"admin",children:"Admin"}),c("option",{value:"user",children:"Użytkownik"}),c("option",{value:"moderator",children:"Moderator"})]})]}),c("div",{className:"users-stats",children:g("p",{children:["Wyświetlono ",b.length," z ",w," użytkowników"]})}),c("div",{className:"users-table",children:g("table",{children:[c("thead",{children:g("tr",{children:[c("th",{children:"Nazwa"}),c("th",{children:"Email"}),c("th",{children:"Rola"}),c("th",{children:"Telefon"}),c("th",{children:"Miasto"}),c("th",{children:"Punkty"}),c("th",{children:"Data utworzenia"})]})}),c("tbody",{children:b.map(S=>{var x,N;return g("tr",{children:[c("td",{children:S.name}),c("td",{children:S.email}),c("td",{children:S.role}),c("td",{children:S.phone_number}),c("td",{children:S.city}),c("td",{children:((N=(x=S.user_points)==null?void 0:x[0])==null?void 0:N.balance)||0}),c("td",{children:new Date(S.created_at).toLocaleDateString("pl-PL")})]},S.id)})})]})}),g("div",{className:"pagination",children:[c("button",{onClick:()=>r(S=>Math.max(0,S-1)),disabled:s===0,className:"pagination-btn",children:"Poprzednia"}),g("span",{className:"page-info",children:["Strona ",s+1," z ",k]}),c("button",{onClick:()=>r(S=>Math.min(k-1,S+1)),disabled:s>=k-1,className:"pagination-btn",children:"Następna"})]})]})},Ir=({children:s})=>c(Jt,{children:s}),Jx=()=>g(Jt,{children:[c(ze,{path:"/admin/users",element:c(Ir,{children:c(Gx,{})})}),c(ze,{path:"/admin/settings",element:c(Ir,{children:c(Qx,{})})}),c(ze,{path:"/admin/logs",element:c(Ir,{children:c(Vx,{})})})]}),Zx=()=>c("div",{className:"hero",children:c("h1",{className:"text-5xl",children:"404"})}),Xx=()=>{const{data:s=[],error:r,isLoading:n}=Ve({queryKey:["points_transactions"],queryFn:async()=>{const{data:a,error:o}=await ie.from("points_transactions").select("*");if(o)throw new Error(o.message);return a},staleTime:6e4,retry:!1});return n?c("div",{className:"flex items-center justify-center h-64",children:c("span",{className:"loading loading-spinner text-primary"})}):r?c("div",{className:"alert alert-error shadow-lg",children:c("div",{children:g("span",{children:["Błąd: ",r.message]})})}):g("div",{className:"p-6",children:[c("h1",{className:"text-5xl mb-6",children:"Historia Punktów"}),c("div",{className:"overflow-x-auto",children:g("table",{className:"table w-full",children:[c("thead",{children:g("tr",{children:[c("th",{children:"ID"}),c("th",{children:"User ID"}),c("th",{children:"Balance"}),c("th",{children:"Data Aktualizacji"})]})}),c("tbody",{children:s.map(a=>g("tr",{children:[c("td",{children:a.id}),c("td",{children:a.user_id}),c("td",{children:a.balance}),c("td",{children:new Date(a.updated_at).toLocaleString("pl-PL",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]},a.id))})]})})]})},Yx=()=>c("div",{className:"hero",children:c("h1",{className:"text-5xl",children:"Profil Użytkownika"})}),ek=()=>g(Jt,{children:[c(ze,{path:"/profile",element:c(Ir,{children:c(Yx,{})})}),c(ze,{path:"/points",element:c(Ir,{children:c(Xx,{})})}),c(ze,{path:"*",element:c(Zx,{})})]});function tk(){const[s,r]=R.useState(()=>localStorage.getItem("theme")||"newyork");return R.useEffect(()=>{document.documentElement.dataset.theme=s,localStorage.setItem("theme",s),console.log("[useTheme] Zastosowano motyw:",s),console.log("[useTheme] <html data-theme=>",document.documentElement.getAttribute("data-theme"));const a=getComputedStyle(document.documentElement);console.log("[useTheme] --p (primary):",a.getPropertyValue("--p")),console.log("[useTheme] --b1 (base-100):",a.getPropertyValue("--b1"))},[s]),{theme:s,toggle:()=>{const a=s==="newyork"?"light":"newyork";console.log("[useTheme] Zmieniam motyw na:",a),r(a)}}}function rk(){const{theme:s,toggle:r}=tk();return g("button",{className:"btn",onClick:r,children:["Motyw: ",s==="newyork"?"🌆 NewYork":"☀️ Light"]})}const Bn=({label:s,error:r,required:n,help:a,className:o="",children:u})=>g("div",{className:`space-y-1 ${o}`,children:[s&&g("label",{className:"block text-sm font-medium text-slate-700",children:[s,n&&c("span",{className:"text-red-500 ml-1",children:"*"})]}),u,r&&c("div",{className:"text-sm text-red-600",children:r}),a&&!r&&c("div",{className:"text-sm text-slate-500",children:a})]}),Iu=({icon:s,wrapperClassName:r="",className:n="",...a})=>{const o="w-full px-3 py-2 border border-slate-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent",u=s?"pl-10":"";return s?g("div",{className:`relative ${r}`,children:[c("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 pointer-events-none",children:s}),c("input",{className:`${o} ${u} ${n}`,...a})]}):c("input",{className:`${o} ${n}`,...a})},Du=({showCount:s=!1,className:r="",maxLength:n,value:a,...o})=>{const u="w-full px-3 py-2 border border-slate-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent resize-vertical",h=typeof a=="string"?a.length:0;return g("div",{className:"space-y-1",children:[c("textarea",{className:`${u} ${r}`,value:a,maxLength:n,...o}),s&&n&&g("div",{className:"text-xs text-slate-500 text-right",children:[h,"/",n," znaków"]})]})},oi=({value:s,onChange:r,placeholder:n="Szukaj...",clearable:a=!0,name:o,className:u=""})=>g("div",{className:`relative ${u}`,children:[c(Ex,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"}),c("input",{type:"text",name:o,value:s,onChange:h=>r==null?void 0:r(h.target.value),placeholder:n,className:"pl-10 pr-10 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent w-full"}),a&&s&&c("button",{type:"button",onClick:()=>r==null?void 0:r(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400 hover:text-slate-600",children:c(rd,{className:"w-4 h-4"})})]}),_r=({options:s,value:r,onChange:n,placeholder:a="Wybierz...",multiple:o=!1,name:u,className:h=""})=>{const m=p=>{if(o){const y=Array.from(p.target.selectedOptions).map(_=>_.value);n==null||n(y)}else n==null||n(p.target.value)};return o?g("div",{className:`relative ${h}`,children:[c("select",{name:u,multiple:!0,value:Array.isArray(r)?r:[],onChange:m,className:"w-full px-3 py-2 border border-slate-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent min-h-[2.5rem] max-h-32",size:Math.min(s.length,6),children:s.map(p=>c("option",{value:p.value,children:p.label},p.value))}),c("div",{className:"absolute top-2 right-2 pointer-events-none",children:c(Zp,{className:"w-4 h-4 text-slate-400"})}),Array.isArray(r)&&r.length>0&&g("div",{className:"mt-1 text-xs text-slate-600",children:["Wybrano: ",r.length," ",r.length===1?"element":"elementów"]})]}):g("div",{className:`relative ${h}`,children:[g("select",{name:u,value:typeof r=="string"?r:"",onChange:m,className:"w-full px-3 py-2 border border-slate-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent appearance-none pr-10",children:[c("option",{value:"",children:a}),s.map(p=>c("option",{value:p.value,children:p.label},p.value))]}),c("div",{className:"absolute top-1/2 right-3 transform -translate-y-1/2 pointer-events-none",children:c(Zp,{className:"w-4 h-4 text-slate-400"})})]})},Xn={async getServiceRequests(){const{data:s,error:r}=await ie.from("service_requests").select(`
        *,
        users(id, email, first_name, last_name)
      `).order("created_at",{ascending:!1});if(r)throw r;return s||[]},async getServiceRequestById(s){const{data:r,error:n}=await ie.from("service_requests").select(`
        *,
        users(id, email, first_name, last_name)
      `).eq("id",s).single();if(n)throw n;return r},async createServiceRequest(s){const{data:r,error:n}=await ie.from("service_requests").insert([s]).select(`
        *,
        users(id, email, first_name, last_name)
      `).single();if(n)throw n;return r},async updateServiceRequest(s,r){const{data:n,error:a}=await ie.from("service_requests").update(r).eq("id",s).select(`
        *,
        users(id, email, first_name, last_name)
      `).single();if(a)throw a;return n},async deleteServiceRequest(s){const{error:r}=await ie.from("service_requests").delete().eq("id",s);if(r)throw r},async getContractorOffers(s){const{data:r,error:n}=await ie.from("contractor_offers").select("*").eq("contractor_id",s).order("created_at",{ascending:!1});if(n)throw n;return r||[]},async createOffer(s){const{data:r,error:n}=await ie.from("contractor_offers").insert([s]).single();if(n)throw n;return r},async getPortfolio(s){const{data:r,error:n}=await ie.from("contractor_portfolios").select(`
        *,
        contractor_gallery(id, image_url, description)
      `).eq("contractor_id",s).single();if(n)throw n;return r},async createPortfolio(s){const{data:r,error:n}=await ie.from("contractor_portfolios").insert([s]).select(`
        *,
        contractor_gallery(id, image_url, description)
      `).single();if(n)throw n;return r},async updatePortfolio(s,r){const{data:n,error:a}=await ie.from("contractor_portfolios").update(r).eq("id",s).select(`
        *,
        contractor_gallery(id, image_url, description)
      `).single();if(a)throw a;return n}},xt=({label:s,value:r,className:n=""})=>g("div",{className:`space-y-2 ${n}`,children:[c("label",{className:"text-sm font-medium text-slate-700",children:s}),c("div",{className:"text-slate-900 font-mono text-sm bg-slate-50 px-3 py-2 rounded border",children:r})]}),Re=({icon:s,title:r,value:n,subtitle:a,color:o="blue"})=>{const u={blue:["bg-blue-100","text-blue-600"],green:["bg-green-100","text-green-600"],purple:["bg-purple-100","text-purple-600"],red:["bg-red-100","text-red-600"],yellow:["bg-yellow-100","text-yellow-600"]},[h,m]=u[o]||u.blue;return c(de,{children:g("div",{className:"p-6",children:[g("div",{className:"flex items-center gap-3 mb-6",children:[c("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${h} ${m}`,children:s}),c("h2",{className:"text-lg font-semibold text-slate-900",children:r})]}),g("div",{className:"text-center space-y-2",children:[c("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${h} bg-opacity-20`,children:c("span",{className:`text-2xl font-bold ${m}`,children:n})}),a&&c("p",{className:"text-sm text-slate-600",children:a})]})]})})},nk=({children:s,variant:r="primary",className:n=""})=>{const a={primary:"bg-slate-100 text-slate-800",secondary:"bg-slate-200 text-slate-900",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"},o="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",u=a[r];return c("span",{className:`${o} ${u} ${n}`,children:s})},mt=({children:s})=>c("div",{className:"md:w-max max-w-6xl  mx-auto px-6",children:s}),qr=({title:s,subtitle:r,center:n=!1})=>g("div",{className:n?"text-center":"",children:[c("h1",{className:"text-3xl font-bold text-slate-900",children:s}),r&&c("p",{className:"text-slate-600 mt-1",children:r})]}),sk=({children:s,colsMobile:r=1,colsDesktop:n=3,gap:a="gap-6"})=>c("div",{className:`grid ${a} grid-cols-${r} md:grid-cols-${n}`,children:s}),ik=({children:s})=>c(sk,{colsMobile:1,colsDesktop:2,gap:"gap-6",children:s}),Ge=({children:s,bg:r=""})=>c("section",{className:`py-6 ${r}`,children:s}),ak=({error:s=!1,title:r="Wystąpił błąd",message:n="Spróbuj ponownie.",onRetry:a,children:o=null})=>s?c(Ce,{type:"error",title:r,message:n,onRetry:a}):c(Jt,{children:o}),fy=({icon:s,title:r,message:n,actionLabel:a,onAction:o})=>c(de,{children:g("div",{className:"p-12 text-center",children:[c("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s}),c("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:r}),c("p",{className:"text-slate-600 mb-4",children:n}),a&&o&&c(ae,{variant:"primary",onClick:o,children:a})]})}),li=({loading:s=!0,size:r="md",children:n=null})=>s?c("div",{className:"flex items-center justify-center min-h-[20rem]",children:c(At,{size:r})}):c(Jt,{children:n}),ok=({items:s,colsMobile:r=1,colsDesktop:n=3})=>c("div",{className:`grid gap-6 grid-cols-${r} md:grid-cols-${n}`,children:s.map((a,o)=>c(Re,{...a},o))}),lk=({children:s})=>c("div",{className:"bg-white p-6 rounded-lg border border-slate-200 mb-6",children:c("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s})}),ck=s=>{if(!s)return"Anonimowy";const{first_name:r,last_name:n,email:a}=s;return r&&n?`${r} ${n}`:r||n||a.split("@")[0]},uk=({request:s,onOffer:r,onDetails:n})=>c(de,{children:g("div",{className:"p-6 flex flex-col h-full",children:[c("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:s.title||"Zlecenie bez tytułu"}),c("p",{className:"text-slate-600 text-sm mb-4 line-clamp-2",children:s.description||"Brak opisu"}),c("div",{className:"flex-1"}),g("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4",children:[g("div",{className:"flex items-center gap-1",children:[c(Nn,{className:"w-4 h-4"}),c("span",{children:s.city||"Nie podano"})]}),g("div",{className:"flex items-center gap-1",children:[c(Mt,{className:"w-4 h-4"}),c("span",{children:ck(s.users)})]}),g("div",{className:"flex items-center gap-1",children:[c(Ut,{className:"w-4 h-4"}),c("span",{children:new Date(s.created_at).toLocaleDateString("pl")})]})]}),g("div",{className:"flex gap-2 mt-auto",children:[c(ae,{variant:"primary",className:"flex-1",onClick:()=>r(s.id),children:"Złóż ofertę"}),c(ae,{variant:"outline",onClick:()=>n(s.id),children:"Szczegóły"})]})]})}),dk=()=>{const s=Zt(),[r,n]=R.useState(""),[a,o]=R.useState(""),[u,h]=R.useState(""),{data:m=[],isLoading:p,error:y,refetch:_}=Ve({queryKey:["service-requests"],queryFn:Xn.getServiceRequests}),b=m.filter(x=>{var I,L,D,M;const N=!r||((I=x.title)==null?void 0:I.toLowerCase().includes(r.toLowerCase()))||((L=x.description)==null?void 0:L.toLowerCase().includes(r.toLowerCase())),z=!a||((D=x.city)==null?void 0:D.toLowerCase().includes(a.toLowerCase()))||((M=x.postal_code)==null?void 0:M.includes(a));return N&&z}),w=Array.from(new Set(m.map(x=>x.city).filter(Boolean))).map(x=>({value:x,label:x})),k=new Date().toDateString(),S=m.filter(x=>new Date(x.created_at).toDateString()===k).length;return p?c(li,{size:"lg"}):y?c(ak,{title:"Błąd ładowania",message:"Nie udało się załadować zleceń z marketplace",onRetry:()=>_()}):g(mt,{children:[c(qr,{title:"Giełda Wykonawców",subtitle:"Znajdź zlecenia dopasowane do Twoich umiejętności"}),c(Ge,{children:c(ok,{items:[{icon:c(Sn,{}),title:"Dostępne zlecenia",value:b.length,subtitle:"aktywnych ofert",color:"blue"},{icon:c(Nn,{}),title:"Lokalizacje",value:w.length,subtitle:"różnych miast",color:"green"},{icon:c(Ut,{}),title:"Nowe dzisiaj",value:S,subtitle:"dodanych dziś",color:"purple"}],colsMobile:1,colsDesktop:3})}),c(Ge,{children:g(lk,{children:[c(oi,{value:r,onChange:n,placeholder:"Szukaj zleceń..."}),c(_r,{options:w,value:a,onChange:x=>o(x),placeholder:"Wybierz miasto"}),c(_r,{options:[{value:"new",label:"Nowe"},{value:"urgent",label:"Pilne"},{value:"featured",label:"Wyróżnione"}],value:u,onChange:x=>h(x),placeholder:"Status zlecenia"})]})}),c(Ge,{children:b.length>0?c(ik,{children:b.map(x=>c(uk,{request:x,onOffer:N=>s(`/contractor/offersform?requestId=${N}`),onDetails:N=>s(`/contractor/marketplace/${N}`)},x.id))}):c(fy,{icon:c(Sn,{}),title:"Brak zleceń",message:"Nie znaleziono zleceń spełniających wybrane kryteria."})})]})},hk=()=>{const s=Zt(),r=xr(),[n,a]=R.useState({request_id:"",price:"",scope:""}),[o,u]=R.useState({}),h="current-contractor-id",{data:m=[],isLoading:p,error:y}=Ve({queryKey:["service-requests"],queryFn:Xn.getServiceRequests}),{mutate:_,isPending:b,error:w}=Ft({mutationFn:x=>Xn.createOffer(x),onSuccess:()=>{r.invalidateQueries({queryKey:["contractor-offers"]}),s("/contractor/offers")}}),k=()=>{const x={};n.request_id||(x.request_id="Wybierz zlecenie");const N=parseFloat(n.price);return(!n.price.trim()||isNaN(N)||N<=0)&&(x.price="Podaj poprawną cenę"),n.scope.trim()||(x.scope="Opisz zakres prac"),u(x),Object.keys(x).length===0};return g(mt,{children:[c(qr,{title:"Nowa Oferta",subtitle:"Złóż ofertę na wybrane zlecenie"}),g(Ge,{children:[w&&c(Ce,{type:"error",title:"Błąd",message:"Nie udało się złożyć oferty."}),p?c(li,{size:"lg"}):c(de,{children:g("form",{onSubmit:x=>{x.preventDefault(),k()&&_({...n,price:parseFloat(n.price),contractor_id:h})},className:"p-6 space-y-6",children:[g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:"Zlecenie"}),g("select",{value:n.request_id,onChange:x=>{a(N=>({...N,request_id:x.target.value})),u(N=>({...N,request_id:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${o.request_id?"border-red-500":"border-slate-300"}`,children:[c("option",{value:"",children:"Wybierz zlecenie..."}),m.map(x=>c("option",{value:x.id,children:x.title||x.id},x.id))]}),o.request_id&&c("p",{className:"text-red-500 text-sm mt-1",children:o.request_id})]}),g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[c(Qo,{className:"w-4 h-4"})," Cena (PLN)"]})}),c("input",{type:"number",min:"0",step:"0.01",value:n.price,onChange:x=>{a(N=>({...N,price:x.target.value})),u(N=>({...N,price:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${o.price?"border-red-500":"border-slate-300"}`,placeholder:"Wprowadź cenę..."}),o.price&&c("p",{className:"text-red-500 text-sm mt-1",children:o.price})]}),g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[c(Tt,{className:"w-4 h-4"})," Zakres prac"]})}),c("textarea",{rows:6,value:n.scope,onChange:x=>{a(N=>({...N,scope:x.target.value})),u(N=>({...N,scope:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 resize-none ${o.scope?"border-red-500":"border-slate-300"}`,placeholder:"Opisz zakres prac..."}),o.scope&&c("p",{className:"text-red-500 text-sm mt-1",children:o.scope})]}),g("div",{className:"flex gap-3 pt-4",children:[c(ae,{variant:"primary",disabled:b,className:"flex-1",children:b?"Wysyłanie…":"Złóż ofertę"}),c(ae,{variant:"outline",onClick:()=>s("/contractor/marketplace"),children:"Anuluj"})]})]})})]})]})},fk=()=>{var w;Zt();const s=xr(),[r,n]=R.useState(!1),[a,o]=R.useState({}),u="current-contractor-id",{data:h,isLoading:m,error:p,refetch:y}=Ve({queryKey:["contractor-portfolio",u],queryFn:()=>Xn.getPortfolio(u)}),{mutate:_,isPending:b}=Ft({mutationFn:k=>h!=null&&h.id?Xn.updatePortfolio(h.id,k):Xn.createPortfolio({contractor_id:u,...k}),onSuccess:()=>{s.invalidateQueries({queryKey:["contractor-portfolio"]}),n(!1)}});return m?c(li,{size:"lg"}):p?c(mt,{children:c(Ge,{children:c(Ce,{type:"error",title:"Błąd",message:"Nie udało się załadować portfolio.",onRetry:()=>y()})})}):g(mt,{children:[c(qr,{title:"Portfolio Wykonawcy",subtitle:"Zarządzaj informacjami o firmie"}),g(Ge,{children:[g("div",{className:"flex justify-between items-center mb-4",children:[c("h2",{className:"text-lg font-semibold",children:"Informacje o firmie"}),!r&&c(ae,{variant:"primary",icon:c($u,{}),onClick:()=>{o({company_name:h==null?void 0:h.company_name,nip:h==null?void 0:h.nip,company_address:h==null?void 0:h.company_address,description:h==null?void 0:h.description}),n(!0)},children:"Edytuj"})]}),c(de,{children:c("div",{className:"p-6",children:r?g("div",{className:"space-y-4",children:[g("div",{children:[c("label",{className:"block text-sm mb-1",children:"Nazwa firmy"}),c("input",{type:"text",value:a.company_name||"",onChange:k=>o(S=>({...S,company_name:k.target.value})),className:"w-full px-3 py-2 border rounded-md focus:outline-none"})]}),g("div",{children:[c("label",{className:"block text-sm mb-1",children:"NIP"}),c("input",{type:"text",value:a.nip||"",onChange:k=>o(S=>({...S,nip:k.target.value})),className:"w-full px-3 py-2 border rounded-md focus:outline-none"})]}),g("div",{children:[c("label",{className:"block text-sm mb-1",children:"Adres firmy"}),c("input",{type:"text",value:a.company_address||"",onChange:k=>o(S=>({...S,company_address:k.target.value})),className:"w-full px-3 py-2	border rounded-md focus:outline-none"})]}),g("div",{children:[c("label",{className:"block text-sm mb-1",children:"Opis firmy"}),c("textarea",{rows:4,value:a.description||"",onChange:k=>o(S=>({...S,description:k.target.value})),className:"w-full px-3 py-2 border rounded-md focus:outline-none resize-none"})]}),g("div",{className:"flex gap-3 pt-4",children:[c(ae,{variant:"primary",icon:c(Nx,{}),disabled:b,onClick:()=>_(a),children:b?"Zapisywanie…":"Zapisz"}),c(ae,{variant:"outline",icon:c(rd,{}),onClick:()=>n(!1),children:"Anuluj"})]})]}):g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(xt,{label:"Nazwa firmy",value:(h==null?void 0:h.company_name)||"–"}),c(xt,{label:"NIP",value:(h==null?void 0:h.nip)||"–"}),c(xt,{label:"Adres firmy",value:(h==null?void 0:h.company_address)||"–"}),c("div",{className:"md:col-span-2",children:c(xt,{label:"Opis firmy",value:(h==null?void 0:h.description)||"–"})})]})})}),(w=h==null?void 0:h.contractor_gallery)!=null&&w.length?g(Ge,{children:[g("div",{className:"flex items-center gap-2 mb-4",children:[c(Tt,{className:"w-5 h-5 text-green-600"}),c("h2",{className:"text-lg font-semibold",children:"Galeria prac"})]}),c(de,{children:c("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-6",children:h.contractor_gallery.map(k=>g("div",{className:"bg-slate-50 rounded-lg p-4",children:[k.image_url?c("img",{src:k.image_url,alt:k.description,className:"w-full h-32 object-cover rounded-md mb-2"}):c("div",{className:"w-full h-32 bg-slate-200 rounded-md flex items-center justify-center mb-2",children:c(Tt,{className:"w-8 h-8 text-slate-400"})}),k.description&&c("p",{className:"text-sm text-slate-600",children:k.description})]},k.id))})})]}):null]})]})},pk=({columns:s,data:r,onSort:n,sortColumn:a,sortDirection:o,selected:u=[],onSelect:h,loading:m=!1})=>m?g("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[c("div",{className:"bg-slate-50 px-6 py-3 border-b border-slate-200",children:c("div",{className:"flex items-center space-x-4",children:s.map((p,y)=>c("div",{className:"h-4 bg-slate-200 rounded animate-pulse flex-1"},y))})}),[...Array(5)].map((p,y)=>c("div",{className:"px-6 py-4 border-b border-slate-200 last:border-b-0",children:c("div",{className:"flex items-center space-x-4",children:s.map((_,b)=>c("div",{className:"h-4 bg-slate-100 rounded animate-pulse flex-1"},b))})},y))]}):c("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:g("table",{className:"w-full",children:[c("thead",{className:"bg-slate-50",children:g("tr",{children:[h&&c("th",{className:"w-12 px-6 py-3 text-left",children:c("input",{type:"checkbox",checked:u.length===r.length&&r.length>0,onChange:p=>h(p.target.checked?r.map(y=>y.id):[]),className:"rounded border-slate-300 text-slate-900 focus:ring-slate-500"})}),s.map(p=>c("th",{className:`px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider ${p.width||""}`,children:p.sortable?g("button",{onClick:()=>n(p.key),className:"flex items-center gap-1 hover:text-slate-700",children:[p.label,c(M_,{className:"w-3 h-3"})]}):p.label},p.key)),c("th",{className:"w-16 px-6 py-3"})]})}),c("tbody",{className:"bg-white divide-y divide-slate-200",children:r.map(p=>g("tr",{className:"hover:bg-slate-50",children:[h&&c("td",{className:"px-6 py-4",children:c("input",{type:"checkbox",checked:u.includes(p.id),onChange:y=>{y.target.checked?h([...u,p.id]):h(u.filter(_=>_!==p.id))},className:"rounded border-slate-300 text-slate-900 focus:ring-slate-500"})}),s.map(y=>c("td",{className:"px-6 py-4 text-sm",children:y.key==="status"?c("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p[y.key]==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p[y.key]}):y.key==="name"?g("div",{className:"flex items-center gap-3",children:[c("div",{className:"w-8 h-8 bg-slate-900 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:String(p.name).charAt(0)}),c("span",{className:"font-medium text-slate-900",children:p[y.key]})]}):c("span",{className:"text-slate-900",children:p[y.key]})},y.key)),c("td",{className:"px-6 py-4 text-right",children:c(ae,{variant:"outline",size:"sm",children:c(cx,{className:"w-4 h-4"})})})]},p.id))})]})}),mk=({currentPage:s,totalPages:r,totalItems:n,itemsPerPage:a,onPageChange:o,onItemsPerPageChange:u})=>{const h=(s-1)*a+1,m=Math.min(s*a,n);return g("div",{className:"flex items-center justify-between px-6 py-3 bg-white border-t border-slate-200",children:[g("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[c("span",{children:"Wyświetl:"}),c("select",{value:a,onChange:p=>u(Number(p.target.value)),className:"border border-slate-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-slate-500",children:[5,10,25,50].map(p=>c("option",{value:p,children:p},p))}),g("span",{children:["z ",n," wyników"]})]}),g("div",{className:"flex items-center gap-2",children:[g("span",{className:"text-sm text-slate-700",children:[h,"-",m," z ",n]}),g("div",{className:"flex gap-1",children:[c(ae,{variant:"outline",size:"sm",onClick:()=>o(s-1),disabled:s===1,children:"Poprzednia"}),[...Array(r)].map((p,y)=>{const _=y+1;return _===1||_===r||_>=s-1&&_<=s+1?c(ae,{variant:_===s?"primary":"outline",size:"sm",onClick:()=>o(_),children:_},_):_===s-2||_===s+2?c("span",{className:"px-2 text-slate-400",children:"..."},_):null}),c(ae,{variant:"outline",size:"sm",onClick:()=>o(s+1),disabled:s===r,children:"Następna"})]})]})]})},yk=()=>{const s=Zt(),[r,n]=R.useState(1),[a,o]=R.useState(10),[u,h]=R.useState("created_at"),[m,p]=R.useState("desc"),y="current-contractor-id",{data:_=[],isLoading:b,error:w,refetch:k}=Ve({queryKey:["contractor-offers",y],queryFn:()=>Xn.getContractorOffers(y)});if(b)return c(li,{size:"lg"});if(w)return c(mt,{children:c(Ge,{children:c(Ce,{type:"error",title:"Błąd",message:"Nie udało się załadować ofert.",onRetry:()=>k()})})});const x=[..._].sort((D,M)=>{const G=D[u],re=M[u];return G<re?m==="asc"?-1:1:G>re?m==="asc"?1:-1:0}).slice((r-1)*a,r*a),N=Math.ceil(_.length/a),z={pending:_.filter(D=>D.status==="pending").length,accepted:_.filter(D=>D.status==="accepted").length,rejected:_.filter(D=>D.status==="rejected").length},I=[{key:"id",label:"ID",sortable:!0,width:"w-24"},{key:"price",label:"Cena",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"created_at",label:"Data",sortable:!0}],L=x.map(D=>({id:D.id,price:`${D.price.toLocaleString("pl")} zł`,status:D.status,created_at:new Date(D.created_at).toLocaleDateString("pl")}));return g(mt,{children:[c(qr,{title:"Moje Oferty",subtitle:"Zarządzaj swoimi ofertami"}),c(Ge,{children:g("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c(Re,{icon:c(Tt,{}),title:"Wszystkie",value:_.length}),c(Re,{icon:c(Ut,{}),title:"Oczekujące",value:z.pending,color:"yellow"}),c(Re,{icon:c(ai,{}),title:"Zaakceptowane",value:z.accepted,color:"green"}),c(Re,{icon:c(dy,{}),title:"Odrzucone",value:z.rejected,color:"red"})]})}),c(Ge,{children:g(de,{children:[c("div",{className:"flex justify-end mb-4",children:c(ae,{variant:"primary",icon:c(Sn,{}),onClick:()=>s("/contractor/offersform"),children:"Nowa oferta"})}),c(pk,{columns:I,data:L,sortColumn:u,sortDirection:m,onSort:D=>{D===u?p(M=>M==="asc"?"desc":"asc"):(h(D),p("asc"))}}),c(mk,{currentPage:r,totalPages:N,totalItems:_.length,itemsPerPage:a,onPageChange:n,onItemsPerPageChange:o})]})})]})},gk={operator:[{path:"/operator/contacts",label:"Kontakty Beneficjentów",icon:td},{path:"/operator/moderation",label:"Panel Moderacji",icon:Lu},{path:"/operator/reports",label:"Raporty",icon:Tt},{path:"/operator/requests",label:"Zapytania do Weryfikacji",icon:em}],auditor:[{path:"/auditor/marketplace",label:"Marketplace",icon:tm},{path:"/auditor/offer/new",label:"Nowa Oferta",icon:Xp},{path:"/auditor/offers",label:"Moje Oferty",icon:Jp},{path:"/auditor/portfolio",label:"Portfolio",icon:Yp}],beneficiary:[{path:"/beneficiary/audit-request",label:"Zapytanie o Audyt",icon:Dx},{path:"/beneficiary/my-requests",label:"Moje Zapytania",icon:tx},{path:"/beneficiary/operator-contact",label:"Kontakt z Operatorem",icon:ts},{path:"/beneficiary/service-request",label:"Zapytanie o Usługę",icon:em}],contractor:[{path:"/contractor/marketplace",label:"Marketplace",icon:tm},{path:"/contractor/offersform",label:"Formularz Oferty",icon:Xp},{path:"/contractor/offers",label:"Moje Oferty",icon:Jp},{path:"/contractor/portfolio",label:"Portfolio",icon:Yp}]},ft=({children:s,userRole:r="operator"})=>{const n=gk[r]||[];return g("div",{className:"flex min-h-screen bg-slate-50",children:[c("div",{className:"w-64 bg-white border-r border-slate-200 flex-shrink-0",children:g("div",{className:"p-6",children:[g("div",{className:"flex items-center gap-3 mb-8",children:[c("div",{className:"w-10 h-10 bg-slate-900 text-white rounded-lg flex items-center justify-center",children:c(Mt,{className:"w-6 h-6"})}),g("div",{children:[c("h2",{className:"font-semibold text-slate-900 capitalize",children:r}),c("p",{className:"text-sm text-slate-600",children:"Panel Użytkownika"})]})]}),c("nav",{className:"space-y-2",children:n.map(a=>{const o=a.icon;return g(Fs,{to:a.path,className:({isActive:u})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${u?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:[c(o,{className:"w-5 h-5"}),a.label]},a.path)})})]})}),c("div",{className:"flex-1 flex flex-col",children:s})]})},vk=()=>{const{user:s,logout:r,delegatedUser:n}=ss(),a=Zt(),o=()=>a("/login"),u=async()=>{await r(),a("/login")},h=()=>{console.log("Otwieranie profilu delegowanego użytkownika:",n)};if(!s)return c("button",{onClick:o,className:"btn btn-sm btn-primary",children:"Zaloguj"});const m=n||s,p=!!n;return g("div",{className:"dropdown dropdown-end",children:[c("label",{tabIndex:0,className:"avatar avatar-placeholder cursor-pointer",children:c("div",{className:"w-10 h-10 rounded-full bg-neutral-300 text-primary-content flex items-center justify-center font-semibold",children:m.email.charAt(0).toUpperCase()})}),g("ul",{tabIndex:0,className:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-64 mt-2",children:[p&&g(Jt,{children:[c("li",{className:"menu-title",children:c("span",{className:"text-warning font-semibold",children:"🔄 Delegowany dostęp"})}),c("li",{children:g("button",{onClick:h,className:"justify-between hover:bg-base-200",children:[g("div",{className:"flex flex-col items-start",children:[c("span",{className:"font-semibold break-words text-sm",children:n.email}),g("span",{className:"text-xs opacity-70",children:["Rola: ",n.role]})]}),c("span",{className:"text-xs",children:"👁️"})]})}),c("div",{className:"divider my-1"}),c("li",{className:"menu-title",children:c("span",{className:"text-xs opacity-60",children:"Twoje konto:"})})]}),c("li",{children:c("span",{className:"font-semibold break-words",children:p?s.email:m.email})}),c("li",{children:g("span",{children:["Rola: ",p?s.role:m.role]})}),c("div",{className:"divider my-1"}),c("li",{children:c("button",{onClick:u,className:"w-full text-left text-error",children:"Wyloguj"})})]})]})},pt=()=>{const[s,r]=R.useState(!1),n=()=>{r(!s)},a=({isActive:o})=>o?"bg-slate-100 text-slate-900 rounded-lg":"text-slate-700 hover:bg-slate-50 rounded-lg";return g(Jt,{children:[g("nav",{className:"bg-white border-b border-slate-200 p-3 px-6",children:[g("div",{className:"flex justify-between items-center h-16",children:[c("div",{className:"flex items-center",children:g(Fs,{to:"/",className:"flex items-center gap-3",children:[c("div",{className:"min-w-8 w-8 h-8 bg-slate-900 text-white rounded-lg flex items-center justify-center",children:c("span",{className:"font-bold text-sm",children:"MA"})}),c("span",{className:"text-xl font-semibold text-slate-900",children:"eOperator"})]})}),g("div",{className:"flex items-center gap-3",children:[c(vk,{}),c("div",{className:"lg:hidden",children:c(ae,{variant:"ghost",onClick:n,icon:s?c(rd,{className:"w-5 h-5"}):c(_x,{className:"w-5 h-5"}),children:void 0})})]})]}),s&&c("div",{className:"lg:hidden border-t border-slate-200 bg-white",children:g("div",{className:"px-4 py-3 space-y-2",children:[g(Fs,{to:"/beneficiary/my-requests",className:a,onClick:()=>r(!1),children:[c(Mt,{className:"w-4 h-4"}),"Beneficjent"]}),g(Fs,{to:"/admin/users",className:a,onClick:()=>r(!1),children:[c(jx,{className:"w-4 h-4"}),"Użytkownicy"]}),g(Fs,{to:"/dashboard",className:a,onClick:()=>r(!1),children:[c(V_,{className:"w-4 h-4"}),"Dashboard"]})]})})]}),c("div",{className:"h-16"})]})},wk=()=>g(Jt,{children:[c(ze,{path:"/contractor/marketplace",element:c(Ir,{children:g(ft,{userRole:"contractor",children:[c(pt,{}),c(dk,{})]})})}),c(ze,{path:"/contractor/offersform",element:c(Ir,{children:g(ft,{userRole:"contractor",children:[c(pt,{}),c(hk,{})]})})}),c(ze,{path:"/contractor/offers",element:c(Ir,{children:g(ft,{userRole:"contractor",children:[c(pt,{}),c(yk,{})]})})}),c(ze,{path:"/contractor/portfolio",element:c(Ir,{children:g(ft,{userRole:"contractor",children:[c(pt,{}),c(fk,{})]})})})]}),_k=()=>g(Jt,{children:[c(ze,{path:"/operator/contacts",element:g(ft,{userRole:"operator",children:[c(pt,{}),c(xk,{})]})}),c(ze,{path:"/operator/moderation",element:g(ft,{userRole:"operator",children:[c(pt,{}),c(Sk,{})]})}),c(ze,{path:"/operator/reports",element:g(ft,{userRole:"operator",children:[c(pt,{}),c(Nk,{})]})}),c(ze,{path:"/operator/requests",element:g(ft,{userRole:"operator",children:[c(pt,{}),c(Ck,{})]})})]}),qs={async getServiceRequestsForVerification(){const{data:s,error:r}=await ie.from("service_requests").select(`
        *,
        users!service_requests_beneficiary_id_fkey(
          id,
          email,
          name,
          phone_number
        ),
        contractor_offers(
          id,
          contractor_id,
          price,
          status
        )
      `).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching service requests:",r),r;return s||[]},async updateServiceRequestStatus(s,r,n,a){const{error:o}=await ie.from("service_requests").update({status:r,updated_at:new Date().toISOString()}).eq("id",s);if(o)throw console.error("Error updating service request status:",o),o;await this.createModerationLog({operator_id:n,target_table:"service_requests",target_id:s,action:`status_changed_to_${r}`,reason:a})},async getModerationLogs(){const{data:s,error:r}=await ie.from("moderation_logs").select(`
        *,
        users!moderation_logs_operator_id_fkey(
          id,
          name,
          email
        )
      `).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching moderation logs:",r),r;return s||[]},async createModerationLog(s){const{error:r}=await ie.from("moderation_logs").insert([s]);if(r)throw console.error("Error creating moderation log:",r),r},async getReports(){const{data:s,error:r}=await ie.from("reports").select("*").order("created_at",{ascending:!1});if(r)throw console.error("Error fetching reports:",r),r;return s||[]},async createReport(s){const{data:r,error:n}=await ie.from("reports").insert([s]).select().single();if(n)throw console.error("Error creating report:",n),n;return r},async getUserContacts(){const{data:s,error:r}=await ie.from("users").select(`
        id,
        email,
        name,
        phone_number,
        city,
        postal_code,
        role,
        created_at
      `).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching user contacts:",r),r;return s||[]},async getStats(){const[s,r,n,a]=await Promise.all([ie.from("service_requests").select("status",{count:"exact"}),ie.from("audit_requests").select("status",{count:"exact"}),ie.from("contractor_offers").select("status",{count:"exact"}),ie.from("auditor_offers").select("status",{count:"exact"})]);return{serviceRequests:s.data||[],serviceRequestsCount:s.count||0,auditRequests:r.data||[],auditRequestsCount:r.count||0,contractorOffers:n.data||[],contractorOffersCount:n.count||0,auditorOffers:a.data||[],auditorOffersCount:a.count||0}}},xk=()=>{const[s,r]=R.useState(""),[n,a]=R.useState(""),[o,u]=R.useState(""),{data:h=[],isLoading:m,error:p,refetch:y}=Ve({queryKey:["operator-contacts"],queryFn:qs.getUserContacts}),_=h.filter(w=>{var N,z,I,L;const k=!s||((N=w.name)==null?void 0:N.toLowerCase().includes(s.toLowerCase()))||w.email.toLowerCase().includes(s.toLowerCase())||((z=w.phone_number)==null?void 0:z.includes(s)),S=!n||w.role===n,x=!o||((I=w.city)==null?void 0:I.toLowerCase().includes(o.toLowerCase()))||((L=w.postal_code)==null?void 0:L.includes(o));return k&&S&&x}),b={total:h.length,beneficiaries:h.filter(w=>w.role==="beneficiary").length,contractors:h.filter(w=>w.role==="contractor").length,auditors:h.filter(w=>w.role==="auditor").length};return m?c("div",{className:"p-6",children:c("div",{className:"flex items-center justify-center min-h-96",children:c(At,{size:"lg"})})}):p?c("div",{className:"p-6",children:c(Ce,{type:"error",title:"Błąd ładowania",message:"Nie udało się załadować kontaktów użytkowników",onRetry:()=>y()})}):g("div",{className:"p-6 space-y-6",children:[g("div",{children:[c("h1",{className:"text-3xl font-bold text-slate-900",children:"Kontakty Użytkowników"}),c("p",{className:"text-slate-600 mt-1",children:"Przeglądaj i zarządzaj kontaktami wszystkich użytkowników"})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c(Re,{icon:c(Mt,{className:"w-5 h-5"}),title:"Wszyscy",value:b.total,subtitle:"użytkowników",color:"blue"}),c(Re,{icon:c(Mt,{className:"w-5 h-5"}),title:"Beneficjenci",value:b.beneficiaries,subtitle:"zarejestrowanych",color:"green"}),c(Re,{icon:c(Mt,{className:"w-5 h-5"}),title:"Wykonawcy",value:b.contractors,subtitle:"aktywnych",color:"purple"}),c(Re,{icon:c(Mt,{className:"w-5 h-5"}),title:"Audytorzy",value:b.auditors,subtitle:"certyfikowanych"})]}),c(de,{children:g("div",{className:"p-6",children:[c("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Filtry"}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c(oi,{value:s,onChange:r,placeholder:"Szukaj po nazwie, email lub telefonie..."}),c(_r,{options:[{value:"beneficiary",label:"Beneficjenci"},{value:"contractor",label:"Wykonawcy"},{value:"auditor",label:"Audytorzy"},{value:"operator",label:"Operatorzy"},{value:"admin",label:"Administratorzy"}],value:n,onChange:w=>a(w),placeholder:"Rola"}),c(_r,{options:Array.from(new Set(h.map(w=>w.city).filter(Boolean))).map(w=>({value:w,label:w})),value:o,onChange:w=>u(w),placeholder:"Miasto"})]})]})}),c("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:_.map(w=>c(de,{children:g("div",{className:"p-6",children:[c("div",{className:"flex justify-between items-start mb-4",children:g("div",{className:"flex-1",children:[g("div",{className:"flex items-center gap-3 mb-2",children:[c("h3",{className:"text-lg font-semibold text-slate-900",children:w.name||"Nie podano"}),"TODO -BADGE"]}),g("div",{className:"space-y-2 text-sm text-slate-600",children:[g("div",{className:"flex items-center gap-2",children:[c(Jo,{className:"w-4 h-4"}),c("span",{children:w.email})]}),w.phone_number&&g("div",{className:"flex items-center gap-2",children:[c(ts,{className:"w-4 h-4"}),c("span",{children:w.phone_number})]}),w.city&&g("div",{className:"flex items-center gap-2",children:[c(Nn,{className:"w-4 h-4"}),g("span",{children:[w.city," ",w.postal_code]})]}),g("div",{className:"flex items-center gap-2",children:[c(el,{className:"w-4 h-4"}),g("span",{children:["Dołączył:"," ",new Date(w.created_at).toLocaleDateString("pl")]})]})]})]})}),g("div",{className:"flex gap-2 pt-4 border-t",children:[g(ae,{variant:"outline",size:"sm",onClick:()=>window.open(`mailto:${w.email}`),className:"flex items-center gap-2",children:[c(Jo,{className:"w-4 h-4"}),"Email"]}),w.phone_number&&g(ae,{variant:"outline",size:"sm",onClick:()=>window.open(`tel:${w.phone_number}`),className:"flex items-center gap-2",children:[c(ts,{className:"w-4 h-4"}),"Telefon"]})]})]})},w.id))}),_.length===0&&c(de,{children:g("div",{className:"p-12 text-center",children:[c("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c(Mt,{className:"w-8 h-8 text-slate-400"})}),c("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Brak kontaktów"}),c("p",{className:"text-slate-600",children:"Nie znaleziono kontaktów spełniających wybrane kryteria."})]})})]})},kk={status_changed_to_verified:"Zweryfikowano",status_changed_to_rejected:"Odrzucono",status_changed_to_pending:"Przywrócono do oczekujących",created:"Utworzono",updated:"Zaktualizowano",deleted:"Usunięto"},bk={service_requests:"Zapytania o usługi",audit_requests:"Zapytania o audyt",contractor_offers:"Oferty wykonawców",auditor_offers:"Oferty audytorów"},Sk=()=>{const[s,r]=R.useState(""),[n,a]=R.useState(""),[o,u]=R.useState(""),{data:h=[],isLoading:m,error:p,refetch:y}=Ve({queryKey:["operator-moderation-logs"],queryFn:qs.getModerationLogs}),_=h.filter(w=>{var N,z,I;const k=!s||w.action.toLowerCase().includes(s.toLowerCase())||((z=(N=w.users)==null?void 0:N.name)==null?void 0:z.toLowerCase().includes(s.toLowerCase()))||((I=w.reason)==null?void 0:I.toLowerCase().includes(s.toLowerCase())),S=!n||w.action.includes(n),x=!o||w.target_table===o;return k&&S&&x}),b={total:h.length,today:h.filter(w=>{const k=new Date().toDateString();return new Date(w.created_at).toDateString()===k}).length,thisWeek:h.filter(w=>{const k=new Date;return k.setDate(k.getDate()-7),new Date(w.created_at)>=k}).length};return m?c("div",{className:"p-6",children:c("div",{className:"flex items-center justify-center min-h-96",children:c(At,{size:"lg"})})}):p?c("div",{className:"p-6",children:c(Ce,{type:"error",title:"Błąd ładowania",message:"Nie udało się załadować logów moderacji",onRetry:()=>y()})}):g("div",{className:"p-6 space-y-6",children:[g("div",{children:[c("h1",{className:"text-3xl font-bold text-slate-900",children:"Panel Moderacji"}),c("p",{className:"text-slate-600 mt-1",children:"Historia działań moderacyjnych w systemie"})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c(Re,{icon:c(Lu,{className:"w-5 h-5"}),title:"Wszystkie akcje",value:b.total,subtitle:"wykonanych",color:"blue"}),c(Re,{icon:c(Ut,{className:"w-5 h-5"}),title:"Dzisiaj",value:b.today,subtitle:"akcji",color:"green"}),c(Re,{icon:c(Ut,{className:"w-5 h-5"}),title:"Ten tydzień",value:b.thisWeek,subtitle:"akcji",color:"purple"})]}),c(de,{children:g("div",{className:"p-6",children:[c("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Filtry"}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c(oi,{value:s,onChange:r,placeholder:"Szukaj po akcji, operatorze lub powodzie..."}),c(_r,{options:[{value:"status_changed_to_verified",label:"Zweryfikowano"},{value:"status_changed_to_rejected",label:"Odrzucono"},{value:"created",label:"Utworzono"},{value:"updated",label:"Zaktualizowano"},{value:"deleted",label:"Usunięto"}],value:n,onChange:w=>a(w),placeholder:"Typ akcji"}),c(_r,{options:[{value:"service_requests",label:"Zapytania o usługi"},{value:"audit_requests",label:"Zapytania o audyt"},{value:"contractor_offers",label:"Oferty wykonawców"},{value:"auditor_offers",label:"Oferty audytorów"}],value:o,onChange:w=>u(w),placeholder:"Tabela"})]})]})}),c("div",{className:"space-y-4",children:_.map(w=>{var k,S;return c(de,{children:c("div",{className:"p-6",children:c("div",{className:"flex justify-between items-start",children:g("div",{className:"flex-1",children:[g("div",{className:"flex items-center gap-3 mb-2",children:[c("h3",{className:"text-lg font-semibold text-slate-900",children:kk[w.action]||w.action}),c(nk,{variant:"secondary",children:bk[w.target_table]||w.target_table})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-slate-600",children:[g("div",{className:"space-y-1",children:[g("div",{className:"flex items-center gap-2",children:[c(Mt,{className:"w-4 h-4"}),g("span",{children:["Operator: ",((k=w.users)==null?void 0:k.name)||((S=w.users)==null?void 0:S.email)||"Nieznany"]})]}),g("div",{className:"flex items-center gap-2",children:[c(sx,{className:"w-4 h-4"}),g("span",{children:["ID obiektu: ",w.target_id.slice(0,8),"..."]})]})]}),g("div",{className:"space-y-1",children:[g("div",{className:"flex items-center gap-2",children:[c(Ut,{className:"w-4 h-4"}),c("span",{children:new Date(w.created_at).toLocaleString("pl")})]}),w.reason&&g("div",{className:"text-sm",children:[c("strong",{children:"Powód:"})," ",w.reason]})]})]})]})})})},w.id)})}),_.length===0&&c(de,{children:g("div",{className:"p-12 text-center",children:[c("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c(Lu,{className:"w-8 h-8 text-slate-400"})}),c("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Brak logów"}),c("p",{className:"text-slate-600",children:"Nie znaleziono logów moderacji spełniających wybrane kryteria."})]})})]})},Nk=()=>{const[s,r]=R.useState(""),[n,a]=R.useState(!1),o=xr(),{data:u=[],isLoading:h,error:m,refetch:p}=Ve({queryKey:["operator-reports"],queryFn:qs.getReports}),{data:y,isLoading:_}=Ve({queryKey:["operator-stats"],queryFn:qs.getStats}),b=Ft({mutationFn:x=>qs.createReport({operator_id:"current-operator-id",...x}),onSuccess:()=>{o.invalidateQueries({queryKey:["operator-reports"]}),a(!1)}}),w=u.filter(x=>!s||x.title.toLowerCase().includes(s.toLowerCase())),k=async()=>{if(!y)return;const x={title:`Raport systemowy - ${new Date().toLocaleDateString("pl")}`,payload:{generatedAt:new Date().toISOString(),summary:{totalServiceRequests:y.serviceRequestsCount,totalAuditRequests:y.auditRequestsCount,totalContractorOffers:y.contractorOffersCount,totalAuditorOffers:y.auditorOffersCount},serviceRequests:{byStatus:y.serviceRequests.reduce((N,z)=>(N[z.status]=(N[z.status]||0)+1,N),{})},auditRequests:{byStatus:y.auditRequests.reduce((N,z)=>(N[z.status]=(N[z.status]||0)+1,N),{})},offers:{contractorOffers:{byStatus:y.contractorOffers.reduce((N,z)=>(N[z.status]=(N[z.status]||0)+1,N),{})},auditorOffers:{byStatus:y.auditorOffers.reduce((N,z)=>(N[z.status]=(N[z.status]||0)+1,N),{})}}}};b.mutate(x)},S=x=>{const N=JSON.stringify(x.payload,null,2),z=new Blob([N],{type:"application/json"}),I=URL.createObjectURL(z),L=document.createElement("a");L.href=I,L.download=`${x.title}.json`,L.click(),URL.revokeObjectURL(I)};return h||_?c("div",{className:"p-6",children:c("div",{className:"flex items-center justify-center min-h-96",children:c(At,{size:"lg"})})}):m?c("div",{className:"p-6",children:c(Ce,{type:"error",title:"Błąd ładowania",message:"Nie udało się załadować raportów",onRetry:()=>p()})}):g("div",{className:"p-6 space-y-6",children:[g("div",{className:"flex justify-between items-center",children:[g("div",{children:[c("h1",{className:"text-3xl font-bold text-slate-900",children:"Raporty"}),c("p",{className:"text-slate-600 mt-1",children:"Generuj i przeglądaj raporty systemowe"})]}),g(ae,{variant:"primary",onClick:k,disabled:b.isPending,className:"flex items-center gap-2",children:[c(Sn,{className:"w-4 h-4"}),"Generuj raport"]})]}),y&&g("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c(Re,{icon:c(Tt,{className:"w-5 h-5"}),title:"Zapytania usługowe",value:y.serviceRequestsCount,subtitle:"wszystkich",color:"blue"}),c(Re,{icon:c($x,{className:"w-5 h-5"}),title:"Zapytania audytowe",value:y.auditRequestsCount,subtitle:"wszystkich",color:"green"}),c(Re,{icon:c(W_,{className:"w-5 h-5"}),title:"Oferty wykonawców",value:y.contractorOffersCount,subtitle:"złożonych",color:"purple"}),c(Re,{icon:c(td,{className:"w-5 h-5"}),title:"Oferty audytorów",value:y.auditorOffersCount,subtitle:"złożonych",color:"yellow"})]}),c(de,{children:c("div",{className:"p-6",children:c(oi,{value:s,onChange:r,placeholder:"Szukaj raportów..."})})}),c("div",{className:"space-y-4",children:w.map(x=>c(de,{children:g("div",{className:"p-6",children:[c("div",{className:"flex justify-between items-start",children:g("div",{className:"flex-1",children:[c("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:x.title}),g("div",{className:"flex items-center gap-4 text-sm text-slate-600 mb-4",children:[g("div",{className:"flex items-center gap-1",children:[c(el,{className:"w-4 h-4"}),c("span",{children:new Date(x.created_at).toLocaleDateString("pl")})]}),g("div",{className:"flex items-center gap-1",children:[c(Tt,{className:"w-4 h-4"}),g("span",{children:["ID: ",x.id.slice(0,8)]})]})]}),g("div",{className:"bg-slate-50 rounded-lg p-4",children:[c("h4",{className:"font-medium text-slate-900 mb-2",children:"Podsumowanie danych:"}),c("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:x.payload.summary&&Object.entries(x.payload.summary).map(([N,z])=>g("div",{className:"text-center",children:[c("div",{className:"font-medium text-slate-900",children:z}),c("div",{className:"text-slate-600 text-xs",children:N})]},N))})]})]})}),c("div",{className:"flex gap-2 pt-4 border-t",children:g(ae,{variant:"outline",size:"sm",onClick:()=>S(x),className:"flex items-center gap-2",children:[c(ox,{className:"w-4 h-4"}),"Pobierz JSON"]})})]})},x.id))}),w.length===0&&c(de,{children:g("div",{className:"p-12 text-center",children:[c("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c(Tt,{className:"w-8 h-8 text-slate-400"})}),c("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Brak raportów"}),c("p",{className:"text-slate-600 mb-4",children:"Nie znaleziono raportów spełniających wybrane kryteria."}),g(ae,{variant:"primary",onClick:k,disabled:b.isPending,className:"flex items-center gap-2",children:[c(Sn,{className:"w-4 h-4"}),"Wygeneruj pierwszy raport"]})]})})]})},Ck=()=>{const{data:s=[],isLoading:r,error:n,refetch:a}=Ve({queryKey:["operator-service-requests"],queryFn:qs.getServiceRequestsForVerification}),o={total:s.length,pending:s.filter(u=>u.status==="pending").length,verified:s.filter(u=>u.status==="verified").length,rejected:s.filter(u=>u.status==="rejected").length};return r?c("div",{className:"p-6",children:c("div",{className:"flex items-center justify-center min-h-96",children:c(At,{size:"lg"})})}):n?c("div",{className:"p-6",children:c(Ce,{type:"error",title:"Błąd ładowania",message:"Nie udało się załadować zapytań",onRetry:()=>a()})}):g("div",{className:"p-6 space-y-6",children:[g("div",{children:[c("h1",{className:"text-3xl font-bold text-slate-900",children:"Zapytania do Weryfikacji"}),c("p",{className:"text-slate-600 mt-1",children:"Przeglądaj zapytania oczekujące na weryfikację"})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c(Re,{icon:c(Tt,{className:"w-5 h-5"}),title:"Wszystkie",value:o.total,color:"blue"}),c(Re,{icon:c(Ut,{className:"w-5 h-5"}),title:"Oczekujące",value:o.pending,color:"yellow"}),c(Re,{icon:c(ai,{className:"w-5 h-5"}),title:"Zweryfikowane",value:o.verified,color:"green"}),c(Re,{icon:c(dy,{className:"w-5 h-5"}),title:"Odrzucone",value:o.rejected,color:"red"})]}),c("div",{className:"space-y-4",children:s.map(u=>{var h,m;return c(de,{children:g("div",{className:"p-6",children:[g("div",{className:"flex justify-between items-start mb-4",children:[g("div",{children:[g("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:[u.city||"Nie podano",", ",u.street_address]}),c("p",{className:"text-sm text-slate-600",children:((h=u.users)==null?void 0:h.name)||((m=u.users)==null?void 0:m.email)||"Anonimowy"})]}),c("span",{className:`px-2 py-1 rounded text-xs font-medium ${u.status==="pending"?"bg-yellow-100 text-yellow-800":u.status==="verified"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.status==="pending"?"Oczekujące":u.status==="verified"?"Zweryfikowane":"Odrzucone"})]}),c("div",{className:"flex gap-2 pt-4 border-t",children:c(ae,{variant:"outline",size:"sm",children:"Szczegóły"})})]})},u.id)})}),s.length===0&&c(de,{children:g("div",{className:"p-12 text-center",children:[c(Tt,{className:"w-8 h-8 text-slate-400 mx-auto mb-4"}),c("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Brak zapytań"}),c("p",{className:"text-slate-600",children:"Nie znaleziono zapytań do weryfikacji."})]})})]})},Ek=()=>g(Jt,{children:[c(ze,{path:"/auditor/marketplace",element:g(ft,{userRole:"auditor",children:[c(pt,{}),c(jk,{})]})}),c(ze,{path:"/auditor/offer/new",element:g(ft,{userRole:"auditor",children:[c(pt,{}),c(Rk,{})]})}),c(ze,{path:"/auditor/offers",element:g(ft,{userRole:"auditor",children:[c(pt,{}),c(Ok,{})]})}),c(ze,{path:"/auditor/portfolio",element:g(ft,{userRole:"auditor",children:[c(pt,{}),c(zk,{})]})})]}),Dr={async getAuditRequests(){const{data:s,error:r}=await ie.from("audit_requests").select(`
        *,
        users!beneficiary_id(
          id,
          email,
          first_name,
          last_name
        )
      `).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching audit requests:",r),r;return s||[]},async getAuditRequestById(s){const{data:r,error:n}=await ie.from("audit_requests").select(`
        *,
        users!beneficiary_id(
          id,
          email,
          first_name,
          last_name
        )
      `).eq("id",s).single();if(n)throw console.error("Error fetching audit request:",n),n;return r},async getAuditorOffers(){const{data:s,error:r}=await ie.from("auditor_offers").select(`
        *,
        audit_requests(
          id,
          postal_code,
          city,
          street_address,
          status
        )
      `).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching auditor offers:",r),r;return s||[]},async createAuditorOffer(s){const{data:r,error:n}=await ie.from("auditor_offers").insert([s]).select(`
        *,
        audit_requests(
          id,
          postal_code,
          city,
          street_address,
          status
        )
      `).single();if(n)throw console.error("Error creating auditor offer:",n),n;return r},async updateAuditorOffer(s,r){const{data:n,error:a}=await ie.from("auditor_offers").update(r).eq("id",s).select(`
        *,
        audit_requests(
          id,
          postal_code,
          city,
          street_address,
          status
        )
      `).single();if(a)throw console.error("Error updating auditor offer:",a),a;return n},async getAuditorPortfolios(){const{data:s,error:r}=await ie.from("auditor_portfolios").select("*").order("created_at",{ascending:!1});if(r)throw console.error("Error fetching auditor portfolios:",r),r;return s||[]},async createAuditorPortfolio(s){const{data:r,error:n}=await ie.from("auditor_portfolios").insert([s]).select("*").single();if(n)throw console.error("Error creating auditor portfolio:",n),n;return r},async updateAuditorPortfolio(s,r){const{data:n,error:a}=await ie.from("auditor_portfolios").update(r).eq("id",s).select("*").single();if(a)throw console.error("Error updating auditor portfolio:",a),a;return n},async deleteAuditorPortfolio(s){const{error:r}=await ie.from("auditor_portfolios").delete().eq("id",s);if(r)throw console.error("Error deleting auditor portfolio:",r),r}},Pk=s=>s!=null&&s.first_name&&(s!=null&&s.last_name)?`${s.first_name} ${s.last_name}`:s!=null&&s.first_name?s.first_name:s!=null&&s.last_name?s.last_name:s!=null&&s.email?s.email.split("@")[0]:"Anonimowy",jk=()=>{const[s,r]=R.useState(""),[n,a]=R.useState(""),[o,u]=R.useState(""),{data:h=[],isLoading:m,error:p,refetch:y}=Ve({queryKey:["audit-requests"],queryFn:Dr.getAuditRequests}),_=h.filter(k=>{var z,I,L,D;const S=!s||((z=k.city)==null?void 0:z.toLowerCase().includes(s.toLowerCase()))||((I=k.street_address)==null?void 0:I.toLowerCase().includes(s.toLowerCase())),x=!n||((L=k.city)==null?void 0:L.toLowerCase().includes(n.toLowerCase()))||((D=k.postal_code)==null?void 0:D.includes(n)),N=!o||k.status===o;return S&&x&&N}),b=Array.from(new Set(h.map(k=>k.city).filter(Boolean))).map(k=>({value:k,label:k})),w=Array.from(new Set(h.map(k=>k.status).filter(Boolean))).map(k=>({value:k,label:k}));return m?c("div",{className:"p-6",children:c("div",{className:"flex items-center justify-center min-h-96",children:c(At,{size:"lg"})})}):p?c("div",{className:"p-6",children:c(Ce,{type:"error",title:"Błąd ładowania",message:"Nie udało się załadować żądań audytu z marketplace",onRetry:()=>y()})}):g("div",{className:"p-6 space-y-6",children:[c("div",{className:"flex justify-between items-center",children:g("div",{children:[c("h1",{className:"text-3xl font-bold text-slate-900",children:"Giełda Audytorów"}),c("p",{className:"text-slate-600 mt-1",children:"Znajdź zlecenia audytu dopasowane do Twoich kompetencji"})]})}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c(Re,{icon:c(oa,{className:"w-5 h-5"}),title:"Dostępne audyty",value:_.length,subtitle:"aktywnych zleceń",color:"blue"}),c(Re,{icon:c(Nn,{className:"w-5 h-5"}),title:"Lokalizacje",value:b.length,subtitle:"różnych miast",color:"green"}),c(Re,{icon:c(Ut,{className:"w-5 h-5"}),title:"Nowe dzisiaj",value:h.filter(k=>{const S=new Date().toDateString();return new Date(k.created_at).toDateString()===S}).length,subtitle:"dodanych dziś",color:"purple"})]}),c(de,{children:g("div",{className:"p-6",children:[c("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Filtry"}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c(oi,{value:s,onChange:r,placeholder:"Szukaj audytów..."}),c(_r,{options:b,value:n,onChange:k=>a(k),placeholder:"Wybierz miasto"}),c(_r,{options:w,value:o,onChange:k=>u(k),placeholder:"Status zlecenia"})]})]})}),c("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:_.map(k=>c(de,{children:g("div",{className:"p-6",children:[c("div",{className:"flex justify-between items-start mb-4",children:g("div",{className:"flex-1",children:[g("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:["Audyt w ",k.city||"Nie podano miasta"]}),c("p",{className:"text-slate-600 text-sm mb-3",children:k.street_address||"Adres do uzgodnienia"}),k.status&&c("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${k.status==="active"?"bg-green-100 text-green-800":k.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:k.status})]})}),g("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4",children:[g("div",{className:"flex items-center gap-1",children:[c(Nn,{className:"w-4 h-4"}),g("span",{children:[k.postal_code||""," ",k.city||"Nie podano"]})]}),g("div",{className:"flex items-center gap-1",children:[c(Mt,{className:"w-4 h-4"}),c("span",{children:Pk(k.users)})]}),k.phone_number&&g("div",{className:"flex items-center gap-1",children:[c(ts,{className:"w-4 h-4"}),c("span",{children:k.phone_number})]}),g("div",{className:"flex items-center gap-1",children:[c(Ut,{className:"w-4 h-4"}),c("span",{children:new Date(k.created_at).toLocaleDateString("pl")})]})]}),g("div",{className:"flex gap-2",children:[c(ae,{variant:"primary",className:"flex-1",children:"Złóż ofertę"}),c(ae,{variant:"outline",children:"Szczegóły"})]})]})},k.id))}),_.length===0&&c(de,{children:g("div",{className:"p-12 text-center",children:[c("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c(oa,{className:"w-8 h-8 text-slate-400"})}),c("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Brak zleceń audytu"}),c("p",{className:"text-slate-600",children:"Nie znaleziono zleceń spełniających wybrane kryteria."})]})})]})},Rk=()=>{const{user:s,delegatedUser:r}=ss(),n=r||s,a=n==null?void 0:n.id,[o,u]=R.useState({request_id:"",price:"",duration_days:"",description:""}),[h,m]=R.useState({}),p=xr();if(!n||!a)return c("div",{className:"p-6",children:c(Ce,{type:"error",title:"Błąd autoryzacji",message:"Nie można załadować danych audytora. Zaloguj się ponownie."})});if(n.role!=="auditor")return c("div",{className:"p-6",children:c(Ce,{type:"error",title:"Brak uprawnień",message:"Tylko audytorzy mogą składać oferty audytu."})});const{data:y=[],isLoading:_,error:b}=Ve({queryKey:["audit-requests"],queryFn:Dr.getAuditRequests}),{data:w=[],isLoading:k,error:S}=Ve({queryKey:["auditor-offers",a],queryFn:Dr.getAuditorOffers}),x=Ft({mutationFn:W=>Dr.createAuditorOffer(W),onSuccess:()=>{p.invalidateQueries({queryKey:["auditor-offers"]}),u({request_id:"",price:"",duration_days:"",description:""}),m({})},onError:W=>{var te;console.error("Error creating offer:",W),((W==null?void 0:W.code)==="23505"||(te=W==null?void 0:W.message)!=null&&te.includes("duplicate key"))&&m({request_id:"Już złożyłeś ofertę na to zlecenie. Możesz ją edytować w sekcji 'Moje Oferty'."})}}),N=(W,te)=>{u(we=>({...we,[W]:te})),h[W]&&m(we=>({...we,[W]:""}))},z=()=>{const W={};o.request_id.trim()?w.some(be=>be.request_id===o.request_id&&be.auditor_id===a)&&(W.request_id="Już złożyłeś ofertę na to zlecenie. Możesz ją edytować w sekcji 'Moje Oferty'."):W.request_id="Wybierz zlecenie audytu";const te=Number(o.price);(!o.price.trim()||isNaN(te)||te<=0)&&(W.price="Podaj prawidłową cenę (większą od 0)");const we=Number(o.duration_days);return(!o.duration_days.trim()||isNaN(we)||we<=0||!Number.isInteger(we))&&(W.duration_days="Podaj prawidłową liczbę dni (liczba całkowita większa od 0)"),m(W),Object.keys(W).length===0},I=W=>{if(W.preventDefault(),!z())return;const te={request_id:o.request_id,auditor_id:a,price:Number(o.price),duration_days:Number(o.duration_days),description:o.description.trim()||void 0,status:"pending"};console.log("Submitting auditor offer:",te),x.mutate(te)},L=()=>{u({request_id:"",price:"",duration_days:"",description:""}),m({})},D=w.filter(W=>W.auditor_id===a).map(W=>W.request_id),M=(y==null?void 0:y.filter(W=>W.beneficiary_id!==a&&!D.includes(W.id)))||[],G=M.map(W=>({value:W.id,label:`${W.city||"Nie podano miasta"} - ${W.street_address||"Adres do uzgodnienia"}`})),re=_||k,fe=b||S;return re?c("div",{className:"p-6",children:c("div",{className:"flex items-center justify-center min-h-96",children:c(At,{size:"lg"})})}):fe?c("div",{className:"p-6",children:c(Ce,{type:"error",title:"Błąd ładowania",message:"Nie udało się załadować danych. Spróbuj odświeżyć stronę."})}):M.length===0?c("div",{className:"p-6",children:c(Ce,{type:"info",title:"Brak dostępnych zleceń",message:"Obecnie nie ma dostępnych zleceń audytu do złożenia oferty. Sprawdź sekcję 'Moje Oferty' aby zobaczyć już złożone oferty."})}):g("div",{className:"p-6 space-y-6",children:[g("div",{children:[c("h1",{className:"text-3xl font-bold text-slate-900",children:"Nowa Oferta Audytu"}),c("p",{className:"text-slate-600 mt-1",children:"Złóż ofertę na wykonanie audytu"})]}),x.isError&&!h.request_id&&c(Ce,{type:"error",title:"Błąd",message:"Nie udało się złożyć oferty. Spróbuj ponownie."}),x.isSuccess&&c(Ce,{type:"success",title:"Sukces",message:"Oferta została złożona pomyślnie!"}),c(de,{children:c("div",{className:"p-6",children:g("form",{onSubmit:I,className:"space-y-6",children:[c(Bn,{label:"Wybierz zlecenie audytu",error:h.request_id,required:!0,children:c(_r,{options:G,value:o.request_id,onChange:W=>N("request_id",W),placeholder:"Wybierz zlecenie...",name:"request_id"})}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(Bn,{label:"Cena (PLN)",error:h.price,required:!0,children:c(Iu,{type:"number",name:"price",value:o.price,onChange:W=>N("price",W.target.value),placeholder:"np. 2500",min:"1",step:"0.01",icon:c(Qo,{className:"w-4 h-4"})})}),c(Bn,{label:"Czas realizacji (dni)",error:h.duration_days,required:!0,children:c(Iu,{type:"number",name:"duration_days",value:o.duration_days,onChange:W=>N("duration_days",W.target.value),placeholder:"np. 14",min:"1",step:"1",icon:c(el,{className:"w-4 h-4"})})})]}),g(Bn,{label:"Dodatkowe informacje (opcjonalne)",children:[c(Du,{name:"description",value:o.description,onChange:W=>N("description",W.target.value),placeholder:"Opisz swoje doświadczenie, metodologię audytu, certyfikaty...",rows:4,maxLength:1e3}),o.description&&g("div",{className:"text-xs text-slate-500 mt-1",children:[o.description.length,"/1000 znaków"]})]}),g("div",{className:"flex gap-4",children:[g(ae,{variant:"primary",disabled:x.isPending,className:"flex items-center gap-2",children:[x.isPending?c(At,{size:"sm"}):c(oa,{className:"w-4 h-4"}),x.isPending?"Wysyłanie...":"Złóż ofertę"]}),c(ae,{variant:"outline",onClick:L,disabled:x.isPending,children:"Wyczyść"})]})]})})})]})},Ok=()=>{const[s,r]=R.useState(""),[n,a]=R.useState(""),{data:o=[],isLoading:u,error:h,refetch:m}=Ve({queryKey:["auditor-offers"],queryFn:Dr.getAuditorOffers}),p=o.filter(x=>{var I,L,D,M;const N=!s||((L=(I=x.audit_requests)==null?void 0:I.city)==null?void 0:L.toLowerCase().includes(s.toLowerCase()))||((M=(D=x.audit_requests)==null?void 0:D.street_address)==null?void 0:M.toLowerCase().includes(s.toLowerCase())),z=!n||x.status===n;return N&&z}),y=Array.from(new Set(o.map(x=>x.status).filter(Boolean))).map(x=>({value:x,label:x})),_=x=>{switch(x){case"accepted":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},b=x=>{switch(x){case"accepted":return"Zaakceptowana";case"rejected":return"Odrzucona";case"pending":return"Oczekująca";default:return x||"Nieznany"}};if(u)return c("div",{className:"p-6",children:c("div",{className:"flex items-center justify-center min-h-96",children:c(At,{size:"lg"})})});if(h)return c("div",{className:"p-6",children:c(Ce,{type:"error",title:"Błąd ładowania",message:"Nie udało się załadować Twoich ofert",onRetry:()=>m()})});const w=o.filter(x=>x.status==="accepted"),k=o.filter(x=>x.status==="pending"),S=w.reduce((x,N)=>x+(N.price||0),0);return g("div",{className:"p-6 space-y-6",children:[c("div",{className:"flex justify-between items-center",children:g("div",{children:[c("h1",{className:"text-3xl font-bold text-slate-900",children:"Moje Oferty Audytu"}),c("p",{className:"text-slate-600 mt-1",children:"Zarządzaj swoimi ofertami i śledź ich status"})]})}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c(Re,{icon:c(oa,{className:"w-5 h-5"}),title:"Wszystkie oferty",value:o.length,subtitle:"złożonych ofert",color:"blue"}),c(Re,{icon:c(Ut,{className:"w-5 h-5"}),title:"Oczekujące",value:k.length,subtitle:"do rozpatrzenia",color:"yellow"}),c(Re,{icon:c(Qo,{className:"w-5 h-5"}),title:"Wartość zaakceptowanych",value:`${S.toLocaleString("pl")} PLN`,subtitle:"łączna wartość",color:"green"})]}),c(de,{children:g("div",{className:"p-6",children:[c("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Filtry"}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(oi,{value:s,onChange:r,placeholder:"Szukaj ofert..."}),c(_r,{options:y,value:n,onChange:x=>a(x),placeholder:"Status oferty"})]})]})}),c("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:p.map(x=>{var N,z,I,L,D;return c(de,{children:g("div",{className:"p-6",children:[c("div",{className:"flex justify-between items-start mb-4",children:g("div",{className:"flex-1",children:[g("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:["Audyt w ",((N=x.audit_requests)==null?void 0:N.city)||"Nie podano miasta"]}),c("p",{className:"text-slate-600 text-sm mb-3",children:((z=x.audit_requests)==null?void 0:z.street_address)||"Adres do uzgodnienia"}),c("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${_(x.status)}`,children:b(x.status)})]})}),g("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[g("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[c(Qo,{className:"w-4 h-4"}),g("span",{children:[((I=x.price)==null?void 0:I.toLocaleString("pl"))||"0"," PLN"]})]}),g("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[c(el,{className:"w-4 h-4"}),g("span",{children:[x.duration_days||0," dni"]})]})]}),g("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4",children:[g("div",{className:"flex items-center gap-1",children:[c(Nn,{className:"w-4 h-4"}),g("span",{children:[((L=x.audit_requests)==null?void 0:L.postal_code)||""," ",((D=x.audit_requests)==null?void 0:D.city)||"Nie podano"]})]}),g("div",{className:"flex items-center gap-1",children:[c(Ut,{className:"w-4 h-4"}),c("span",{children:new Date(x.created_at).toLocaleDateString("pl")})]})]}),g("div",{className:"flex gap-2",children:[c(ae,{variant:"outline",className:"flex-1",children:"Szczegóły"}),x.status==="pending"&&c(ae,{variant:"secondary",children:"Edytuj"})]})]})},x.id)})}),p.length===0&&c(de,{children:g("div",{className:"p-12 text-center",children:[c("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c(oa,{className:"w-8 h-8 text-slate-400"})}),c("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Brak ofert"}),c("p",{className:"text-slate-600",children:"Nie znaleziono ofert spełniających wybrane kryteria."})]})})]})},zk=()=>{const{user:s,delegatedUser:r}=ss(),n=r||s,a=n==null?void 0:n.id,[o,u]=R.useState(!1),[h,m]=R.useState(null),[p,y]=R.useState({name_or_company:"",certificate_data:"",description:""}),[_,b]=R.useState({}),w=xr();if(!n||!a)return c("div",{className:"p-6",children:c(Ce,{type:"error",title:"Błąd",message:"Nie można załadować danych użytkownika. Zaloguj się ponownie."})});const{data:k=[],isLoading:S,error:x,refetch:N}=Ve({queryKey:["auditor-portfolios",a],queryFn:Dr.getAuditorPortfolios}),z=Ft({mutationFn:V=>Dr.createAuditorPortfolio(V),onSuccess:()=>{w.invalidateQueries({queryKey:["auditor-portfolios"]}),D()},onError:V=>{console.error("Error creating portfolio item:",V)}}),I=Ft({mutationFn:({id:V,data:be})=>Dr.updateAuditorPortfolio(V,be),onSuccess:()=>{w.invalidateQueries({queryKey:["auditor-portfolios"]}),D()},onError:V=>{console.error("Error updating portfolio item:",V)}}),L=Ft({mutationFn:V=>Dr.deleteAuditorPortfolio(V),onSuccess:()=>{w.invalidateQueries({queryKey:["auditor-portfolios"]})},onError:V=>{console.error("Error deleting portfolio item:",V)}}),D=()=>{y({name_or_company:"",certificate_data:"",description:""}),b({}),u(!1),m(null)},M=(V,be)=>{y(Ye=>({...Ye,[V]:be})),_[V]&&b(Ye=>({...Ye,[V]:""}))},G=()=>{const V={};return p.name_or_company.trim()||(V.name_or_company="Nazwa lub firma jest wymagana"),p.description.trim()||(V.description="Opis jest wymagany"),b(V),Object.keys(V).length===0},re=V=>{if(V.preventDefault(),!G())return;const be={auditor_id:a,name_or_company:p.name_or_company.trim(),certificate_data:p.certificate_data.trim(),description:p.description.trim()};h?I.mutate({id:h.id,data:be}):z.mutate(be)},fe=V=>{m(V),y({name_or_company:V.name_or_company||"",certificate_data:V.certificate_data||"",description:V.description||""}),u(!0)},W=V=>{window.confirm("Czy na pewno chcesz usunąć ten element portfolio?")&&L.mutate(V)},te=z.isPending||I.isPending,we=z.isError||I.isError;return S?c("div",{className:"p-6",children:c("div",{className:"flex items-center justify-center min-h-96",children:c(At,{size:"lg"})})}):x?c("div",{className:"p-6",children:c(Ce,{type:"error",title:"Błąd ładowania",message:"Nie udało się załadować portfolio",onRetry:()=>N()})}):g("div",{className:"p-6 space-y-6",children:[g("div",{className:"flex justify-between items-center",children:[g("div",{children:[c("h1",{className:"text-3xl font-bold text-slate-900",children:"Portfolio Audytora"}),c("p",{className:"text-slate-600 mt-1",children:"Zarządzaj swoim doświadczeniem i certyfikatami"})]}),g(ae,{variant:"primary",onClick:()=>u(!0),className:"flex items-center gap-2",children:[c(Sn,{className:"w-4 h-4"}),"Dodaj pozycję"]})]}),we&&c(Ce,{type:"error",title:"Błąd",message:"Nie udało się zapisać zmian. Spróbuj ponownie."}),(z.isSuccess||I.isSuccess)&&c(Ce,{type:"success",title:"Sukces",message:h?"Portfolio zostało zaktualizowane!":"Nowa pozycja została dodana do portfolio!"}),o&&c(de,{children:g("div",{className:"p-6",children:[g("div",{className:"flex justify-between items-center mb-6",children:[c("h2",{className:"text-lg font-semibold text-slate-900",children:h?"Edytuj pozycję":"Dodaj nową pozycję"}),c(ae,{variant:"outline",onClick:D,children:"Anuluj"})]}),g("form",{onSubmit:re,className:"space-y-6",children:[c(Bn,{label:"Nazwa lub firma",error:_.name_or_company,required:!0,children:c(Iu,{value:p.name_or_company,onChange:V=>M("name_or_company",V.target.value),placeholder:"np. Certyfikowany Audytor Energetyczny",icon:c(Mt,{className:"w-4 h-4"})})}),c(Bn,{label:"Certyfikaty i uprawnienia",error:_.certificate_data,children:c(Du,{value:p.certificate_data,onChange:V=>M("certificate_data",V.target.value),placeholder:"Opisz swoje certyfikaty, uprawnienia, licencje...",rows:3})}),c(Bn,{label:"Opis doświadczenia",error:_.description,required:!0,children:c(Du,{value:p.description,onChange:V=>M("description",V.target.value),placeholder:"Opisz swoje doświadczenie, realizowane projekty, specjalizacje...",rows:4})}),g("div",{className:"flex gap-4",children:[g(ae,{variant:"primary",disabled:te,className:"flex items-center gap-2",children:[te?c(At,{size:"sm"}):h?c($u,{className:"w-4 h-4"}):c(Sn,{className:"w-4 h-4"}),te?"Zapisywanie...":h?"Zaktualizuj":"Dodaj pozycję"]}),c(ae,{variant:"outline",onClick:D,children:"Anuluj"})]})]})]})}),c("div",{className:"grid grid-cols-1 gap-6",children:k.map(V=>c(de,{children:g("div",{className:"p-6",children:[g("div",{className:"flex justify-between items-start mb-4",children:[g("div",{className:"flex-1",children:[g("div",{className:"flex items-center gap-2 mb-2",children:[c(Mt,{className:"w-5 h-5 text-slate-500"}),c("h3",{className:"text-lg font-semibold text-slate-900",children:V.name_or_company})]}),V.certificate_data&&g("div",{className:"mb-3",children:[g("div",{className:"flex items-center gap-2 mb-1",children:[c(U_,{className:"w-4 h-4 text-slate-500"}),c("span",{className:"text-sm font-medium text-slate-700",children:"Certyfikaty:"})]}),c("p",{className:"text-slate-600 text-sm pl-6",children:V.certificate_data})]}),g("div",{className:"mb-3",children:[g("div",{className:"flex items-center gap-2 mb-1",children:[c(Tt,{className:"w-4 h-4 text-slate-500"}),c("span",{className:"text-sm font-medium text-slate-700",children:"Opis:"})]}),c("p",{className:"text-slate-600 text-sm pl-6",children:V.description})]})]}),g("div",{className:"flex gap-2",children:[c(ae,{variant:"outline",size:"sm",onClick:()=>fe(V),children:c($u,{className:"w-4 h-4"})}),c(ae,{variant:"outline",size:"sm",onClick:()=>W(V.id),disabled:L.isPending,children:c(Ax,{className:"w-4 h-4"})})]})]}),g("div",{className:"text-xs text-slate-500",children:["Dodano: ",new Date(V.created_at).toLocaleDateString("pl"),V.updated_at&&V.updated_at!==V.created_at&&g("span",{className:"ml-2",children:["• Zaktualizowano: ",new Date(V.updated_at).toLocaleDateString("pl")]})]})]})},V.id))}),k.length===0&&!o&&c(de,{children:g("div",{className:"p-12 text-center",children:[c("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c(Mt,{className:"w-8 h-8 text-slate-400"})}),c("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Brak pozycji w portfolio"}),c("p",{className:"text-slate-600 mb-4",children:"Dodaj swoje doświadczenie, certyfikaty i kompetencje."}),g(ae,{variant:"primary",onClick:()=>u(!0),className:"flex items-center gap-2",children:[c(Sn,{className:"w-4 h-4"}),"Dodaj pierwszą pozycję"]})]})})]})},Tk=()=>g(Jt,{children:[c(ze,{path:"/beneficiary/audit-request",element:g(ft,{userRole:"beneficiary",children:[c(pt,{}),c(Ak,{})]})}),c(ze,{path:"/beneficiary/my-requests",element:g(ft,{userRole:"beneficiary",children:[c(pt,{}),c(Lk,{})]})}),c(ze,{path:"/beneficiary/operator-contact",element:g(ft,{userRole:"beneficiary",children:[c(pt,{}),c($k,{})]})}),c(ze,{path:"/beneficiary/requests/:id",element:c(Ik,{})}),c(ze,{path:"/beneficiary/service-request",element:g(ft,{userRole:"beneficiary",children:[c(pt,{}),c(Dk,{})]})})]}),vr={async getServiceRequests(s){const{data:r,error:n}=await ie.from("service_requests").select(`
        *,
        contractor_offers(*)
      `).eq("beneficiary_id",s).order("created_at",{ascending:!1});if(n)throw n;return r||[]},async getServiceRequestById(s){const{data:r,error:n}=await ie.from("service_requests").select(`
        *,
        contractor_offers(*)
      `).eq("id",s).single();if(n)throw n;return r},async createServiceRequest(s){const{data:r,error:n}=await ie.from("service_requests").insert([{...s,status:"pending"}]).select().single();if(n)throw n;return r},async updateServiceRequest(s,r){const{data:n,error:a}=await ie.from("service_requests").update(r).eq("id",s).select().single();if(a)throw a;return n},async deleteServiceRequest(s){const{error:r}=await ie.from("service_requests").delete().eq("id",s);if(r)throw r},async getAuditRequests(s){const{data:r,error:n}=await ie.from("audit_requests").select(`
        *,
        auditor_offers(*)
      `).eq("beneficiary_id",s).order("created_at",{ascending:!1});if(n)throw n;return r||[]},async createAuditRequest(s){const{data:r,error:n}=await ie.from("audit_requests").insert([{...s,status:"pending"}]).select().single();if(n)throw n;return r},async acceptContractorOffer(s){const{error:r}=await ie.from("contractor_offers").update({status:"accepted"}).eq("id",s);if(r)throw r},async rejectContractorOffer(s){const{error:r}=await ie.from("contractor_offers").update({status:"rejected"}).eq("id",s);if(r)throw r},async acceptAuditorOffer(s){const{error:r}=await ie.from("auditor_offers").update({status:"accepted"}).eq("id",s);if(r)throw r},async rejectAuditorOffer(s){const{error:r}=await ie.from("auditor_offers").update({status:"rejected"}).eq("id",s);if(r)throw r}},Ak=()=>{const s=Zt(),r=xr(),{user:n,delegatedUser:a}=ss(),o=a||n,u=o==null?void 0:o.id;if(!o||!u)return c(mt,{children:c(Ce,{type:"error",title:"Błąd",message:"Nie można załadować danych użytkownika. Zaloguj się ponownie."})});const[h,m]=R.useState({postal_code:"",city:"",street_address:"",phone_number:""}),[p,y]=R.useState({}),{mutate:_,isPending:b,error:w}=Ft({mutationFn:async x=>{console.log("Sending audit request with data:",{...x,beneficiary_id:u});try{const N=await vr.createAuditRequest({...x,beneficiary_id:u});return console.log("Audit request created successfully:",N),N}catch(N){throw console.error("Error creating audit request:",N),N}},onSuccess:()=>{r.invalidateQueries({queryKey:["audit-requests"]}),s("/beneficiary/my-requests")},onError:x=>{console.error("Mutation error:",x)}}),k=()=>{const x={};return h.postal_code.trim()||(x.postal_code="Kod pocztowy jest wymagany"),h.city.trim()||(x.city="Miasto jest wymagane"),h.street_address.trim()||(x.street_address="Adres jest wymagany"),h.phone_number.trim()||(x.phone_number="Telefon jest wymagany"),y(x),Object.keys(x).length===0};return g(mt,{children:[c(qr,{title:"Nowe Zlecenie Audytora",subtitle:"Zamów audyt energetyczny"}),g(Ge,{children:[w&&c(Ce,{type:"error",title:"Błąd",message:"Nie udało się utworzyć zlecenia audytu."}),c(de,{children:g("form",{onSubmit:x=>{x.preventDefault(),k()&&_(h)},className:"p-6 space-y-6",children:[g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[c(Nn,{className:"w-4 h-4"})," Kod pocztowy"]})}),c("input",{type:"text",value:h.postal_code,onChange:x=>{m(N=>({...N,postal_code:x.target.value})),y(N=>({...N,postal_code:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${p.postal_code?"border-red-500":"border-slate-300"}`,placeholder:"XX-XXX"}),p.postal_code&&c("p",{className:"text-red-500 text-sm mt-1",children:p.postal_code})]}),g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:"Miasto"}),c("input",{type:"text",value:h.city,onChange:x=>{m(N=>({...N,city:x.target.value})),y(N=>({...N,city:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${p.city?"border-red-500":"border-slate-300"}`,placeholder:"Nazwa miasta"}),p.city&&c("p",{className:"text-red-500 text-sm mt-1",children:p.city})]})]}),g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[c(hy,{className:"w-4 h-4"})," Adres"]})}),c("input",{type:"text",value:h.street_address,onChange:x=>{m(N=>({...N,street_address:x.target.value})),y(N=>({...N,street_address:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${p.street_address?"border-red-500":"border-slate-300"}`,placeholder:"Ulica i numer domu"}),p.street_address&&c("p",{className:"text-red-500 text-sm mt-1",children:p.street_address})]}),g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[c(ts,{className:"w-4 h-4"})," Telefon"]})}),c("input",{type:"tel",value:h.phone_number,onChange:x=>{m(N=>({...N,phone_number:x.target.value})),y(N=>({...N,phone_number:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${p.phone_number?"border-red-500":"border-slate-300"}`,placeholder:"XXX XXX XXX"}),p.phone_number&&c("p",{className:"text-red-500 text-sm mt-1",children:p.phone_number})]}),g("div",{className:"flex gap-3 pt-4",children:[c(ae,{variant:"primary",disabled:b,className:"flex-1",children:b?"Tworzenie…":"Zamów audyt"}),c(ae,{variant:"outline",onClick:()=>s("/beneficiary/my-requests"),children:"Anuluj"})]})]})})]})]})},Lk=()=>{const s=Zt(),{user:r,delegatedUser:n}=ss(),a=n||r,o=a==null?void 0:a.id;if(!a||!o)return c(mt,{children:c(Ce,{type:"error",title:"Błąd",message:"Nie można załadować danych użytkownika. Zaloguj się ponownie."})});const{data:u=[],isLoading:h,error:m}=Ve({queryKey:["service-requests",o],queryFn:()=>vr.getServiceRequests(o)}),{data:p=[],isLoading:y,error:_}=Ve({queryKey:["audit-requests",o],queryFn:()=>vr.getAuditRequests(o)}),b=h||y,w=m||_;if(b)return c(li,{size:"lg"});if(w)return c(mt,{children:c(Ge,{children:c(Ce,{type:"error",title:"Błąd",message:"Nie udało się załadować zleceń."})})});const k=[...u.map(S=>({...S,type:"service"})),...p.map(S=>({...S,type:"audit"}))].sort((S,x)=>new Date(x.created_at).getTime()-new Date(S.created_at).getTime());return g(mt,{children:[c(qr,{title:"Moje Zlecenia",subtitle:"Zarządzaj swoimi zleceniami"}),c(Ge,{children:g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c(Re,{icon:c(Tt,{}),title:"Wszystkie",value:k.length}),c(Re,{icon:c(Ut,{}),title:"Oczekujące",value:k.filter(S=>S.status==="pending").length,color:"yellow"}),c(Re,{icon:c(ai,{}),title:"Zweryfikowane",value:k.filter(S=>S.status==="verified").length,color:"green"})]})}),g(Ge,{children:[g("div",{className:"flex justify-between items-center mb-4",children:[c("h2",{className:"text-lg font-semibold",children:"Lista zleceń"}),g("div",{className:"flex gap-2",children:[c(ae,{variant:"outline",onClick:()=>s("/beneficiary/service-request"),children:"Nowe zlecenie wykonawcy"}),c(ae,{variant:"primary",onClick:()=>s("/beneficiary/audit-request"),children:"Nowe zlecenie audytora"})]})]}),k.length>0?c("div",{className:"space-y-4",children:k.map(S=>{var x,N;return c(de,{children:g("div",{className:"p-6",children:[g("div",{className:"flex justify-between items-start mb-4",children:[g("div",{children:[g("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:`px-2 py-1 rounded text-xs font-medium ${S.type==="service"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:S.type==="service"?"Wykonawca":"Audytor"}),c("span",{className:`px-2 py-1 rounded text-xs font-medium ${S.status==="pending"?"bg-yellow-100 text-yellow-800":S.status==="verified"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.status==="pending"?"Oczekujące":S.status==="verified"?"Zweryfikowane":"Odrzucone"})]}),g("h3",{className:"font-medium text-lg",children:[S.city,", ",S.street_address]}),c("p",{className:"text-slate-600",children:S.postal_code})]}),c(ae,{variant:"outline",onClick:()=>s(`/beneficiary/requests/${S.id}`),children:"Szczegóły"})]}),g("div",{className:"text-sm text-slate-500",children:["Utworzone: ",new Date(S.created_at).toLocaleDateString("pl")]}),S.type==="service"&&((x=S.contractor_offers)==null?void 0:x.length)>0&&c("div",{className:"mt-3 text-sm",children:g("span",{className:"text-green-600 font-medium",children:[S.contractor_offers.length," ofert"]})}),S.type==="audit"&&((N=S.auditor_offers)==null?void 0:N.length)>0&&c("div",{className:"mt-3 text-sm",children:g("span",{className:"text-green-600 font-medium",children:[S.auditor_offers.length," ofert"]})})]})},`${S.type}-${S.id}`)})}):c(fy,{icon:c(Tt,{}),title:"Brak zleceń",message:"Nie masz jeszcze żadnych zleceń."})]})]})},$k=()=>{const[s,r]=R.useState({subject:"",message:"",priority:"medium"}),[n,a]=R.useState({}),[o,u]=R.useState(!1),h=()=>{const p={};return s.subject.trim()||(p.subject="Temat jest wymagany"),s.message.trim()||(p.message="Wiadomość jest wymagana"),a(p),Object.keys(p).length===0};return g(mt,{children:[c(qr,{title:"Kontakt z Operatorem",subtitle:"Skontaktuj się z naszym zespołem wsparcia"}),g(Ge,{children:[o&&c(Ce,{type:"success",title:"Wiadomość wysłana",message:"Twoja wiadomość została wysłana. Skontaktujemy się z Tobą wkrótce."}),g("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c("div",{className:"lg:col-span-2",children:c(de,{children:g("form",{onSubmit:p=>{p.preventDefault(),h()&&(console.log("Wysyłanie wiadomości:",s),u(!0),r({subject:"",message:"",priority:"medium"}))},className:"p-6 space-y-6",children:[g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:"Temat"}),c("input",{type:"text",value:s.subject,onChange:p=>{r(y=>({...y,subject:p.target.value})),a(y=>({...y,subject:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${n.subject?"border-red-500":"border-slate-300"}`,placeholder:"Krótko opisz problem lub pytanie"}),n.subject&&c("p",{className:"text-red-500 text-sm mt-1",children:n.subject})]}),g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:"Priorytet"}),g("select",{value:s.priority,onChange:p=>r(y=>({...y,priority:p.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2",children:[c("option",{value:"low",children:"Niski"}),c("option",{value:"medium",children:"Średni"}),c("option",{value:"high",children:"Wysoki"})]})]}),g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:"Wiadomość"}),c("textarea",{rows:8,value:s.message,onChange:p=>{r(y=>({...y,message:p.target.value})),a(y=>({...y,message:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 resize-none ${n.message?"border-red-500":"border-slate-300"}`,placeholder:"Opisz szczegółowo swoje pytanie lub problem..."}),n.message&&c("p",{className:"text-red-500 text-sm mt-1",children:n.message})]}),c(ae,{variant:"primary",className:"w-full",children:"Wyślij wiadomość"})]})})}),g("div",{children:[c(de,{children:g("div",{className:"p-6",children:[c("h3",{className:"text-lg font-semibold mb-4",children:"Informacje kontaktowe"}),g("div",{className:"space-y-4",children:[g("div",{children:[g("div",{className:"flex items-center gap-2 mb-2",children:[c(ts,{className:"w-4 h-4 text-blue-600"}),c("span",{className:"font-medium",children:"Telefon"})]}),c("p",{className:"text-slate-600",children:"+48 800 123 456"}),c("p",{className:"text-sm text-slate-500",children:"Pon-Pt 8:00-16:00"})]}),g("div",{children:[g("div",{className:"flex items-center gap-2 mb-2",children:[c(Tt,{className:"w-4 h-4 text-blue-600"}),c("span",{className:"font-medium",children:"Email"})]}),c("p",{className:"text-slate-600",children:"pomoc@e-operator.pl"})]}),g("div",{children:[g("div",{className:"flex items-center gap-2 mb-2",children:[c(Ut,{className:"w-4 h-4 text-blue-600"}),c("span",{className:"font-medium",children:"Czas odpowiedzi"})]}),c("p",{className:"text-slate-600",children:"Do 24 godzin"})]})]})]})}),c(de,{className:"mt-6",children:g("div",{className:"p-6",children:[c("h3",{className:"text-lg font-semibold mb-4",children:"Najczęstsze pytania"}),g("div",{className:"space-y-3",children:[g("details",{className:"group",children:[c("summary",{className:"cursor-pointer font-medium",children:"Jak długo trwa weryfikacja zlecenia?"}),c("p",{className:"text-sm text-slate-600 mt-2",children:"Weryfikacja zlecenia zwykle trwa 1-2 dni robocze."})]}),g("details",{className:"group",children:[c("summary",{className:"cursor-pointer font-medium",children:"Czy mogę anulować zlecenie?"}),c("p",{className:"text-sm text-slate-600 mt-2",children:"Tak, zlecenia można anulować przed ich weryfikacją."})]}),g("details",{className:"group",children:[c("summary",{className:"cursor-pointer font-medium",children:"Jak wybrać najlepszą ofertę?"}),c("p",{className:"text-sm text-slate-600 mt-2",children:"Porównaj ceny, zakres prac i opinie innych klientów."})]})]})]})})]})]})]})]})},Ik=()=>{const{id:s}=z0(),r=Zt(),n=xr(),{user:a,delegatedUser:o}=ss(),u=o||a,h=u==null?void 0:u.id;if(!u||!h)return c(mt,{children:c(Ce,{type:"error",title:"Błąd",message:"Nie można załadować danych użytkownika. Zaloguj się ponownie."})});const{data:m,isLoading:p,error:y}=Ve({queryKey:["service-request",s],queryFn:()=>vr.getServiceRequestById(s),enabled:!!s,retry:!1}),{data:_,isLoading:b,error:w}=Ve({queryKey:["audit-requests",h],queryFn:()=>vr.getAuditRequests(h),enabled:!!s&&!m&&!p}),k=_==null?void 0:_.find(M=>M.id===s),S=p||b,x=m||k,N=m?"service":k?"audit":null,{mutate:z}=Ft({mutationFn:vr.acceptContractorOffer,onSuccess:()=>{n.invalidateQueries({queryKey:["service-request",s]})}}),{mutate:I}=Ft({mutationFn:vr.rejectContractorOffer,onSuccess:()=>{n.invalidateQueries({queryKey:["service-request",s]})}}),{mutate:L}=Ft({mutationFn:vr.acceptAuditorOffer,onSuccess:()=>{n.invalidateQueries({queryKey:["audit-requests",h]})}}),{mutate:D}=Ft({mutationFn:vr.rejectAuditorOffer,onSuccess:()=>{n.invalidateQueries({queryKey:["audit-requests",h]})}});return S?c(li,{size:"lg"}):x?g(mt,{children:[c(qr,{title:`Szczegóły Zlecenia ${N==="service"?"Wykonawcy":"Audytora"}`,subtitle:`${x.city}, ${x.street_address}`}),c(Ge,{children:g("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c("div",{className:"lg:col-span-2",children:c(de,{children:g("div",{className:"p-6",children:[g("div",{className:"flex items-center gap-2 mb-4",children:[c("h3",{className:"text-lg font-semibold",children:"Informacje o zleceniu"}),c("span",{className:`px-2 py-1 rounded text-xs font-medium ${N==="service"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:N==="service"?"Wykonawca":"Audytor"})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(xt,{label:"Kod pocztowy",value:x.postal_code}),c(xt,{label:"Miasto",value:x.city}),c(xt,{label:"Adres",value:x.street_address}),c(xt,{label:"Telefon",value:x.phone_number}),c(xt,{label:"Status",value:c("span",{className:`px-2 py-1 rounded text-xs font-medium ${x.status==="pending"?"bg-yellow-100 text-yellow-800":x.status==="verified"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.status==="pending"?"Oczekujące":x.status==="verified"?"Zweryfikowane":"Odrzucone"})}),c(xt,{label:"Data utworzenia",value:new Date(x.created_at).toLocaleDateString("pl")})]}),N==="service"&&m&&(m.heat_source||m.windows_count||m.doors_count||m.wall_insulation_m2||m.attic_insulation_m2)&&g("div",{className:"mt-6 pt-6 border-t",children:[c("h4",{className:"font-medium mb-4",children:"Parametry techniczne"}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.heat_source&&c(xt,{label:"Źródło ciepła",value:m.heat_source==="pompa_ciepla"?"Pompa ciepła":m.heat_source==="piec_pellet"?"Piec na pellet":"Piec zgazowujący"}),m.windows_count&&c(xt,{label:"Liczba okien",value:m.windows_count}),m.doors_count&&c(xt,{label:"Liczba drzwi",value:m.doors_count}),m.wall_insulation_m2&&c(xt,{label:"Izolacja ścian (m²)",value:m.wall_insulation_m2}),m.attic_insulation_m2&&c(xt,{label:"Izolacja poddasza (m²)",value:m.attic_insulation_m2})]})]})]})})}),c("div",{children:c(de,{children:g("div",{className:"p-6",children:[c("h3",{className:"text-lg font-semibold mb-4",children:"Akcje"}),g("div",{className:"space-y-3",children:[c(ae,{variant:"outline",className:"w-full",onClick:()=>r("/beneficiary/my-requests"),children:"Powrót do listy"}),x.status==="pending"&&c(ae,{variant:"outline",className:"w-full",children:"Edytuj zlecenie"})]})]})})})]})}),N==="service"&&(m==null?void 0:m.contractor_offers)&&m.contractor_offers.length>0&&g(Ge,{children:[c("h3",{className:"text-lg font-semibold mb-4",children:"Oferty wykonawców"}),c("div",{className:"space-y-4",children:m.contractor_offers.map(M=>c(de,{children:c("div",{className:"p-6",children:g("div",{className:"flex justify-between items-start",children:[g("div",{className:"flex-1",children:[g("div",{className:"flex items-center gap-2 mb-2",children:[g("span",{className:"font-medium text-lg",children:[M.price.toLocaleString("pl")," zł"]}),c("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.status==="pending"?"bg-yellow-100 text-yellow-800":M.status==="accepted"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:M.status==="pending"?"Oczekująca":M.status==="accepted"?"Zaakceptowana":"Odrzucona"})]}),c("p",{className:"text-slate-600 mb-3",children:M.scope}),g("p",{className:"text-sm text-slate-500",children:["Złożona: ",new Date(M.created_at).toLocaleDateString("pl")]})]}),M.status==="pending"&&g("div",{className:"flex gap-2 ml-4",children:[c(ae,{variant:"primary",size:"sm",onClick:()=>z(M.id),children:"Akceptuj"}),c(ae,{variant:"outline",size:"sm",onClick:()=>I(M.id),children:"Odrzuć"})]})]})})},M.id))})]}),N==="audit"&&(k==null?void 0:k.auditor_offers)&&k.auditor_offers.length>0&&g(Ge,{children:[c("h3",{className:"text-lg font-semibold mb-4",children:"Oferty audytorów"}),c("div",{className:"space-y-4",children:k.auditor_offers.map(M=>c(de,{children:c("div",{className:"p-6",children:g("div",{className:"flex justify-between items-start",children:[g("div",{className:"flex-1",children:[g("div",{className:"flex items-center gap-2 mb-2",children:[g("span",{className:"font-medium text-lg",children:[M.price.toLocaleString("pl")," zł"]}),c("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.status==="pending"?"bg-yellow-100 text-yellow-800":M.status==="accepted"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:M.status==="pending"?"Oczekująca":M.status==="accepted"?"Zaakceptowana":"Odrzucona"})]}),g("p",{className:"text-slate-600 mb-3",children:["Czas realizacji: ",M.duration_days," dni"]}),g("p",{className:"text-sm text-slate-500",children:["Złożona: ",new Date(M.created_at).toLocaleDateString("pl")]})]}),M.status==="pending"&&g("div",{className:"flex gap-2 ml-4",children:[c(ae,{variant:"primary",size:"sm",onClick:()=>L(M.id),children:"Akceptuj"}),c(ae,{variant:"outline",size:"sm",onClick:()=>D(M.id),children:"Odrzuć"})]})]})})},M.id))})]})]}):c(mt,{children:c(Ge,{children:c(Ce,{type:"error",title:"Błąd",message:"Nie udało się załadować szczegółów zlecenia."})})})},Dk=()=>{const s=Zt(),r=xr(),n="current-beneficiary-id",[a,o]=R.useState({postal_code:"",city:"",street_address:"",phone_number:"",heat_source:void 0,windows_count:void 0,doors_count:void 0,wall_insulation_m2:void 0,attic_insulation_m2:void 0}),[u,h]=R.useState({}),{mutate:m,isPending:p,error:y}=Ft({mutationFn:w=>vr.createServiceRequest({...w,beneficiary_id:n}),onSuccess:()=>{r.invalidateQueries({queryKey:["service-requests"]}),s("/beneficiary/my-requests")}}),_=()=>{const w={};return a.postal_code.trim()||(w.postal_code="Kod pocztowy jest wymagany"),a.city.trim()||(w.city="Miasto jest wymagane"),a.street_address.trim()||(w.street_address="Adres jest wymagany"),a.phone_number.trim()||(w.phone_number="Telefon jest wymagany"),h(w),Object.keys(w).length===0};return g(mt,{children:[c(qr,{title:"Nowe Zlecenie Wykonawcy",subtitle:"Utwórz zlecenie dla wykonawców"}),g(Ge,{children:[y&&c(Ce,{type:"error",title:"Błąd",message:"Nie udało się utworzyć zlecenia."}),c(de,{children:g("form",{onSubmit:w=>{w.preventDefault(),_()&&m(a)},className:"p-6 space-y-6",children:[g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[c(Nn,{className:"w-4 h-4"})," Kod pocztowy"]})}),c("input",{type:"text",value:a.postal_code,onChange:w=>{o(k=>({...k,postal_code:w.target.value})),h(k=>({...k,postal_code:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${u.postal_code?"border-red-500":"border-slate-300"}`,placeholder:"XX-XXX"}),u.postal_code&&c("p",{className:"text-red-500 text-sm mt-1",children:u.postal_code})]}),g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:"Miasto"}),c("input",{type:"text",value:a.city,onChange:w=>{o(k=>({...k,city:w.target.value})),h(k=>({...k,city:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${u.city?"border-red-500":"border-slate-300"}`,placeholder:"Nazwa miasta"}),u.city&&c("p",{className:"text-red-500 text-sm mt-1",children:u.city})]})]}),g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[c(hy,{className:"w-4 h-4"})," Adres"]})}),c("input",{type:"text",value:a.street_address,onChange:w=>{o(k=>({...k,street_address:w.target.value})),h(k=>({...k,street_address:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${u.street_address?"border-red-500":"border-slate-300"}`,placeholder:"Ulica i numer domu"}),u.street_address&&c("p",{className:"text-red-500 text-sm mt-1",children:u.street_address})]}),g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:g("div",{className:"flex items-center gap-2",children:[c(ts,{className:"w-4 h-4"})," Telefon"]})}),c("input",{type:"tel",value:a.phone_number,onChange:w=>{o(k=>({...k,phone_number:w.target.value})),h(k=>({...k,phone_number:void 0}))},className:`w-full px-3 py-2 border rounded-md focus:ring-2 ${u.phone_number?"border-red-500":"border-slate-300"}`,placeholder:"XXX XXX XXX"}),u.phone_number&&c("p",{className:"text-red-500 text-sm mt-1",children:u.phone_number})]}),g("div",{className:"border-t pt-6",children:[c("h3",{className:"text-lg font-medium mb-4",children:"Parametry techniczne (opcjonalne)"}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:"Źródło ciepła"}),g("select",{value:a.heat_source||"",onChange:w=>o(k=>({...k,heat_source:w.target.value||void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2",children:[c("option",{value:"",children:"Wybierz..."}),c("option",{value:"pompa_ciepla",children:"Pompa ciepła"}),c("option",{value:"piec_pellet",children:"Piec na pellet"}),c("option",{value:"piec_zgazowujacy",children:"Piec zgazowujący"})]})]}),g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:"Liczba okien"}),c("input",{type:"number",min:"0",value:a.windows_count||"",onChange:w=>o(k=>({...k,windows_count:w.target.value?Number(w.target.value):void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2",placeholder:"0"})]}),g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:"Liczba drzwi"}),c("input",{type:"number",min:"0",value:a.doors_count||"",onChange:w=>o(k=>({...k,doors_count:w.target.value?Number(w.target.value):void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2",placeholder:"0"})]}),g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:"Izolacja ścian (m²)"}),c("input",{type:"number",min:"0",value:a.wall_insulation_m2||"",onChange:w=>o(k=>({...k,wall_insulation_m2:w.target.value?Number(w.target.value):void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2",placeholder:"0"})]}),g("div",{children:[c("label",{className:"block text-sm font-medium mb-2",children:"Izolacja poddasza (m²)"}),c("input",{type:"number",min:"0",value:a.attic_insulation_m2||"",onChange:w=>o(k=>({...k,attic_insulation_m2:w.target.value?Number(w.target.value):void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2",placeholder:"0"})]})]})]}),g("div",{className:"flex gap-3 pt-4",children:[c(ae,{variant:"primary",disabled:p,className:"flex-1",children:p?"Tworzenie…":"Utwórz zlecenie"}),c(ae,{variant:"outline",onClick:()=>s("/beneficiary/my-requests"),children:"Anuluj"})]})]})})]})]})},Mk=new Iv({});function Fk(){return g(Wv,{client:Mk,children:[c(R_,{children:c(gw,{children:g("main",{className:" min-h-screen",children:[g(V0,{children:[Kx(),Jx(),ek(),Tk(),_k(),wk(),Ek()]}),c("div",{className:"fixed bottom-4 right-4 z-40",children:c(rk,{})})]})})}),c(Cw,{})]})}const Uk=document.getElementById("root"),qk=wv.createRoot(Uk);qk.render(c(fv.StrictMode,{children:c(Fk,{})}));export{fm as a,dv as g};
